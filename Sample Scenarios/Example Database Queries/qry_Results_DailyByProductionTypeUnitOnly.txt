-----------------------------------------------------------------------------------------------
--	Sample Query: Results Daily by Production type UNIT Only
--	Date:         3/19/2015
--      By:           Schoenbaum, Missy
--
--      Notes: where clause 1=1 allows for easy editing of subsequent clauses
--             where clause rowid < 100 allows for return of a subset of data, which is quicker when tuning
--             -- allows for line to be commented  (omitted)
--      Naming Conventions are built with the following abbreviations - wiki provides more documentation
--      U = Unit A - Animal c - cumulative n - new w - waiting
--      tsd - traistion state daily
--      exp - exposure, from a contact method Air - airborn, Dir - direct or Ind - Indirect
--      adq - adequate exposure to cause infection from a contact method Air - airborn, Dir - direct or Ind - Indirect
--      inf - infection, which from a contact method Air - airborn, Dir - direct or Ind - Indirect
--      det - detection, from Clin - clinical exam or Test - testing
--      tr  - tracing of Dir - direct contact or Ind - Indirect  p indicates all possible traces
--      exm - exam based on Dir - direct contact or Ind - Indirect and also forward - fwd or backwards back
--      des - possibily cause by a RING trigger
--      vac - vaccination possibily cause by a RING trigger
----------------------------------------------------------------------------------------
SELECT --*
--r.id,  -- unique record identifier, not particularly useful
iteration,
day,
--production_type_id -- not useful, instead use case statement to pull in real name or assign name
CASE WHEN name IS NULL  THEN "ALL" ELSE  name END as productiontype,
last_day,
-- Transition State Daily  Unit
tsdUSusc,
tsdULat,
tsdUSubc,
tsdUClin,
tsdUNImm,
tsdUVImm,
tsdUDest,
-- Exposure by UNIT COUNTS
expcU,    -- NAMING EXAMPLE  Exposure Cumulative by Unit
expcUAir,
expcUDir,
expcUInd,
expnU,    -- NAMING EXAMPLE  Exposure New by Unit
expnUAir,
expnUDir,
expnUInd,
-- Adequate Exposure for Infection
-- At a UNIT LEVEL ONLY
adqcU,
adqcUAir,
adqcUDir,
adqcUInd,
adqnU,
adqnUAir,
adqnUDir,
adqnUInd,
-- Infection by Unit
infcU,
infcUAir,
infcUDir,
infcUInd,
infcUIni,
infnU,
infnUAir,
infnUDir,
infnUInd,
infnUIni,
-- Detection by Unit
detcU,
detcUClin,
detcUTest,
detnU,
detnUClin,
detnUTest,
-- Detection First and Last
firstDetection,
firstDetectionClin,
firstDetectionTest,
lastDetection,
lastDetectionClin,
lastDetectionTest,
-- Tracing  by unit
trcU,
trcUDir,  -- remember, these were actually traced at some percentage LESS THAN 100%
trcUDirp,  -- the p indicates a count of all POSSIBLE units that could have been traced - 100%
trcUInd,
trcUIndp,
trcUp,
trnU,
trnUDir,
trnUDirp,
trnUInd,
trnUIndp,
trnUp,
-- Exams by Unit, recall tracing must be used to do a clinical exam
exmcU,
exmcUDet,
exmcUDirBack,
exmcUDirFwd,
exmcUIndBack,
exmcUIndFwd,
exmcURing,
exmnU,
exmnUDet,
exmnUDirBack,
exmnUDirFwd,
exmnUIndBack,
exmnUIndFwd,
exmnURing,
-- Testing by Unit recall tracing must be used to do testing
tstcU,
tstcUDirBack,
tstcUDirFwd,
tstcUFalseNeg,
tstcUFalsePos,
tstcUIndBack,
tstcUIndFwd,
tstcUTrueNeg,
tstcUTruePos,
tstnU,
tstnUDirBack,
tstnUDirFwd,
tstnUFalseNeg,
tstnUFalsePos,
tstnUIndBack,
tstnUIndFwd,
tstnUTrueNeg,
tstnUTruePos,
-- Destruction
firstDestruction,
firstDestructionDet,
firstDestructionDirBack,
firstDestructionDirFwd,
firstDestructionIndBack,
firstDestructionIndFwd,
firstDestructionRing,
-- Destruction by unit
descU,
descUDet,
descUDirBack,
descUDirFwd,
descUIndBack,
descUIndFwd,
descUIni,
descURing,
desnU,
desnUDet,
desnUDirBack,
desnUDirFwd,
desnUIndBack,
desnUIndFwd,
desnUIni,
desnURing,
deswU,
-- Vaccination
firstVaccination,
firstVaccinationRing,
-- Vaccination by Unit
vaccU,
vaccUIni,
vaccURing,
vacnU,
vacnUIni,
vacnURing,
vacwU,
vacwUDaysInQueue,
vacwUMax,
vacwUMaxDay,
vacwUTimeAvg,
vacwUTimeMax
FROM  Results_dailybyproductiontype r
Left join    -- left join here because the NULL production type indcates ALL, note case statement to manage this
ScenarioCreator_productiontype pt
 on r.production_type_id = pt.id
 -- Example of WHERE clause
WHERE 1=1
AND r.ROWID < 100
