<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>0 km radius</short-name>

  <description>
    Test a scenario with 0 km radius ring vaccination.  No units will be
    vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_0</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The vaccine produces immunity immediately, and the immunity lasts 3 days.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.
  </parameter-description>

  <diagram>16units_square_w_ring_radius_0</diagram>

  <output>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>0 km radius, check reporting variables</short-name>

  <description>
    Test a scenario with 0 km radius ring vaccination.  No units will be
    vaccinated.  This scenario is idential to "0 km radius" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 May 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_0_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "0 km radius" above.
  </parameter-description>

  <diagram>16units_square_w_ring_radius_0</diagram>

  <output>
    <tr>
      <td>vaccOccurred</td>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>0 km radius, vaccinate detected units, check reporting variables</short-name>

  <description>
    Test a scenario with 0 km radius ring vaccination, with the option to
    vaccinate detected units turned on.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_0_vacc_detected_w_vars</parameter-file>

  <parameter-description>
    Parameters: This scenario is identical to "0 km radius" above, but with the
    option to vaccinate detected units turned on.
  </parameter-description>

  <diagram>16units_square_w_ring_radius_0</diagram>

  <output>
    <tr>
      <td>vaccOccurred</td>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>0.5 km radius</short-name>

  <description>
    Run again, but with 0.5 km radius ring vaccination.  The closest units are
    1 km away, so again no units will be vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_0.5</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The vaccine produces immunity immediately, and the immunity lasts 3 days.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.
  </parameter-description>

  <diagram>16units_square_w_ring_radius_0.5</diagram>

  <output>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>1 km radius</short-name>

  <description>
    Run again, but with 1 km radius ring vaccination.  Units 2, 5, 7, and 10
    should be vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The vaccine produces immunity immediately, and the immunity lasts 3 days.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.
  </parameter-description>

  <diagram>16units_square_w_ring_radius_1</diagram>

  <output>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>2.5 km radius</short-name>

  <description>
    Run again, but with 2.5 km radius ring vaccination.  All units except 12
    should be vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_2.5</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The vaccine produces immunity immediately, and the immunity lasts 3 days.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.
  </parameter-description>

  <diagram>16units_square_w_ring_radius_2.5</diagram>

  <output>
    <tr><td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>1 km radius, vaccine takes effect in 1 day</short-name>

  <description>
    Run again, but with 1 km radius ring vaccination and a 1 day delay for
    vaccination to take effect.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_1_delay_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The vaccine requires 1 day to produce immunity, and the immunity lasts 3
    days.  The authorities can vaccinate an unlimited/very large number of
    units each day.

    There is no spread or destruction.
  </parameter-description>

  <diagram>16units_square_w_ring_radius_1</diagram>

  <output>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>1 km radius, vaccine takes effect in 2 days</short-name>

  <description>
    Run again, but with 1 km radius ring vaccination and a 2 day delay for
    vaccination to take effect.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>radius_1_delay_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 4 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    The vaccine requires 2 days to produce immunity, and the immunity lasts 3
    days.  The authorities can vaccinate an unlimited/very large number of
    units each day.

    There is no spread or destruction.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<stochastic-test>
  <category>ring_vaccination</category>
  <short-name>infection vs. vaccination on same day</short-name>

  <description>
    Test the choice of whether infection or vaccination takes effect when both
    happen on the same day.  The two outcomes should be chosen with equal
    probability.    
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 March 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>
  
  <parameter-file>spread_radius_10</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    The movement rate is fixed at 1 shipment each day.  The distance of
    shipments is fixed at 10 km, and the delay is 1 day.  Latent units cannot
    be the source of an exposure.  The probability of infection given exposure
    is 1.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The vaccine produces immunity immediately, and the immunity lasts 3 days.
    The authorities can vaccinate an unlimited/very large number of units each
    day.
    
    There is no destruction.

    What should happen:
     - On day 1 unit 0 will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will ship to unit 1.
       Unit 0 will be detected, and unit 1 will be marked for vaccination.
     - On day 3 the shipment will arrive at unit 1 and unit 1 will be
       vaccinated.  Half of the time the vaccination will happen "first" and
       the other half of the time the infection will happen "first".
     - On day 4 unit 1 will be either Latent or Vaccine Immune.
  </parameter-description>

  <!-- probability that unit becomes Vaccine Immune = probability that the
    vaccination happens "before" the infection (0.5). -->
  <output probability="0.5">
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
  </output>

  <!-- probability that unit become Latent = probability that the infection
    happens "before" the vaccination (0.5). -->
  <output probability="0.5">
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td></tr>
  </output>
</stochastic-test>

<stochastic-variable-test>
  <category>ring_vaccination</category>
  <short-name>infection vs. vaccination on same day, check reporting variables</short-name>

  <description>
    Test the reporting of the number of new infections when infection and
    vaccination (with immediate effect) happen on the same day.  If the
    vaccination happens "first", the infection should not be recorded.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>10 September 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>
  
  <parameter-file>spread_radius_10_w_vars</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    The movement rate is fixed at 1 shipment each day.  The distance of
    shipments is fixed at 10 km, and the delay is 1 day.  Latent units cannot
    be the source of an exposure.  The probability of infection given exposure
    is 1.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The vaccine produces immunity immediately, and the immunity lasts 3 days.
    The authorities can vaccinate an unlimited/very large number of units each
    day.
    
    There is no destruction.

    What should happen:
     - On day 1 unit 0 will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will ship to unit 1.
       Unit 0 will be detected, and unit 1 will be marked for vaccination.
     - On day 3 the shipment will arrive at unit 1 and unit 1 will be
       vaccinated.  Half of the time the vaccination will happen "first" and
       the other half of the time the infection will happen "first".
     - On day 4 unit 1 will be either Latent or Vaccine Immune.
  </parameter-description>

  <!-- probability that unit becomes Vaccine Immune = probability that the
    vaccination happens "before" the infection (0.5). -->
  <output probability="0.5">
    <tr>
      <td>vacnU</td>
      <td>expnU</td>
      <td>infnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>1</td>  <td>0</td></tr>
  </output>

  <!-- probability that unit becomes Latent = probability that the infection
    happens "before" the vaccination (0.5). -->
  <output probability="0.5">
    <tr>
      <td>vacnU</td>
      <td>expnU</td>
      <td>infnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>1</td>  <td>1</td></tr>
  </output>
</stochastic-variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>unchecked spread 1 km</short-name>

  <description>
    Test a scenario where the disease is spreading.  Use airborne spread with
    infection certain at 1 km but prevent spread farther than 1 km.

    In this first test there is no vaccination, to confirm that spread acts as
    we expect.  The disease should spread every second day because of the 1 day
    latent period.  It should spread outward in a ring; the immunity period
    should prevent spread back inward.  So:
    
    units 2, 5, 7, and 10 should become infected on day 2

    units 1, 3, 4, 9, 11, and 14 should become infected on day 4
    
    units 0, 8, 13, and 16 should become infected on day 6

    unit 12 should become infected on day 8    
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>spread</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    The probability of airborne spread at 1 km is 0.505, and the maximum
    distance of airborne spread is 25 km.

    There is no detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>spread 1 km + 1 km radius vaccination</short-name>

  <description>
    Run again, but with 1 km ring vaccination and a 1-day delay for vaccine to
    take effect.  This should not prevent spread.  When the index unit (6) is
    diagnosed, its immediate neighbours (units 2, 5, 7, and 10) will be
    vaccinated.  But they will be infected on that same day, so by the next day
    they will already be latent.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>spread_radius_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    The probability of airborne spread at 1 km is 0.505, and the maximum
    distance of airborne spread is 25 km.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    The vaccine requires 1 day to produce immunity, and the immunity lasts 3
    days.  The authorities can vaccinate an unlimited/very large number of
    units each day.
    
    There is no destruction.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>spread 1 km + 2.5 km radius vaccination</short-name>

  <description>
    Run again, but with 2.5 km ring vaccination.  This will not prevent spread,
    but it will protect units 0, 8, 13, and 16 by the time the infection gets
    to them.  Unit 12 is outside the 2.5 km radius, so it will not be
    vaccinated in the first round, but once the secondary infections are
    detected, it too will be vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 December 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>16units_square</population-file>

  <parameter-file>spread_radius_2.5</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    The probability of airborne spread at 1 km is 0.505, and the maximum
    distance of airborne spread is 25 km.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    The vaccine requires 1 day to produce immunity, and the immunity lasts 3
    days.  The authorities can vaccinate an unlimited/very large number of
    units each day.
    
    There is no destruction.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>    <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>         <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>    <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>         <td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>VaccineImmune</td>  <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td>              <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>Latent</td>              <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>    <td>VaccineImmune</td>  <td>Latent</td>              <td>VaccineImmune</td></tr>
    <tr><td>VaccineImmune</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>VaccineImmune</td>  <td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>VaccineImmune</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>InfectiousClinical</td>  <td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>Susceptible</td>    <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>         <td>NaturallyImmune</td>     <td>Susceptible</td>    <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>Susceptible</td>    <td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>different production types, same parameters</short-name>

  <description>
    Test a scenario with two production types with the same vaccine parameters.
    In this scenario, a sheep unit is initially infected, and when it is
    detected, the nearby cattle and pig units should be vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 July 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>2species_same_params</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 5
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  No parameters are set for the disease in cattle or pigs.

    There is no spread.
    
    The probability of detecting diseased sheep vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased sheep vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.  No parameters are set for detecting
    diseased cattle or pigs.

    The authorities will vaccinate cattle and pig units within 20 km of a
    diseased sheep unit.  The vaccine produces immunity immediately, and the
    immunity lasts 3 days.  The authorities can vaccinate an unlimited/very
    large number of units each day.

    There is no destruction.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 2 unit 0 (sheep) will be detected and units 1 and 2
        will be slated for vaccination.
      &lt;li&gt; On day 3 units 1 and 2 will be vaccinated.
      &lt;li&gt; Starting on day 4 and ending on day 6, units 1 and 2 will be
        immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>different production types, different parameters</short-name>

  <description>
    Test a scenario with two production types with different vaccine
    parameters.  In this scenario, a sheep unit is initially infected, and when
    it is detected, the nearby cattle and pig units should be vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 July 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>2species_diff_params</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 5
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  No parameters are set for the disease in cattle or pigs.

    There is no spread.
    
    The probability of detecting diseased sheep vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased sheep vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.  No parameters are set for detecting
    diseased cattle or pigs.

    The authorities will vaccinate cattle and pig units within 20 km of a
    diseased sheep unit.  For cattle (unit 1), the vaccine produces immunity
    immediately, and the immunity lasts 3 days.  For pigs (unit 2), the vaccine
    requires 1 day to produce immunity, and the immunity lasts 1 day.  The
    authorities can vaccinate an unlimited/very large number of units each day.

    There is no destruction.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 2 unit 0 (sheep) will be detected and units 1 and 2
        will be slated for vaccination.
      &lt;li&gt; On day 3 units 1 and 2 will be vaccinated.
      &lt;li&gt; Starting on day 4 and ending on day 6, unit 1 will be immune.
      &lt;li&gt; For day 5 only, unit 2 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>re-vaccination 1</short-name>

  <description>
    Test that re-vaccination resets the countdown for returning to susceptible.
    This is a baseline scenario with no re-vaccination.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>revaccinate_0</parameter-file>

  <parameter-description>
    For pigs (unit 2), the latent period lasts 1 day, infectiousness lasts 6
    days, clinical signs accompany infectiousness immediately, and natural
    immunity lasts 3 days.  For sheep (unit 0), the latent period is 3 days
    longer.

    There is no spread.
    
    The probability of detecting diseased pigs and sheep vs. the number of days
    they have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pigs and sheep vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  No parameters are set for
    detecting diseased cattle.

    The authorities require 6 days to start up a destruction program, after
    which they can destroy 2 units per day.  The authorities will vaccinate
    cattle units within 10 km of a detection.  For cattle, the vaccine produces
    immunity immediately, and the immunity lasts 3 days.  The authorities will
    not re-vaccinate a unit for 31 days after a vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (sheep) and 2 (pigs) will be latent.
      &lt;li&gt; On day 2 unit 2 (pigs) will be Infectious Clinical.  It will
        be detected and marked for destruction.  Unit 1 (cattle) will be
	marked for vaccination because it is within 10 km of unit 2.
      &lt;li&gt; On day 3 unit 1 (cattle) will be vaccinated.
      &lt;li&gt; On day 4 unit 1 (cattle) will be Vaccine Immune.
      &lt;li&gt; On day 5 unit 0 (sheep) will be Infectious Clinical.  It will
        be detected and marked for destruction.  Unit 1 (cattle) will not be
	vaccinated because too few days have passed since the last time.
      &lt;li&gt; On day 6 nothing new will happen.
      &lt;li&gt; On day 7 (3 days after becoming Vaccine Immune) unit 1 will
        return to Susceptible.
      &lt;li&gt; On day 8 (5 days after the first detection) units 0 and 2 will
        be destroyed.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>re-vaccination 2</short-name>

  <description>
    Test that re-vaccination resets the countdown for returning to susceptible.
    In this scenario, a unit's immune period is extended by re-vaccination.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>revaccinate_1</parameter-file>

  <parameter-description>
    For pigs (unit 2), the latent period lasts 1 day, infectiousness lasts 6
    days, clinical signs accompany infectiousness immediately, and natural
    immunity lasts 3 days.  For sheep (unit 0), the latent period is 3 days
    longer.

    There is no spread.
    
    The probability of detecting diseased pigs and sheep vs. the number of days
    they have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pigs and sheep vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  No parameters are set for
    detecting diseased cattle.

    The authorities require 6 days to start up a destruction program, after
    which they can destroy 2 units per day.  The authorities will vaccinate
    cattle units within 10 km of a detection.  For cattle, the vaccine produces
    immunity immediately, and the immunity lasts 3 days.  The authorities will
    re-vaccinate a unit if it has been 1 or more days since the last
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (sheep) and 2 (pigs) will be latent.
      &lt;li&gt; On day 2 unit 2 (pigs) will be Infectious Clinical.  It will
        be detected and marked for destruction.  Unit 1 (cattle) will be
	vaccinated because it is within 10 km of unit 2.
      &lt;li&gt; On day 3 unit 1 (cattle) will be Vaccine Immune.
      &lt;li&gt; On day 4 unit 0 (sheep) will be Infectious Clinical.  It will
        be detected and marked for destruction.  Unit 1 (cattle) will be
	re-vaccinated.
      &lt;li&gt; On day 5 nothing new will happen.
      &lt;li&gt; On day 6 nothing new will happen.
      &lt;li&gt; On day 7 (5 days after the first detection) units 0 and 2 will
        be destroyed.
      &lt;li&gt; On day 8 (3 days after its "renewed" immunity period began on
        day 5) unit 1 will return to Susceptible.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>re-vaccination with 2 production types</short-name>

  <description>
    Test that the minimum number of days between re-vaccination is respected.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 May 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>revaccinate_2_prodtypes</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, the infectious clinical period
    lasts 2 days, and immunity lasts 3 days.  Pigs are similar but the latent
    period is 5 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased unit is detected, that unit is destroyed, and all units
    within 2.5 km will be vaccinated.  The vaccine produces immunity
    immediately, and the immunity lasts 3 days in cattle, 4 in pigs.  The
    minimum time between vaccinations is 4 days for cattle, 5 for pigs.  The
    authorities can vaccinate or destroy an unlimited/very large number of
    units each day.

    There is no spread.

    What should happen:
     - On day 1 units 0 and 1 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected and
       marked for destruction, and all the other units will be marked for
       vaccination (including unit 1, because no-one knows it is infected yet).
     - On day 3 unit 0 will be destroyed and units 1-5 will be vaccinated.
       Their states will show the change on the next day.
     - On day 6 unit 1 will be Infectious Clinical.  It will be detected and
       marked for destruction, and all the remaining non-destroyed units will
       be marked for vaccination.  (We don't know how long it will be before
       vaccination can be done, so we make the request for all units in the
       ring, ignoring the minimum time between vaccinations.)
     - On day 7 units 2 and 4 will be re-vaccinated because it has been 4 days
       since their last vaccination.  Units 3 and 5 will not, because there is
       a minimum 5 day wait for their production type.
  </parameter-description>

  <output>
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>D</td>  <td>L</td>  <td>V</td>  <td>V</td>  <td>V</td>  <td>V</td></tr>
    <tr><td>D</td>  <td>L</td>  <td>V</td>  <td>V</td>  <td>V</td>  <td>V</td></tr>
    <tr><td>D</td>  <td>C</td>  <td>V</td>  <td>V</td>  <td>V</td>  <td>V</td></tr>
    <tr><td>D</td>  <td>C</td>  <td>S</td>  <td>V</td>  <td>S</td>  <td>V</td></tr>
    <tr><td>D</td>  <td>D</td>  <td>V</td>  <td>S</td>  <td>V</td>  <td>S</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>re-vaccination with 2 production types, check reporting variables</short-name>

  <description>
    Test that the minimum number of days between re-vaccination is respected.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 May 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>revaccinate_2_prodtypes_w_vars</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, the infectious clinical period
    lasts 2 days, and immunity lasts 3 days.  Pigs are similar but the latent
    period is 5 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased unit is detected, that unit is destroyed, and all units
    within 2.5 km will be vaccinated.  The vaccine produces immunity
    immediately, and the immunity lasts 3 days in cattle, 4 in pigs.  The
    minimum time between vaccinations is 4 days for cattle, 5 for pigs.  The
    authorities can vaccinate or destroy an unlimited/very large number of
    units each day.

    There is no spread.

    What should happen:
     - On day 1 units 0 and 1 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected and
       marked for destruction, and all the other units will be marked for
       vaccination (including unit 1, because no-one knows it is infected yet).
     - On day 3 unit 0 will be destroyed and units 1-5 will be vaccinated.
       Their states will show the change on the next day.
     - On day 6 unit 1 will be Infectious Clinical.  It will be detected and
       marked for destruction, and all the remaining non-destroyed units will
       be marked for vaccination.  (We don't know how long it will be before
       vaccination can be done, so we make the request for all units in the
       ring, ignoring the minimum time between vaccinations.)
     - On day 7 units 2 and 4 will be re-vaccinated because it has been 4 days
       since their last vaccination.  Units 3 and 5 will not, because there is
       a minimum 5 day wait for their production type.  The number of units
       awaiting vaccination should drop from 4 to 0, even though only 2 units
       were vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>5</td> <td>0</td></tr>
    <tr><td>0</td> <td>5</td></tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>4</td> <td>0</td></tr>
    <tr><td>0</td> <td>2</td></tr>
    <tr><td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>none trigger, none vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this baseline
    scenario, no production types trigger vaccination rings and no production
    types are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>none_trigger_none_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  There is no
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>cattle trigger, cattle vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, only cattle units detected as diseased trigger vaccination rings,
    and only cattle units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>cattle_trigger_cattle_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle within 1.5 km of a detected cattle unit.
    The vaccine produces immunity immediately, and the immunity lasts 5 days.
    The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Unit 2 will be marked for
        vaccination because it is a cattle unit within 1.5 km of a detected
        cattle unit.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and unit 2 will be
        vaccinated.
      &lt;li&gt; On day 4 unit 2 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>cattle trigger, pigs vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, only cattle units detected as diseased trigger vaccination rings,
    and only pig units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>cattle_trigger_pigs_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate pigs within 1.5 km of a detected cattle unit.
    The vaccine produces immunity immediately, and the immunity lasts 5 days.
    The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Unit 3 will be marked for
        vaccination because it is a pig unit within 1.5 km of a detected cattle
        unit.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and unit 3 will be
        vaccinated.
      &lt;li&gt; On day 4 unit 3 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>cattle trigger, both vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, only cattle units detected as diseased trigger vaccination rings,
    but both cattle and pig units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>cattle_trigger_both_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle and pigs within 1.5 km of a detected
    cattle unit.  The vaccine produces immunity immediately, and the immunity
    lasts 5 days.  The authorities will not re-vaccinate a unit for 31 days
    after a vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Units 2 and 3 will be marked
        for vaccination because they are cattle and pig units, respectively,
        within 1.5 km of a detected cattle unit.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and units 2 and 3
        will be vaccinated.
      &lt;li&gt; On day 4 units 2 and 3 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>pigs trigger, cattle vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, only pig units detected as diseased trigger vaccination rings,
    and only cattle units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>pigs_trigger_cattle_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle within 1.5 km of a detected pig unit.
    The vaccine produces immunity immediately, and the immunity lasts 5 days.
    The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Unit 4 will be marked for
        vaccination because it is a cattle unit within 1.5 km of a detected
        pig unit.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and unit 4 will be
        vaccinated.
      &lt;li&gt; On day 4 unit 4 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>pigs trigger, pigs vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, only pig units detected as diseased trigger vaccination rings,
    and only pig units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>pigs_trigger_pigs_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate pigs within 1.5 km of a detected pig unit.  The
    vaccine produces immunity immediately, and the immunity lasts 5 days.  The
    authorities will not re-vaccinate a unit for 31 days after a vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Unit 5 will be marked for
        vaccination because it is a pig unit within 1.5 km of a detected pig
        unit.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and unit 5 will be
        vaccinated.
      &lt;li&gt; On day 4 unit 5 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>pigs trigger, both vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, only pig units detected as diseased trigger vaccination rings,
    but both cattle and pig units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>pigs_trigger_both_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle and pigs within 1.5 km of a detected pig
    unit.  The vaccine produces immunity immediately, and the immunity lasts 5
    5 days.  The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Units 4 and 5 will be marked
        for vaccination because they are cattle and pig units, respectively,
        within 1.5 km of a detected pig unit.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and units 4 and 5
        will be vaccinated.
      &lt;li&gt; On day 4 units 4 and 5 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>both trigger, cattle vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, cattle and pig units detected as diseased trigger vaccination
    rings, but only cattle units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>both_trigger_cattle_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle within 1.5 km of a detected cattle or pig
    unit.  The vaccine produces immunity immediately, and the immunity lasts 5
    days.  The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Units 2 and 4 will be marked
        for vaccination because they are cattle units within 1.5 km of a
        detected cattle and pig unit, respectively.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and units 2 and 4
        will be vaccinated.
      &lt;li&gt; On day 4 units 2 and 4 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>VaccineImmune</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>both trigger, pigs vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, cattle and pig units detected as diseased trigger vaccination
    rings, but only pig units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>both_trigger_pigs_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate pigs within 1.5 km of a detected cattle or pig
    unit.  The vaccine produces immunity immediately, and the immunity lasts 5
    days.  The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Units 3 and 5 will be marked
        for vaccination because they are pig units within 1.5 km of a detected
        cattle and pig unit, respectively.
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and units 3 and 5
        will be vaccinated.
      &lt;li&gt; On day 4 units 3 and 5 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>both trigger, both vaccinated</short-name>

  <description>
    Test that production types that trigger vaccination rings and production
    types that are vaccinated can be specified independently.  In this
    scenario, cattle and pig units detected as diseased trigger vaccination
    rings, and both cattle and pig units in the rings are vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>both_trigger_both_vacc</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle and pigs within 1.5 km of a detected
    cattle or pig unit.  The vaccine produces immunity immediately, and the
    immunity lasts 5 days.  The authorities will not re-vaccinate a unit for 31
    days after a vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  They will
        be detected and marked for destruction.  Units 2, 3, 4 and 5 will be
        marked for vaccination because they are a cattle unit within 1.5 km of
        a detected cattle unit (2), a pig unit within 1.5 km of a detected
        cattle unit (3), a cattle unit within 1.5 km of a detected pig unit
        (4), and a pig unit within 1.5 km of a detected pig unit (5).
      &lt;li&gt; On day 3 units 0 and 1 will be destroyed, and units 2, 3, 4
        and 5 will be vaccinated.
      &lt;li&gt; On day 4 units 2, 3, 4 and 5 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>size vaccination rings by production type 1</short-name>

  <description>
    Test that the radius of a vaccination ring can be set by the production
    type that triggered the ring.  In this scenario, detection of a diseased
    cattle unit triggers a small vaccination ring.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>4 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>trigger_small_ring</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased cattle units vs. the number of days
    they have been showing clinical signs is fixed at 1. The probability of
    detecting diseased cattle units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  The probability of
    detecting diseased pig units is 0.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle and pigs within 1.5 km of a detected
    cattle unit, or within 2.5 km of a detected pig unit.  The authorities can
    vaccinate 1 unit per day.  Cattle have priority over pigs.
    
    The vaccine produces immunity immediately, and the immunity lasts 5 days.
    The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  Unit 0
        (cattle) will be detected and marked for destruction.  Units 2 and 3
        will be marked for vaccination because they are within 1.5 km of a
        detected cattle unit.
      &lt;li&gt; On day 3 unit 0 will be destroyed.  Unit 2 will be vaccinated
        because it is cattle.
      &lt;li&gt; On day 4 unit 2 will be immune.  Unit 3 will be vaccinated.
      &lt;li&gt; On day 5 unit 3 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>Susceptible</td>    <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td>     <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>size vaccination rings by production type 2</short-name>

  <description>
    Test that the radius of a vaccination ring can be set by the production
    type that triggered the ring.  In this scenario, detection of a diseased
    pig unit triggers a large vaccination ring.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>4 Nov 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>trigger_large_ring</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  The probability of
    detecting diseased cattle units is 0.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy an unlimited/very large number of units each day.  The
    authorities will vaccinate cattle and pigs within 1.5 km of a detected
    cattle unit, or within 2.5 km of a detected pig unit.  The authorities can
    vaccinate 3 units per day.  Cattle have priority over pigs.

    The vaccine produces immunity immediately, and the immunity lasts 5 days.
    The authorities will not re-vaccinate a unit for 31 days after a
    vaccination.

    Recapping what should happen as a result of all this:
    &lt;ul&gt;
      &lt;li&gt; On day 1 units 0 (cattle) and 1 (pigs) will be latent.
      &lt;li&gt; On day 2 units 0 and 1 will be Infectious Clinical.  Unit 1
        (pigs) will be detected and marked for destruction.  Units 0, 2, 3, 4
        and 5 will be marked for vaccination because they are within 2.5 km of a
        detected pig unit.
      &lt;li&gt; On day 3 unit 1 will be destroyed.  Units 0, 2 and 4 will be
        vaccinated because they are cattle.
      &lt;li&gt; On day 4 units 2 and 4 will be immune.  Units 3 and 5 will be
        vaccinated.
      &lt;li&gt; On day 5 units 3 and 5 will be immune.
    &lt;/ul&gt;  
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td>           <td>VaccineImmune</td>  <td>Susceptible</td>    <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>           <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>no quarantine on waiting units 1</short-name>

  <description>
    Test that units that are marked for vaccination are not quarantined while
    waiting for the vaccination to happen.  This is different from destruction,
    in which units are quarantined while waiting for the destruction to happen.
    
    In this test and the following two, there are three units of different
    production types:

    0-&gt;1  2

    Units 0 and 2 are infected; the middle unit 1 is not.  The effects on unit
    1 can be observed when a) unit 1 is marked for vaccination, b) unit 0
    attempts to ship to unit 1, and c) both.

    In this scenario, unit 1 is not marked for vaccination, and unit 0 attempts
    to ship to unit 1.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>26 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>quarantine_waiting_0</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    The movement rate from sheep units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 0 until the public is aware of the outbreak, then it
    immediately goes to 1.  (This is the opposite of what one might expect from
    movement controls; its purpose here is to make sure any contact we see
    between cattle units happens after the creation of vaccination rings, not
    before.)  There are no shipments between any other pairs of production
    types.

    Latent units can be the source of an exposure.
    
    The probability of infection given exposure is 1.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy 1 unit per day.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 5 km of a detected pig unit.  On the first day that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day and forward, the vaccination capacity is 1 unit per day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.  There will be no
       shipments because the movement rate multiplier is 0.
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  The 5 km radius vaccination
       ring drawn around unit 2 will not be large enough to cover unit 1.
     - On day 3 (1 day after the first detection) the movement rate multiplier
       will be 1.  Unit 0 (sheep) will ship to and infect unit 1 (cattle).
       Unit 2 will be destroyed.
     - On day 4 unit 1 will be Latent.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>no quarantine on waiting units 2</short-name>

  <description>
    Test that units that are marked for vaccination are not quarantined while
    waiting for the vaccination to happen.  This is different from destruction,
    in which units are quarantined while waiting for the destruction to happen.
    
    In this test and the following two, there are three units of different
    production types:

    0-&gt;1  2

    Units 0 and 2 are infected; the middle unit 1 is not.  The effects on unit
    1 can be observed when a) unit 1 is marked for vaccination, b) unit 0
    attempts to ship to unit 1, and c) both.

    In this scenario, unit 1 is marked for vaccination, and unit 0 does not
    attempt to ship to unit 1.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>26 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>quarantine_waiting_1</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    There are no shipments.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy 1 unit per day.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate cattle within 15 km of a detected pig unit.  On the first day of
    that vaccinations could occur, the vaccination capacity will be zero.  The
    next day and forward, the vaccination capacity is 1 unit per day.  The
    vaccine produces immunity immediately, and the immunity lasts 5 days.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  Unit 1 (cattle) will be marked
       for vaccination because it is within 15 km of a detected pig unit.
     - On day 3 unit 2 will be destroyed.  Unit 1 will not be vaccinated
       because the vaccination capacity is still 0.
     - On day 4 the vaccination capacity will be 1 and unit 1 will be
       vaccinated.
     - On day 5 unit 1 will be immune.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>VaccineImmune</td>       <td>Destroyed</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>no quarantine on waiting units 3</short-name>

  <description>
    Test that units that are marked for vaccination are not quarantined while
    waiting for the vaccination to happen.  This is different from destruction,
    in which units are quarantined while waiting for the destruction to happen.
    
    In this test and the following two, there are three units of different
    production types:

    0-&gt;1  2

    Units 0 and 2 are infected; the middle unit 1 is not.  The effects on unit
    1 can be observed when a) unit 1 is marked for vaccination, b) unit 0
    attempts to ship to unit 1, and c) both.

    In this scenario, unit 1 is marked for vaccination and unit 0 attempts to
    ship to unit 1.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>26 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>quarantine_waiting_2</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    The movement rate from sheep units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 0 until the public is aware of the outbreak, then it
    immediately goes to 1.  (This is the opposite of what one might expect from
    movement controls; its purpose here is to make sure any contact we see
    between cattle units happens after the creation of vaccination rings, not
    before.)  There are no shipments between any other pairs of production
    types.

    Latent units can be the source of an exposure.
    
    The probability of infection given exposure is 1.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities will destroy units that are detected as diseased.  The
    authorities can begin a destruction program immediately.  The authorities
    can destroy 1 unit per day.

    A vaccination program begins at the second detection.  The authorities will
    vaccinate cattle within 15 km of a detected pig unit.  On the first day of
    that vaccinations could occur, the vaccination capacity will be zero.  The
    next day and forward, the vaccination capacity is 1 unit per day.  The
    vaccine produces immunity immediately, and the immunity lasts 5 days.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.  There will be no
       shipments because the movement rate multiplier is 0.
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  Unit 1 (cattle) will be marked
       for vaccination because it is within 15 km of a detected pig unit.
     - On day 3 (1 day after the first detection) the movement rate multiplier
       will be 1.  Unit 0 (sheep) will ship to and infect unit 1 (cattle).
       Unit 2 will be destroyed.
     - On day 4 unit 1 will be Latent.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>early exit 1</short-name>

  <description>
    Test that the simulation's early-exit rules are followed with respect to
    units waiting for vaccination.
    
    In the tests "early exit" 1-3, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and unit 1 is marked for vaccination.
    Different effects can be observed when a) there are resources to vaccinate
    unit 1 immediately, b) there are no resources to vaccinate unit 1 at first,
    but resources eventually come on-line, or c) there are never resources to
    vaccinate unit 1.

    In this scenario, there are resources to vaccinate unit 1 immediately.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 Feb 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities can
    vaccinate an unlimited/very large number of units each day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 unit 1 will be vaccinated.
     - On day 4 unit 1's state will show as Immune.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>VaccineImmune</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 1, check reporting variables</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  This scenario is identical to "early exit 1"
    above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_1_w_vars</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities can
    vaccinate an unlimited/very large number of units each day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 unit 1 will be vaccinated.
     - On day 4 unit 1's state will show as Immune.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwA</td>
      <td>vacnU</td>
      <td>vacnA</td>
      <td>vacwUMax</td>
      <td>vacwAMax</td>
      <td>vacwUTimeMax</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td></td>  <td>0</td></tr>
    <tr><td>1</td>  <td>25</td> <td>0</td>  <td>0</td>  <td>1</td>  <td>25</td>   <td></td>  <td>0</td></tr>
    <tr><td>0</td>   <td>0</td> <td>1</td> <td>25</td>  <td>1</td>  <td>25</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>  <td>0</td>  <td>1</td>  <td>25</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>  <td>0</td>  <td>1</td>  <td>25</td>  <td>1</td>  <td>1</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>early exit 2</short-name>

  <description>
    Test that the simulation's early-exit rules are followed with respect to
    units waiting for vaccination.
    
    In the tests "early exit" 1-3, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and unit 1 is marked for vaccination.
    Different effects can be observed when a) there are resources to vaccinate
    unit 1 immediately, b) there are no resources to vaccinate unit 1 at first,
    but resources eventually come on-line, or c) there are never resources to
    vaccinate unit 1.

    In this scenario, there are no resources to vaccinate unit 1 at first, but
    resources eventually come on-line.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 Feb 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day and forward, the vaccination capacity is 1 unit per day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 unit 1 will be vaccinated.
     - On day 8 unit 1's state will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 2, check reporting variables</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  This scenario is identical to "early exit 2"
    above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_2_w_vars</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day and forward, the vaccination capacity is 1 unit per day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 unit 1 will be vaccinated.
     - On day 8 unit 1's state will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwA</td>
      <td>vacnU</td>
      <td>vacnA</td>
      <td>vacwUMax</td>
      <td>vacwAMax</td>
      <td>vacwUTimeMax</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td></td>   <td></td></tr>
    <tr><td>1</td>  <td>25</td> <td>0</td>   <td>0</td>  <td>1</td>  <td>25</td>   <td></td>   <td></td></tr>
    <tr><td>1</td>  <td>25</td> <td>0</td>   <td>0</td>  <td>1</td>  <td>25</td>   <td></td>   <td></td></tr>
    <tr><td>1</td>  <td>25</td> <td>0</td>   <td>0</td>  <td>1</td>  <td>25</td>   <td></td>   <td></td></tr>
    <tr><td>1</td>  <td>25</td> <td>0</td>   <td>0</td>  <td>1</td>  <td>25</td>   <td></td>   <td></td></tr>
    <tr><td>1</td>  <td>25</td> <td>0</td>   <td>0</td>  <td>1</td>  <td>25</td>   <td></td>   <td></td></tr>
    <tr><td>0</td>   <td>0</td> <td>1</td>  <td>25</td>  <td>1</td>  <td>25</td>  <td>5</td>  <td>5</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td>  <td>1</td>  <td>25</td>  <td>5</td>  <td>5</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>early exit 3</short-name>

  <description>
    Test that the simulation's early-exit rules are followed with respect to
    units waiting for vaccination.
    
    In the tests "early exit" 1-3, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and unit 1 is marked for vaccination.
    Different effects can be observed when a) there are resources to vaccinate
    unit 1 immediately, b) there are no resources to vaccinate unit 1 at first,
    but resources eventually come on-line, or c) there are never resources to
    vaccinate unit 1.

    In this scenario, there are never resources to vaccinate unit 1.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 Feb 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities can
    vaccinate zero units each day.  The vaccine produces immunity immediately,
    and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 nothing new will happen.
     - On day 4 nothing new will happen.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 3, check reporting variables</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  This scenario is identical to "early exit 3"
    above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_3_w_vars</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities can
    vaccinate zero units each day.  The vaccine produces immunity immediately,
    and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 nothing new will happen.
     - On day 4 nothing new will happen.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwA</td>
      <td>vacnU</td>
      <td>vacnA</td>
      <td>vacwUMax</td>
      <td>vacwAMax</td>
      <td>vacwUTimeMax</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td></td>  <td></td></tr>
    <tr><td>1</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>25</td>  <td></td>  <td></td></tr>
    <tr><td>1</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>25</td>  <td></td>  <td></td></tr>
    <tr><td>1</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>25</td>  <td></td>  <td></td></tr>
    <tr><td>1</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>25</td>  <td></td>  <td></td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>early exit 4</short-name>

  <description>
    Test that the simulation's early-exit rules are followed with respect to
    units waiting for vaccination.
    
    In the tests "early exit" 4-6, there are three units.  Unit 0 is infected.
    On day 1 unit 0 is detected and units 1 and 2 are marked for vaccination.
    Different effects can be observed when a) there are resources to vaccinate
    both units, b) there are resources to vaccinate one unit, then later there
    are resources to vaccinate the other, or c) there are resources to
    vaccinate one unit, but never resources to vaccinate the other.

    In this scenario, there are resources to vaccinate both units.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 Feb 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_4</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day and forward, the vaccination capacity is 2 units per day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 units 1 and 2 will be vaccinated.
     - On day 8 units 1 and 2 will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 4, check reporting variables</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  This scenario is identical to "early exit 4"
    above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_4_w_vars</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day and forward, the vaccination capacity is 2 units per day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 units 1 and 2 will be vaccinated.
     - On day 8 units 1 and 2 will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwA</td>
      <td>vacnU</td>
      <td>vacnA</td>
      <td>vacwUMax</td>
      <td>vacwAMax</td>
      <td>vacwUTimeMax</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>  <td>2</td>  <td>50</td>  <td>5</td>  <td>5</td></tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>  <td>5</td>  <td>5</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 4, check reporting variables 2</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  Use the broken down by production type outputs.
    This scenario is identical to "early exit 4" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_4_w_vars2</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day and forward, the vaccination capacity is 2 units per day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 units 1 and 2 will be vaccinated.
     - On day 8 units 1 and 2 will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwUSheep</td>
      <td>vacwUBeefCattle</td>
      <td>vacwUPigs</td>
      <td>vacwA</td>
      <td>vacwASheep</td>
      <td>vacwABeefCattle</td>
      <td>vacwAPigs</td>
      <td>vacnUSheep</td>
      <td>vacnUBeefCattle</td>
      <td>vacnUPigs</td>
      <td>vacnUIniSheep</td>
      <td>vacnUIniBeefCattle</td>
      <td>vacnUIniPigs</td>
      <td>vacnURingSheep</td>
      <td>vacnURingBeefCattle</td>
      <td>vacnURingPigs</td>
      <td>vacnUIni</td>
      <td>vacnURing</td>
      <td>vacnU</td>
      <td>vacnASheep</td>
      <td>vacnABeefCattle</td>
      <td>vacnAPigs</td>
      <td>vacnAIniSheep</td>
      <td>vacnAIniBeefCattle</td>
      <td>vacnAIniPigs</td>
      <td>vacnARingSheep</td>
      <td>vacnARingBeefCattle</td>
      <td>vacnARingPigs</td>
      <td>vacnAIni</td>
      <td>vacnARing</td>
      <td>vacnA</td>
    </tr>
    <!--  # units waiting                              |   # animals waiting                               |   # units vaccinated                Initially/  Initially/  Initially/                                                                         |   # animals vaccinated                Initially/  Initially/  Initially/                                                                              -->
    <!--  Total       Sheep       Cattle      Pigs     |   Total        Sheep        Cattle       Pigs     |   Sheep       Cattle      Pigs        Sheep       Cattle       Pigs     Ring/Sheep  Ring/Cattle Ring/Pigs   Initially     Ring        Total    |   Sheep        Cattle       Pigs        Sheep       Cattle       Pigs     Ring/Sheep  Ring/Cattle   Ring/Pigs   Initially       Ring        Total     -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>2</td>  <td>2</td>   <td>0</td>  <td>25</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>25</td>  <td>25</td>  <td>0</td>  <td>50</td>  <td>50</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>early exit 5</short-name>

  <description>
    Test that the simulation's early-exit rules are followed with respect to
    units waiting for vaccination.
    
    In the tests "early exit" 4-6, there are three units.  Unit 0 is infected.
    On day 1 unit 0 is detected and units 1 and 2 are marked for vaccination.
    Different effects can be observed when a) there are resources to vaccinate
    both units, b) there are resources to vaccinate one unit, then later there
    are resources to vaccinate the other, or c) there are resources to
    vaccinate one unit, but never resources to vaccinate the other.

    In this scenario, there are resources to vaccinate one unit, then later
    there are resources to vaccinate the other.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 Feb 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_5</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day, the vaccination capacity is 1 unit.  Another day of zero capacity
    follows, then on the next day and forward the vaccination capacity is 1
    unit per day.  Cattle have priority over pigs.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 there is capacity to vaccinate 1 unit.  Unit 1 will be chosen
       because cattle have priority over pigs.
     - On day 8 unit 1's state will show as Immune.  There is no capacity to
       vaccinate on day 8.
     - On day 9 there is capacity to vaccinate 1 unit.  Unit 2 will be
       vaccinated.
     - On day 10 unit 2's state will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 5, check reporting variables</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  This scenario is identical to "early exit 5"
    above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_5_w_vars</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day, the vaccination capacity is 1 unit.  Another day of zero capacity
    follows, then on the next day and forward the vaccination capacity is 1
    unit per day.  Cattle have priority over pigs.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 there is capacity to vaccinate 1 unit.  Unit 1 will be chosen
       because cattle have priority over pigs.  The average wait time will be 5
       (1 unit waited 5 days before vaccination).
     - On day 8 unit 1's state will show as Immune.  There is no capacity to
       vaccinate on day 8.  The average wait time will still be 5 because it
       counts only completed vaccinations.
     - On day 9 there is capacity to vaccinate 1 unit.  Unit 2 will be
       vaccinated.  The average wait time will be 6 (unit 1 waited 5 days, unit
       2 waited 7 days).
     - On day 10 unit 2's state will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwA</td>
      <td>vacnU</td>
      <td>vacnA</td>
      <td>vacwUMax</td>
      <td>vacwAMax</td>
      <td>vacwUTimeMax</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>1</td>  <td>25</td>  <td>1</td>  <td>25</td>  <td>2</td>  <td>50</td>  <td>5</td>  <td>5</td></tr>
    <tr><td>1</td>  <td>25</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>  <td>5</td>  <td>5</td></tr>
    <tr><td>0</td>   <td>0</td>  <td>1</td>  <td>25</td>  <td>2</td>  <td>50</td>  <td>7</td>  <td>6</td></tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>  <td>7</td>  <td>6</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 5, check reporting variables 2</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  Use the broken down by production type outputs.
    This scenario is identical to "early exit 5" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_5_w_vars2</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day, the vaccination capacity is 1 unit.  Another day of zero capacity
    follows, then on the next day and forward the vaccination capacity is 1
    unit per day.  Cattle have priority over pigs.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 there is capacity to vaccinate 1 unit.  Unit 1 will be chosen
       because cattle have priority over pigs.
     - On day 8 unit 1's state will show as Immune.  There is no capacity to
       vaccinate on day 8.
     - On day 9 there is capacity to vaccinate 1 unit.  Unit 2 will be
       vaccinated.
     - On day 10 unit 2's state will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwUSheep</td>
      <td>vacwUBeefCattle</td>
      <td>vacwUPigs</td>
      <td>vacwA</td>
      <td>vacwASheep</td>
      <td>vacwABeefCattle</td>
      <td>vacwAPigs</td>
      <td>vacnU</td>
      <td>vacnUSheep</td>
      <td>vacnUBeefCattle</td>
      <td>vacnUPigs</td>
      <td>vacnUIni</td>
      <td>vacnURing</td>
      <td>vacnUIniSheep</td>
      <td>vacnUIniBeefCattle</td>
      <td>vacnUIniPigs</td>
      <td>vacnURingSheep</td>
      <td>vacnURingBeefCattle</td>
      <td>vacnURingPigs</td>
      <td>vacnA</td>
      <td>vacnASheep</td>
      <td>vacnABeefCattle</td>
      <td>vacnAPigs</td>
      <td>vacnAIni</td>
      <td>vacnARing</td>
      <td>vacnAIniSheep</td>
      <td>vacnAIniBeefCattle</td>
      <td>vacnAIniPigs</td>
      <td>vacnARingSheep</td>
      <td>vacnARingBeefCattle</td>
      <td>vacnARingPigs</td>
    </tr>
    <!--  # units waiting                              |    # animals waiting                              |   # units vaccinated                                                    Initially/  Initially/  Initially/                                     |    # animals vaccinated                                                      Initially/  Initially/  Initially/                                        -->
    <!--  Total       Sheep       Cattle      Pigs     |    Total       Sheep        Cattle       Pigs     |   Total       Sheep       Cattle      Pigs      Initially      Ring       Sheep       Cattle       Pigs     Ring/Sheep  Ring/Cattle Ring/Pigs  |    Total        Sheep        Cattle       Pigs      Initially      Ring        Sheep       Cattle       Pigs     Ring/Sheep   Ring/Cattle  Ring/Pigs   -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>25</td>  <td>0</td>   <td>0</td>  <td>25</td>   <td>1</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>   <td>25</td>   <td>0</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>25</td>   <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>25</td>  <td>0</td>   <td>0</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>25</td>   <td>0</td>   <td>0</td>  <td>25</td>  <td>0</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>25</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>early exit 6</short-name>

  <description>
    Test that the simulation's early-exit rules are followed with respect to
    units waiting for vaccination.
    
    In the tests "early exit" 4-6, there are three units.  Unit 0 is infected.
    On day 1 unit 0 is detected and units 1 and 2 are marked for vaccination.
    Different effects can be observed when a) there are resources to vaccinate
    both units, b) there are resources to vaccinate one unit, then later there
    are resources to vaccinate the other, or c) there are resources to
    vaccinate one unit, but never resources to vaccinate the other.

    In this scenario, there are resources to vaccinate one unit, but never
    resources to vaccinate the other.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 Feb 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_6</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day, the vaccination capacity is 1 unit.  All subsequent days have zero
    capacity.  Cattle have priority over pigs.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 there is capacity to vaccinate 1 unit.  Unit 1 will be chosen
       because cattle have priority over pigs.
     - On day 8 unit 1's state will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 6, check reporting variables</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  This scenario is identical to "early exit 6"
    above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_6_w_vars</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day, the vaccination capacity is 1 unit.  All subsequent days have zero
    capacity.  Cattle have priority over pigs.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 there is capacity to vaccinate 1 unit.  Unit 1 will be chosen
       because cattle have priority over pigs.  The average wait time will be 5
       (1 unit waited 1 day for vaccination).
     - On day 8 unit 1's state will show as Immune.  The average wait time will
       still be 5 because it counts only completed vaccinations.  Because there
       are no infectious units left and nothing left to do, the simulation can
       end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwA</td>
      <td>vacnU</td>
      <td>vacnA</td>
      <td>vacwUMax</td>
      <td>vacwAMax</td>
      <td>vacwUTimeMax</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>   <td>0</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>2</td>  <td>50</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>   <td></td>   <td></td></tr>
    <tr><td>1</td>  <td>25</td>  <td>1</td>  <td>25</td>  <td>2</td>  <td>50</td>  <td>5</td>  <td>5</td></tr>
    <tr><td>1</td>  <td>25</td>  <td>0</td>   <td>0</td>  <td>2</td>  <td>50</td>  <td>5</td>  <td>5</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>early exit 6, check reporting variables 2</short-name>

  <description>
    Test that the number of units and number of animals awaiting vaccination
    are reported correctly.  Use the broken down by production type outputs.
    This scenario is identical to "early exit 6" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>early_exit_6_w_vars2</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 20 km of a detected unit.  On the first 4 days that
    vaccinations could occur, the vaccination capacity will be zero.  The next
    day, the vaccination capacity is 1 unit.  All subsequent days have zero
    capacity.  Cattle have priority over pigs.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       units 1 and 2 will be marked for vaccination because they are within 20
       km of a detected unit.
     - Day 3 is the first day that vaccinations could happen, but there will be
       no vaccination capacity for 4 days.
     - On day 4 there will be no vaccination capacity for another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination tasks to be done.
       There will be no vaccination capacity for another 2 days.
     - On day 6 there will be no vaccination capacity for another 1 day.
     - On day 7 there is capacity to vaccinate 1 unit.  Unit 1 will be chosen
       because cattle have priority over pigs.
     - On day 8 unit 1's state will show as Immune.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacwUSheep</td>
      <td>vacwUBeefCattle</td>
      <td>vacwUPigs</td>
      <td>vacwA</td>
      <td>vacwASheep</td>
      <td>vacwABeefCattle</td>
      <td>vacwAPigs</td>
      <td>vacnU</td>
      <td>vacnUSheep</td>
      <td>vacnUBeefCattle</td>
      <td>vacnUPigs</td>
      <td>vacnUIni</td>
      <td>vacnURing</td>
      <td>vacnUIniSheep</td>
      <td>vacnUIniBeefCattle</td>
      <td>vacnUIniPigs</td>
      <td>vacnURingSheep</td>
      <td>vacnURingBeefCattle</td>
      <td>vacnURingPigs</td>
      <td>vacnA</td>
      <td>vacnASheep</td>
      <td>vacnABeefCattle</td>
      <td>vacnAPigs</td>
      <td>vacnAIni</td>
      <td>vacnARing</td>
      <td>vacnAIniSheep</td>
      <td>vacnAIniBeefCattle</td>
      <td>vacnAIniPigs</td>
      <td>vacnARingSheep</td>
      <td>vacnARingBeefCattle</td>
      <td>vacnARingPigs</td>
    </tr>
    <!--  # units waiting                              |    # animals waiting                              |   # units vaccinated                                                    Initially/  Initially/  Initially/                                     |    # animals vaccinated                                                    Initially/  Initially/  Initially/                                       -->
    <!--  Total       Sheep       Cattle      Pigs     |    Total       Sheep        Cattle       Pigs     |   Total       Sheep       Cattle       Pigs     Initially      Ring       Sheep       Cattle       Pigs     Ring/Sheep  Ring/Cattle Ring/Pigs  |    Total       Sheep        Cattle       Pigs     Initially       Ring       Sheep       Cattle       Pigs     Ring/Sheep   Ring/Cattle Ring/Pigs   -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>   <td>50</td>  <td>0</td>  <td>25</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>25</td>  <td>0</td>   <td>0</td>  <td>25</td>   <td>1</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>   <td>25</td>  <td>0</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>25</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>25</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>25</td>  <td>0</td>   <td>0</td>  <td>25</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>    <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting 1</short-name>

  <description>
    Test that the vaccination waiting list is updated correctly when a unit is
    destroyed while awaiting vaccination.
    
    In the tests "destroyed while waiting" 1-3, there are two units.  Unit 0 is
    infected.  On day 1 unit 0 is detected and unit 1 is marked for both
    vaccination and destruction.  Different effects can be observed when a)
    vaccination happens before destruction, b) destruction happens before
    vaccination, or c) vaccination and destruction actions come up on the same
    day.

    In this scenario, vaccination happens before destruction.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>10 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>destroyed_while_waiting_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    At the first detection, vaccination and destruction programs begin.  The
    authorities will both vaccinate and destroy units within 10 km of a
    detected unit.  (This might not be a sensible strategy, but it is a useful
    setup for this test.)  On the first 4 days that vaccinations could occur,
    the vaccination capacity will be zero.  The next day and forward, the
    vaccination capacity is 1 unit per day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    On the first 6 days that destructions could occur, the destruction capacity
    will be zero.  The next day and forward, the destruction capacity is 1 unit
    per day.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations and destructions could happen,
       but there will be no vaccination capacity for 4 days and no destruction
       capacity for 6 days.
     - On day 4 there will be no vaccination capacity for another 3 days, and
       no destruction capacity for another 5 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination and destruction
       tasks to be done.  There will be no vaccination capacity for another 2
       days, and no destruction capacity for another 4 days.
     - On day 6 there will be no vaccination capacity for another 1 day, and no
       destruction capacity for another 3 days.
     - On day 7 unit 1 will be vaccinated.  There will be no destruction
       capacity for another 2 days.
     - On day 8 unit 1's state will show as Immune.  There will be no
       destruction capacity for another 1 day.
     - On day 9 unit 2 will be destroyed.
     - On day 10 unit 1's state will show as Destroyed.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td></tr>
    <tr><td>Susceptible</td>         <td>VaccineImmune</td></tr>
    <tr><td>Susceptible</td>         <td>Destroyed</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting 1, check reporting variables</short-name>

  <description>
    Test that the vaccination waiting list is updated correctly when a unit is
    destroyed while awaiting vaccination.  This scenario is identical to
    "destroyed while waiting 1" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>10 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>destroyed_while_waiting_1_w_vars</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    At the first detection, vaccination and destruction programs begin.  The
    authorities will both vaccinate and destroy units within 10 km of a
    detected unit.  (This might not be a sensible strategy, but it is a useful
    setup for this test.)  On the first 4 days that vaccinations could occur,
    the vaccination capacity will be zero.  The next day and forward, the
    vaccination capacity is 1 unit per day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    On the first 6 days that destructions could occur, the destruction capacity
    will be zero.  The next day and forward, the destruction capacity is 1 unit
    per day.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations and destructions could happen,
       but there will be no vaccination capacity for 4 days and no destruction
       capacity for 6 days.
     - On day 4 there will be no vaccination capacity for another 3 days, and
       no destruction capacity for another 5 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination and destruction
       tasks to be done.  There will be no vaccination capacity for another 2
       days, and no destruction capacity for another 4 days.
     - On day 6 there will be no vaccination capacity for another 1 day, and no
       destruction capacity for another 3 days.
     - On day 7 unit 1 will be vaccinated.  There will be no destruction
       capacity for another 2 days.
     - On day 8 unit 1's state will show as Immune.  There will be no
       destruction capacity for another 1 day.
     - On day 9 unit 2 will be destroyed.
     - On day 10 unit 1's state will show as Destroyed.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
      <td>vacwUMax</td>
      <td>vacwUTimeMax</td>
      <td>deswU</td>
      <td>desnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>   <td></td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>   <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>   <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>   <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>   <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>   <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td>  <td>5</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td>5</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td>5</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td>5</td>  <td>0</td>  <td>0</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting 2</short-name>

  <description>
    Test that the vaccination waiting list is updated correctly when a unit is
    destroyed while awaiting vaccination.
    
    In the tests "destroyed while waiting" 1-3, there are two units.  Unit 0 is
    infected.  On day 1 unit 0 is detected and unit 1 is marked for both
    vaccination and destruction.  Different effects can be observed when a)
    vaccination happens before destruction, b) destruction happens before
    vaccination, or c) vaccination and destruction actions come up on the same
    day.

    In this scenario, destruction happens before vaccination.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>11 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>destroyed_while_waiting_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    At the first detection, vaccination and destruction programs begin.  The
    authorities will both vaccinate and destroy units within 10 km of a
    detected unit.  (This might not be a sensible strategy, but it is a useful
    setup for this test.)  On the first 4 days that vaccinations could occur,
    the vaccination capacity will be zero.  The next day and forward, the
    vaccination capacity is 1 unit per day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    On the first 3 days that destructions could occur, the destruction capacity
    will be zero.  The next day and forward, the destruction capacity is 1 unit
    per day.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations and destructions could happen,
       but there will be no vaccination capacity for 4 days and no destruction
       capacity for 3 days.
     - On day 4 there will be no vaccination capacity for another 3 days, and
       no destruction capacity for another 2 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination and destruction
       tasks to be done.  There will be no vaccination capacity for another 2
       days, and no destruction capacity for another 1 day.
     - On day 6 unit 1 will be destroyed.  There will be no vaccination
       capacity for another 1 day.
     - On day 7 unit 1's state will show as Destroyed.  Vaccination capacity
       will come on-line, but it no longer matters because the one unit marked
       for vaccination has been destroyed.  Because there are no infectious
       units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting 2, check reporting variables</short-name>

  <description>
    Test that the vaccination waiting list is updated correctly when a unit is
    destroyed while awaiting vaccination.  This scenario is identical to
    "destroyed while waiting 2" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>11 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>destroyed_while_waiting_2_w_vars</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    At the first detection, vaccination and destruction programs begin.  The
    authorities will both vaccinate and destroy units within 10 km of a
    detected unit.  (This might not be a sensible strategy, but it is a useful
    setup for this test.)  On the first 4 days that vaccinations could occur,
    the vaccination capacity will be zero.  The next day and forward, the
    vaccination capacity is 1 unit per day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    On the first 3 days that destructions could occur, the destruction capacity
    will be zero.  The next day and forward, the destruction capacity is 1 unit
    per day.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations and destructions could happen,
       but there will be no vaccination capacity for 4 days and no destruction
       capacity for 3 days.
     - On day 4 there will be no vaccination capacity for another 3 days, and
       no destruction capacity for another 2 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination and destruction
       tasks to be done.  There will be no vaccination capacity for another 2
       days, and no destruction capacity for another 1 day.
     - On day 6 unit 1 will be destroyed.  There will be no vaccination
       capacity for another 1 day.
     - On day 7 unit 1's state will show as Destroyed.  Vaccination capacity
       will come on-line, but it no longer matters because the one unit marked
       for vaccination has been destroyed.  Because there are no infectious
       units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
      <td>vacwUMax</td>
      <td>vacwUTimeMax</td>
      <td>deswU</td>
      <td>desnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td></td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td></td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td></td>  <td>0</td>  <td>0</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting 3</short-name>

  <description>
    Test that the vaccination waiting list is updated correctly when a unit is
    destroyed while awaiting vaccination.
    
    In the tests "destroyed while waiting" 1-3, there are two units.  Unit 0 is
    infected.  On day 1 unit 0 is detected and unit 1 is marked for both
    vaccination and destruction.  Different effects can be observed when a)
    vaccination happens before destruction, b) destruction happens before
    vaccination, or c) vaccination and destruction actions come up on the same
    day.

    In this scenario, vaccination and destruction actions come up on the same
    day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>destroyed_while_waiting_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    At the first detection, vaccination and destruction programs begin.  The
    authorities will both vaccinate and destroy units within 10 km of a
    detected unit.  (This might not be a sensible strategy, but it is a useful
    setup for this test.)  On the first 4 days that vaccinations could occur,
    the vaccination capacity will be zero.  The next day and forward, the
    vaccination capacity is 1 unit per day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    On the first 4 days that destructions could occur, the destruction capacity
    will be zero.  The next day and forward, the destruction capacity is 1 unit
    per day.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations and destructions could happen,
       but there will be no vaccination or destruction capacity for 4 days.
     - On day 4 there will be no vaccination or destruction capacity for
       another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination and destruction
       tasks to be done.  There will be no vaccination or destruction capacity
       for another 2 days.
     - On day 6 there will be no vaccination or destruction capacity for
       another 1 day.
     - On day 7 both the destruction and vaccination capacity will come
       on-line.  Destruction will preempt vaccination and unit 1 will be
       destroyed.
     - On day 8 unit 1's state will show as Destroyed.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Destroyed</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting 3, check reporting variables</short-name>

  <description>
    Test that the vaccination waiting list is updated correctly when a unit is
    destroyed while awaiting vaccination.  This scenario is identical to
    "destroyed while waiting 3" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 Oct 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units</population-file>

  <parameter-file>destroyed_while_waiting_3_w_vars</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    At the first detection, vaccination and destruction programs begin.  The
    authorities will both vaccinate and destroy units within 10 km of a
    detected unit.  (This might not be a sensible strategy, but it is a useful
    setup for this test.)  On the first 4 days that vaccinations could occur,
    the vaccination capacity will be zero.  The next day and forward, the
    vaccination capacity is 1 unit per day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    On the first 4 days that destructions could occur, the destruction capacity
    will be zero.  The next day and forward, the destruction capacity is 1 unit
    per day.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - Day 3 is the first day that vaccinations and destructions could happen,
       but there will be no vaccination or destruction capacity for 4 days.
     - On day 4 there will be no vaccination or destruction capacity for
       another 3 days.
     - On day 5 unit 0 will no longer be infectious.  However, the simulation
       will keep going because there are still vaccination and destruction
       tasks to be done.  There will be no vaccination or destruction capacity
       for another 2 days.
     - On day 6 there will be no vaccination or destruction capacity for
       another 1 day.
     - On day 7 both the destruction and vaccination capacity will come
       on-line.  Destruction will preempt vaccination and unit 1 will be
       destroyed.
     - On day 8 unit 1's state will show as Destroyed.  Because there are no
       infectious units left and nothing left to do, the simulation can end.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
      <td>vacwUMax</td>
      <td>vacwUTimeMax</td>
      <td>deswU</td>
      <td>desnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td></td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td></td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td></td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td></td>  <td>0</td>  <td>0</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>ring at equator</short-name>

  <description>
    This is one of a set of 6 scenarios to check that the ring is drawn
    correctly at all latitudes, and with and without the R-tree index.  In this
    scenario, the ring is at the equator and the R-tree is not used.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>14 May 2007</creation-date>
  <model-version>3.1</model-version>

  <population-file>no_rtree_lat0</population-file>

  <parameter-file>lat_and_rtree</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 2 days,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units within 1 km will be vaccinated.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected unit (unit 0) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected.  The
       46 units around unit 0 will be marked for vaccination.
     - On day 3 those units will be vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
    </tr>
    <tr> <td>0</td></tr>
    <tr> <td>0</td></tr>
    <tr><td>46</td></tr>
    <tr> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>ring at lat 45</short-name>

  <description>
    This is one of a set of 6 scenarios to check that the ring is drawn
    correctly at all latitudes, and with and without the R-tree index.  In this
    scenario, the ring is at the 45th parallel and the R-tree is not used.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>14 May 2007</creation-date>
  <model-version>3.1</model-version>

  <population-file>no_rtree_lat45</population-file>

  <parameter-file>lat_and_rtree</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 2 days,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units within 1 km will be vaccinated.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected unit (unit 0) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected.  The
       46 units around unit 0 will be marked for vaccination.
     - On day 3 those units will be vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
    </tr>
    <tr> <td>0</td></tr>
    <tr> <td>0</td></tr>
    <tr><td>46</td></tr>
    <tr> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>ring at lat -45</short-name>

  <description>
    This is one of a set of 6 scenarios to check that the ring is drawn
    correctly at all latitudes, and with and without the R-tree index.  In this
    scenario, the ring is at the -45th parallel (southern hemisphere) and the
    R-tree is not used.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 May 2008</creation-date>
  <model-version>3.1</model-version>

  <population-file>no_rtree_lat-45</population-file>

  <parameter-file>lat_and_rtree</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 2 days,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units within 1 km will be vaccinated.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected unit (unit 0) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected.  The
       46 units around unit 0 will be marked for vaccination.
     - On day 3 those units will be vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
    </tr>
    <tr> <td>0</td></tr>
    <tr> <td>0</td></tr>
    <tr><td>46</td></tr>
    <tr> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>ring at equator, using R-tree</short-name>

  <description>
    This is one of a set of 6 scenarios to check that the ring is drawn
    correctly at all latitudes, and with and without the R-tree index.  In this
    scenario, the ring is at the equator and the R-tree is used.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>14 May 2007</creation-date>
  <model-version>3.1</model-version>

  <population-file>rtree_lat0</population-file>

  <parameter-file>lat_and_rtree</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 2 days,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units within 1 km will be vaccinated.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected unit (unit 0) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected.  The
       46 units around unit 0 will be marked for vaccination.
     - On day 3 those units will be vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
    </tr>
    <tr> <td>0</td></tr>
    <tr> <td>0</td></tr>
    <tr><td>46</td></tr>
    <tr> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>ring at lat 45, using R-tree</short-name>

  <description>
    This is one of a set of 6 scenarios to check that the ring is drawn
    correctly at all latitudes, and with and without the R-tree index.  In this
    scenario, the ring is at the 45th parallel and the R-tree is used.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>14 May 2007</creation-date>
  <model-version>3.1</model-version>

  <population-file>rtree_lat45</population-file>

  <parameter-file>lat_and_rtree</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 2 days,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units within 1 km will be vaccinated.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected unit (unit 0) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected.  The
       46 units around unit 0 will be marked for vaccination.
     - On day 3 those units will be vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
    </tr>
    <tr> <td>0</td></tr>
    <tr> <td>0</td></tr>
    <tr><td>46</td></tr>
    <tr> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>ring at lat -45, using R-tree</short-name>

  <description>
    This is one of a set of 6 scenarios to check that the ring is drawn
    correctly at all latitudes, and with and without the R-tree index.  In this
    scenario, the ring is at the -45th parallel (southern hemisphere) and the
    R-tree is used.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 May 2008</creation-date>
  <model-version>3.1</model-version>

  <population-file>rtree_lat-45</population-file>

  <parameter-file>lat_and_rtree</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 2 days,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units within 1 km will be vaccinated.
    The authorities can vaccinate an unlimited/very large number of units each
    day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected unit (unit 0) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected.  The
       46 units around unit 0 will be marked for vaccination.
     - On day 3 those units will be vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
    </tr>
    <tr> <td>0</td></tr>
    <tr> <td>0</td></tr>
    <tr><td>46</td></tr>
    <tr> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>unit destroyed prior to ring</short-name>

  <description>
    Test that vaccination is not requested for units that are already
    destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 May 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>destroyed_before_ring</parameter-file>

  <parameter-description>
    For cattle units, the latent period lasts 1 day, the infectious clinical
    period lasts 2 days, and immunity lasts 3 days.  Pig units are similar but
    the latent period lasts 3 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased cattle unit is detected, that unit is destroyed.  When a
    diseased pig unit is detected, all units within 2 km will be vaccinated.
    The vaccine produces immunity immediately, and the immunity lasts 5 days.
    The authorities can vaccinate or destroy an unlimited/very large number of
    units each day.

    There is no spread.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected and
       marked for destruction.
     - On day 3 unit 0 will be destroyed.
     - On day 4 unit 1 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Units 4 and 5 will be marked for
       vaccination, but not 0, because it is already destroyed.
     - On day 5 units 4 and 5 will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_ring</diagram>

  <output>
    <tr>
      <td>detnU</td>
      <td>desnU</td>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>1</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>1</td> <td>0</td> <td>0</td></tr>
    <tr><td>1</td> <td>0</td> <td>2</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>2</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>unit destroyed same day as ring</short-name>

  <description>
    Test that a request for vaccination is canceled when a vaccination ring is
    drawn the same day that a unit in the ring is destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 May 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>destroyed_sameday_ring</parameter-file>

  <parameter-description>
    For cattle units, the latent period lasts 1 day, the infectious clinical
    period lasts 2 days, and immunity lasts 3 days.  Pig units are similar but
    the latent period lasts 2 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased cattle unit is detected, that unit is destroyed.  When a
    diseased pig unit is detected, all units within 2 km will be vaccinated.
    The vaccine produces immunity immediately, and the immunity lasts 5 days.
    The authorities can vaccinate or destroy an unlimited/very large number of
    units each day.

    There is no spread.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected and
       marked for destruction.
     - On day 3 unit 0 will be destroyed.  Unit 1 will be Infectious Clinical.
       It will be detected and will trigger a vaccination ring.  We don't
       commit to whether the detection or destruction should come "first", but
       the day's final count for units awaiting vaccination should be 2 (just
       units 4 and 5).
     - On day 4 units 4 and 5 will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_ring</diagram>

  <output>
    <tr>
      <td>detnU</td>
      <td>desnU</td>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>1</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>1</td> <td>1</td> <td>2</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>2</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>unit detected prior to ring, vaccinate detected units</short-name>

  <description>
    This is one of a set of scenarios to test the option to allow or disallow
    vaccination of known infected units.  In this test, we explicitly allow
    vaccination of detected units.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>detected_before_ring_vacc_detected</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, the infectious clinical period
    lasts 2 days, and immunity lasts 3 days.  Pigs are similar but the latent
    period lasts 2 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased pig unit is detected, all units within 2 km will be
    vaccinated, including detected ones.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited/very large number of units each day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected but
       will not trigger vaccination.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Units 0, 1, 4, and 5 will be marked
       for vaccination.
     - On day 4 those units will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_ring</diagram>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>4</td> <td>0</td></tr>
    <tr><td>0</td> <td>4</td></tr>
    <tr><td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>unit detected prior to ring, do not vaccinate detected units</short-name>

  <description>
    This is one of a set of scenarios to test the option to allow or disallow
    vaccination of known infected units.  In this test, we explicitly disallow
    vaccination of detected units.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>detected_before_ring_no_vacc_detected</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, the infectious clinical period
    lasts 2 days, and immunity lasts 3 days.  Pigs are similar but the latent
    period lasts 2 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased pig unit is detected, all units within 2 km will be
    vaccinated, excluding detected ones.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited/very large number of units each day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected but
       will not trigger vaccination.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Units 4 and 5 will be marked for
       vaccination.
     - On day 4 those units will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_ring</diagram>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>2</td> <td>0</td></tr>
    <tr><td>0</td> <td>2</td></tr>
    <tr><td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>unit detected same day as ring, vaccinate detected units</short-name>

  <description>
    This is one of a set of scenarios to test the option to allow or disallow
    vaccination of known infected units.  In this test, we explicitly allow
    vaccination of detected units.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>detected_sameday_ring_vacc_detected</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day, the infectious
    clinical period lasts 2 days, and immunity lasts 3 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased pig unit is detected, all units within 2 km will be
    vaccinated, including detected ones.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited/very large number of units each day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and unit 1 will trigger a vaccination ring.  Units 0, 1, 4, and
       5 will be marked for vaccination.
     - On day 3 those units will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_ring</diagram>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>4</td> <td>0</td></tr>
    <tr><td>0</td> <td>4</td></tr>
    <tr><td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>unit detected same day as ring, do not vaccinate detected units</short-name>

  <description>
    This is one of a set of scenarios to test the option to allow or disallow
    vaccination of known infected units.  In this test, we explicitly disallow
    vaccination of detected units.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>detected_sameday_ring_no_vacc_detected</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day, the infectious
    clinical period lasts 2 days, and immunity lasts 3 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased pig unit is detected, all units within 2 km will be
    vaccinated, excluding detected ones.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited/very large number of units each day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and unit 1 will trigger a vaccination ring.  We don't commit to
       which detection should come "first", but the day's final count for units
       awaiting vaccination should be 2.
     - On day 3 units 4 and 5 will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_ring</diagram>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>2</td> <td>0</td></tr>
    <tr><td>0</td> <td>2</td></tr>
    <tr><td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>unit detected same day as ring, do not vaccinate detected units 2</short-name>

  <description>
    This is one of a set of scenarios to test the option to allow or disallow
    vaccination of known infected units.  In this test, we explicitly disallow
    vaccination of detected units.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>detected_sameday_ring_no_vacc_detected2</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day, the infectious
    clinical period lasts 2 days, and immunity lasts 3 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased cattle unit is detected, all units within 2 km will be
    vaccinated, excluding detected ones.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited/very large number of units each day.

    This test differs from "unit detected same day as ring, do not vaccinate
    detected units" above in which unit is detected.  This is needed to make
    sure that marking the other infected unit for vaccination vs. not marking
    it is done intentionally, and is not just an artifact of which unit is
    detected first.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and unit 0 will trigger a vaccination ring.  We don't commit to
       which detection should come "first", but the day's final count for units
       awaiting vaccination should be 2.
     - On day 3 units 4 and 5 will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_ring2</diagram>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>2</td> <td>0</td></tr>
    <tr><td>0</td> <td>2</td></tr>
    <tr><td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>two units detected same day, rings overlap, do not vaccinate detected units</short-name>

  <description>
    This is one of a set of scenarios to test the option to allow or disallow
    vaccination of known infected units.  In this test, we explicitly disallow
    vaccination of detected units.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>detected_sameday_rings_no_vacc_detected</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day, the infectious
    clinical period lasts 2 days, and immunity lasts 3 days.

    For both production types, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 1.  The probability
    of detection vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.

    When a diseased unit is detected, all units within 2.5 km will be
    vaccinated, excluding detected ones.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited/very large number of units each day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and both units will trigger vaccination rings.  We don't commit
       to which detection should come "first", but the day's final count for
       units awaiting vaccination should be 4.
     - On day 3 units 2, 3, 4 and 5 will be vaccinated.
  </parameter-description>

  <diagram>6units_2_w_rings</diagram>

  <output>
    <tr>
      <td>vacwU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td> <td>0</td></tr>
    <tr><td>4</td> <td>0</td></tr>
    <tr><td>0</td> <td>4</td></tr>
    <tr><td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting, check count of units waiting</short-name>

  <description>
    Test whether the number of units awaiting vaccination is decremented each
    time one of those units is destroyed (not when the unit finally comes up
    for vaccination).  This makes sure the waiting list will not appear
    inflated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 May 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>9units</population-file>

  <parameter-file>destroyed_while_waiting_4_w_vars</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, the infectious
    clinical period lasts 1 day, and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units of types C-G within 5 km will
    be marked for both vaccination and destruction.  (This might not be a
    sensible strategy, but it is a useful setup for this test.)  The authorities
    can destroy 1 unit per day.  Vaccination capacity does not come on-line
    until after all units are destroyed in this scenario.

    There is no spread.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and both units will trigger vaccination rings.  Units 4-8 will
       be marked for both vaccination and destruction.
     - On days 3-7, one of the waiting units will be destroyed each day.  The
       count of units awaiting vaccination should drop by 1 each day.
  </parameter-description>

  <diagram>9units</diagram>

  <output>
    <tr>
      <td>desnU</td>
      <td>vacwU</td>
      <td>vacwUMax</td>
      <td>vacwUMaxDay</td>
      <td>vaccU</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td>  <td></td> <td>0</td></tr>
    <tr><td>0</td> <td>5</td> <td>5</td> <td>2</td> <td>0</td></tr>
    <tr><td>1</td> <td>4</td> <td>5</td> <td>2</td> <td>0</td></tr>
    <tr><td>1</td> <td>3</td> <td>5</td> <td>2</td> <td>0</td></tr>
    <tr><td>1</td> <td>2</td> <td>5</td> <td>2</td> <td>0</td></tr>
    <tr><td>1</td> <td>1</td> <td>5</td> <td>2</td> <td>0</td></tr>
    <tr><td>1</td> <td>0</td> <td>5</td> <td>2</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>5</td> <td>2</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>detected while waiting, check count of units waiting</short-name>

  <description>
    Test whether the number of units awaiting vaccination is decremented each
    time one of those units is detected (not when the unit finally comes up
    for vaccination).  This makes sure the waiting list will not appear
    inflated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 May 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>detected_after_ring_no_vacc_detected</parameter-file>

  <parameter-description>
    For production type A, the latent period lasts 1 day, the infectious
    clinical period lasts 1 day, and immunity lasts 3 days.  The same is true
    for production type C.  Production types D-G each have one additional day
    on the latent period: 2 days for D, 3 days for E, etc.

    Airborne spread can occur from units of type A to units of types C-G.
    The probability of airborne spread at 1 km is 0.8723 and it drops off
    exponentially.  This parameter gives a 0.505 probability of infection at 5
    km (0.8723&lt;sup&gt;5&lt;/sup&gt; = 0.505).

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units of types C-G within 5 km will
    be marked for vaccination.  Vaccination capacity does not come on-line
    until after all units are detected in this scenario.

    There is no destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and both units will trigger vaccination rings.  Units 4-8 will
       be marked for vaccination.  Airborne spread from units 0 and 1 will
       infect units 4-8.
     - On day 3 the newly-infected units (4-8) will be Latent.
     - On days 4-8, one of the waiting units will become Infectious Clinical
       and be detected each day.  The count of units awaiting vaccination
       should drop by 1 each day.
  </parameter-description>

  <diagram>9units</diagram>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacwU</td>
      <td>vacwUMax</td>
      <td>vacwUMaxDay</td>
      <td>vaccU</td>
      <td>firstDetection</td>
      <td>lastDetection</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td>  <td></td> <td>0</td>  <td></td>  <td></td></tr>
    <tr><td>2</td> <td>5</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>2</td></tr>
    <tr><td>0</td> <td>5</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>2</td></tr>
    <tr><td>1</td> <td>4</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>4</td></tr>
    <tr><td>1</td> <td>3</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>5</td></tr>
    <tr><td>1</td> <td>2</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>6</td></tr>
    <tr><td>1</td> <td>1</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>7</td></tr>
    <tr><td>1</td> <td>0</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>8</td></tr>
    <tr><td>0</td> <td>0</td> <td>5</td> <td>2</td> <td>0</td> <td>2</td> <td>8</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting, check average time waiting</short-name>

  <description>
    This is one of a set of 3 tests of the average wait time.  In this test,
    units are destroyed while waiting for vaccination.  Their wait times should
    not be included in the average (if they were, this could make the wait time
    for vaccination seem artificially low.)
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 Jun 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>9units</population-file>

  <parameter-file>destroyed_while_waiting_4_w_vars2</parameter-file>

  <parameter-description>
    The parameters are identical to "destroyed while waiting, check count of
    units waiting" above.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and both units will trigger vaccination rings.  Units 4-8 will
       be marked for both vaccination and destruction.
     - On days 3-7, one of the waiting units will be destroyed each day.  The
       average wait time should never have a value, because it counts only
       completed vaccinations.
  </parameter-description>

  <diagram>9units</diagram>

  <output>
    <tr>
      <td>desnU</td>
      <td>vacwU</td>
      <td>vaccU</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td></td></tr>
    <tr><td>0</td> <td>5</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>4</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>3</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>2</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>1</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>0</td> <td>0</td> <td></td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td></td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>destroyed while waiting, check unit-days and animal-days in queue</short-name>

  <description>
    This scenario checks the counting of unit-days and animal-days spent in the
    vaccination and destruction queues.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 July 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>destroyed_while_waiting_4_w_vars3</parameter-file>

  <parameter-description>
    The parameters are identical to "destroyed while waiting, check count of
    units waiting" above.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and both units will trigger vaccination rings.  Units 4-8 will
       be marked for both vaccination and destruction.  Unit-days and
       animal-days in queue will be 0 on this day: units are in queue, but no
       unit has spent a day in queue yet.
     - On days 3-7, one of the waiting units will be destroyed each day.  On
       day 3, the number of unit-days in queue will be 5 (one day each for the
       1 unit that was destroyed today and the 4 that are still in queue).
       Each unit has 25 animals, so the number of animal-days in queue will
       always be the unit-days multiplied by 25.  Note that days spent in the
       vaccination queue accumulate even though the vaccinations are being
       canceled.
     - On day 4, the number of unit-days in queue will increase by 4, to 9
       (one additional day each for the 1 unit that was destroyed today and the
       3 that are still in queue).
     - On day 5, the number of unit-days in queue will increase by 3, to 12.
     - On day 6, the number of unit-days in queue will increase by 2, to 14.
     - On day 7, the number of unit-days in queue will increase by 1, to 15.
       No more units are in queue, so the total number of unit-days in queue
       will remain at 15 on subsequent days.
  </parameter-description>

  <diagram>9units</diagram>

  <output>
    <tr>
      <td>desnU</td>
      <td>deswU</td>
      <td>deswUDaysInQueue</td>
      <td>deswADaysInQueue</td>
      <td>vacnU</td>
      <td>vacwU</td>
      <td>vacwUDaysInQueue</td>
      <td>vacwADaysInQueue</td>
    </tr>
    <!-- Destruction                                   | Vaccination                                     -->
    <!--  units      units     unit-days   animal-days |   units      units     unit-days   animal-days  -->
    <!--destroyed   waiting    in queue     in queue   | vaccinated  waiting    in queue     in queue    -->
    <tr><td>0</td> <td>0</td>  <td>0</td>   <td>0</td>   <td>0</td> <td>0</td>  <td>0</td>   <td>0</td></tr>
    <tr><td>0</td> <td>5</td>  <td>0</td>   <td>0</td>   <td>0</td> <td>5</td>  <td>0</td>   <td>0</td></tr>
    <tr><td>1</td> <td>4</td>  <td>5</td> <td>125</td>   <td>0</td> <td>4</td>  <td>5</td> <td>125</td></tr>
    <tr><td>1</td> <td>3</td>  <td>9</td> <td>225</td>   <td>0</td> <td>3</td>  <td>9</td> <td>225</td></tr>
    <tr><td>1</td> <td>2</td> <td>12</td> <td>300</td>   <td>0</td> <td>2</td> <td>12</td> <td>300</td></tr>
    <tr><td>1</td> <td>1</td> <td>14</td> <td>350</td>   <td>0</td> <td>1</td> <td>14</td> <td>350</td></tr>
    <tr><td>1</td> <td>0</td> <td>15</td> <td>375</td>   <td>0</td> <td>0</td> <td>15</td> <td>375</td></tr>
    <tr><td>0</td> <td>0</td> <td>15</td> <td>375</td>   <td>0</td> <td>0</td> <td>15</td> <td>375</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>detected while waiting, check average time waiting</short-name>

  <description>
    This is one of a set of 3 tests of the average wait time.  In this test,
    units are detected while waiting for vaccination, which cancels the
    vaccination.  Their wait times should not be included in the average (if
    they were, this could make the wait time for vaccination seem artificially
    low.)
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 Jun 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>detected_after_ring_no_vacc_detected2</parameter-file>

  <parameter-description>
    The parameters are identical to "detected while waiting, check count of
    units waiting" above.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  Airborne spread
       from units 0 and 1 will infect units 4-8.  Units 0 and 1 will be
       detected and both units will trigger vaccination rings.  Units 4-8 will
       be marked for vaccination.
     - On day 3 the newly-infected units (4-8) will be Latent.
     - On days 4-8, one of the waiting units will become Infectious Clinical
       and be detected each day.  The average wait time should never have a
       value, because it counts only completed vaccinations.
  </parameter-description>

  <diagram>9units</diagram>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacwU</td>
      <td>vaccU</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td></td></tr>
    <tr><td>2</td> <td>5</td> <td>0</td> <td></td></tr>
    <tr><td>0</td> <td>5</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>4</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>3</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>2</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>1</td> <td>0</td> <td></td></tr>
    <tr><td>1</td> <td>0</td> <td>0</td> <td></td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td></td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>vaccinated, check average time waiting</short-name>

  <description>
    This is one of a set of 3 tests of the average wait time.  In this test,
    units are vaccinated one by one.  Their wait times should be included in
    the average.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 Jun 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>9units</population-file>

  <parameter-file>avg_wait_time</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, the infectious
    clinical period lasts 1 day, and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    When a diseased unit is detected, all units of types C-G within 5 km will
    be marked for vaccination.  The authorities can vaccinate 1 unit per day.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 units 0 and 1 will be Infectious Clinical.  They will be
       detected and both units will trigger vaccination rings.  Units 4-8 will
       be marked for vaccination.
     - On days 3-7, one of the waiting units will be vaccinated each day.  For
       day 3, the average wait should be 1.0 (1 unit waited 1 day before
       vaccination).  For day 4, the average wait should be (2+1)/2 = 1.5 (1
       unit waited 2 days before vaccination, 1 unit waited 1 day before
       vaccination).  For day 5, the average wait should be (3+2+1)/3=2 (1 unit
       waited 3 days before vaccination, 1 unit waited 2 days before
       vaccination, 1 unit waited 1 day before vaccination).  On day 7, when
       the last unit has been vaccinated, the average wait time should be
       (5+4+3+2+1)/5=3.0.
  </parameter-description>

  <diagram>9units</diagram>

  <output>
    <tr>
      <td>vacnU</td>
      <td>vacwU</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td></td></tr>
    <tr><td>0</td> <td>5</td> <td></td></tr>
    <tr><td>1</td> <td>4</td> <td>1</td></tr>
    <tr><td>1</td> <td>3</td> <td>1.5</td></tr>
    <tr><td>1</td> <td>2</td> <td>2</td></tr>
    <tr><td>1</td> <td>1</td> <td>2.5</td></tr>
    <tr><td>1</td> <td>0</td> <td>3</td></tr>
    <tr><td>0</td> <td>0</td> <td>3</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>initially vaccine immune unit is not first vaccination</short-name>

  <description>
    This scenario tests whether an initially vaccine immune unit is counted as
    the first vaccination in a simulation (it should not be).
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>9 Sep 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_1_start_vimmune</population-file>

  <parameter-file>initially_vimmune</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 2 days,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    The authorities will vaccinate units within 10 km of a detected unit.  The
    vaccine produces immunity immediately and the immunity lasts 5 days. The
    authorities can vaccinate an unlimited/very large number of units each day.

    There is no spread or destruction.

    What should happen:
     - On day 1 unit 0 will be Latent.  Unit 1 will already be vaccine immune,
       and we will count 1 vaccinated unit (initially vaccine immune units are
       counted and reported) but we will not count it as the first vaccination
       during the simulation.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected and
       unit 1 will be marked for vaccination because it is within 10 km.
     - On day 3 unit 1 will be vaccinated, and that will count as the first
       vaccination during the simulation.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>0</td>   <td></td></tr>
    <tr><td>0</td>   <td></td></tr>
    <tr><td>1</td>  <td>3</td></tr>
    <tr><td>0</td>  <td>3</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>initially vaccine immune unit does not count toward average wait time</short-name>

  <description>
    This scenario tests whether an initially vaccine immune unit counts toward
    the average wait time calculation (it should not).
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>29 October 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_1_start_vimmune</population-file>

  <parameter-file>initially_vimmune_avg_wait</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 1 day,
    and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    The authorities will vaccinate units within 10 km of a detected unit.  The
    vaccine produces immunity immediately and the immunity lasts 5 days. The
    authorities can vaccinate 1 unit each day, starting 2 days after the 1st
    detection.

    There is no spread or destruction.

    What should happen:
     - On day 1 unit 2 will be Latent.  Unit 0 will already be vaccine immune.
     - On day 2 unit 2 will be Infectious Clinical.  It will be detected and
       unit 1 will be marked for vaccination because it is within 10 km.
     - On day 4 unit 1 will be vaccinated, and the average wait time should be
       2 (1 unit committed to vaccinate on day 2, vaccinated on day 4).  The
       initially vaccine immune unit, which did not wait at all, should not
       lower that number.
  </parameter-description>

  <output>
    <tr>
      <td>firstVaccination</td>
      <td>vacwUTimeAvg</td>
    </tr>
    <tr><td></td>    <td></td></tr>
    <tr><td></td>    <td></td></tr>
    <tr><td></td>    <td></td></tr>
    <tr><td>4</td>  <td>2</td></tr>
    <tr><td>4</td>  <td>2</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>in queue twice, both vaccinations happen</short-name>

  <description>
    This is one of a set of scenarios that test counting of queued vaccinations
    when a unit is in the queue twice.  In this scenario, a unit's two stints
    in queue overlap, and both vaccinations happen.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 October 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>in_queue_twice</parameter-file>

  <parameter-description>
    For sheep and cattle, the latent period lasts 1 day, the infectious
    clinical period lasts 1 day, and immunity lasts 3 days.  For cattle, the
    latent period lasts 4 days and the other durations are the same.  For pigs,
    the latent period lasts 3 days and the other durations are the same.

    There is airborne spread from sheep units to cattle units, with exponential
    dropoff and p of spread at 1 km = 0.934.  (This makes the p of spread at 10
    km = 0.505, so with fixed "random" numbers of 0.5, spread will occur at 10
    km.)

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1 for sheep and pigs, and 0 for cattle.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is fixed at 1.

    All units within 11 km of a detected unit will be vaccinated.  Vaccination
    resources allow for 1 unit to be vaccinated 4 days after the first
    detection, and another unit 6 days after the first detection.  The vaccine
    produces immunity immediately and the immunity lasts 2 days.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 2) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will infect unit 1.  It
       will be detected and will trigger a vaccination ring.  Unit 1 will be
       marked for vaccination. The output vacwU will show 1 vaccination to
       do.
     - On day 3 the output vacwUDaysInQueue will show 1 (1 unit has spent 1 day
       in queue).
     - On day 4 unit 2 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Unit 1 will again be marked for
       vaccination.  The output vacwU will show 2 vaccinations to do (of the
       same unit, but 2 vaccinations nonetheless).  The output vacwUDaysInQueue
       will show 2 (1 unit has spent 2 days in queue).
     - On day 5 the output vacwUDaysInQueue will show 3 (1 unit has spent 3
       days in queue).  Note that we are in the overlap between the unit's 2
       stints in queue right now, but this output does not double-count units 
       in that situation.
     - On day 6 (4 days after the first detection), there will be resources to
       vaccinate 1 unit.  Unit 1 will be vaccinated.  The vaccination will have
       no effect because unit 1 is already Latent.
     - On day 7 unit 1 will be Infectious Clinical, but it will not be detected
       because the probability of detection for cattle units is 0.
     - On day 8 (6 days after the first detection), there will be resources to
       vaccinate 1 unit.  Unit 1 will be vaccinated again.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnU</td>
      <td>vaccU</td>
      <td>vacwU</td>
      <td>vacwUDaysInQueue</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>3</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td>  <td>1</td>  <td>4</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>5</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>2</td>  <td>0</td>  <td>6</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>2</td>  <td>0</td>  <td>6</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>in queue twice, one vaccination canceled</short-name>

  <description>
    This is one of a set of scenarios that test counting of queued vaccinations
    when a unit is in the queue twice.  In this scenario, a unit's two stints
    in queue overlap, and the later vaccination is canceled.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 October 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>in_queue_twice_1_canceled</parameter-file>

  <parameter-description>
    For sheep and cattle, the latent period lasts 1 day, the infectious
    clinical period lasts 1 day, and immunity lasts 3 days.  For cattle, the
    latent period lasts 4 days and the other durations are the same.  For pigs,
    the latent period lasts 3 days and the other durations are the same.

    There is airborne spread from sheep units to cattle units, with exponential
    dropoff and p of spread at 1 km = 0.934.  (This makes the p of spread at 10
    km = 0.505, so with fixed "random" numbers of 0.5, spread will occur at 10
    km.)

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    All units within 11 km of a detected unit will be vaccinated.  Vaccination
    resources allow for 1 unit to be vaccinated 4 days after the first
    detection, and another unit 6 days after the first detection.  The vaccine
    produces immunity immediately and the immunity lasts 2 days.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 2) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will infect unit 1.  It
       will be detected and will trigger a vaccination ring.  Unit 1 will be
       marked for vaccination. The output vacwU will show 1 vaccination to
       do.
     - On day 3 the output vacwUDaysInQueue will show 1 (1 unit has spent 1 day
       in queue).
     - On day 4 unit 2 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Unit 1 will again be marked for
       vaccination.  The output vacwU will show 2 vaccinations to do (of the
       same unit, but 2 vaccinations nonetheless).  The output vacwUDaysInQueue
       will show 2 (1 unit has spent 2 days in queue).
     - On day 5 the output vacwUDaysInQueue will show 3 (1 unit has spent 3
       days in queue).  Note that we are in the overlap between the unit's 2
       stints in queue right now, but this output does not double-count units 
       in that situation.
     - On day 6 (4 days after the first detection), there will be resources to
       vaccinate 1 unit.  Unit 1 will be vaccinated.  The vaccination will have
       no effect because unit 1 is already Latent.
     - On day 7 unit 1 will be Infectious Clinical.  It will be detected and
       its upcoming vaccination will be canceled.
     - On day 8 (6 days after the first detection), there will be resources to
       vaccinate 1 unit, but there are no vaccinations left to do.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnU</td>
      <td>vaccU</td>
      <td>vacwU</td>
      <td>vacwUDaysInQueue</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>3</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td>  <td>1</td>  <td>4</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>5</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>5</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>in queue twice, both vaccinations canceled</short-name>

  <description>
    This is one of a set of scenarios that test counting of queued vaccinations
    when a unit is in the queue twice.  In this scenario, a unit's two stints
    in queue overlap, and both vaccinations are canceled.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 October 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>in_queue_twice_both_canceled</parameter-file>

  <parameter-description>
    For sheep and cattle, the latent period lasts 1 day, the infectious
    clinical period lasts 1 day, and immunity lasts 3 days.  For cattle, the
    latent period lasts 2 days and the other durations are the same.  For pigs,
    the latent period lasts 3 days and the other durations are the same.

    There is airborne spread from sheep units to cattle units, with exponential
    dropoff and p of spread at 1 km = 0.934.  (This makes the p of spread at 10
    km = 0.505, so with fixed "random" numbers of 0.5, spread will occur at 10
    km.)

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    All units within 11 km of a detected unit will be vaccinated.  Vaccination
    resources allow for 1 unit to be vaccinated 4 days after the first
    detection, and another unit 6 days after the first detection.  The vaccine
    produces immunity immediately and the immunity lasts 2 days.

    There is no spread or destruction.

    What should happen:
     - On day 1 the infected units (0 and 2) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will infect unit 1.  It
       will be detected and will trigger a vaccination ring.  Unit 1 will be
       marked for vaccination. The output vacwU will show 1 vaccination to
       do.
     - On day 3 the output vacwUDaysInQueue will show 1 (1 unit has spent 1 day
       in queue).
     - On day 4 unit 2 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Unit 1 will again be marked for
       vaccination.  The output vacwU will show 2 vaccinations to do (of the
       same unit, but 2 vaccinations nonetheless).  The output vacwUDaysInQueue
       will show 2 (1 unit has spent 2 days in queue).
     - On day 5 the output vacwUDaysInQueue will show 3 (1 unit has spent 3
       days in queue).  Note that we are in the overlap between the unit's 2
       stints in queue right now, but this output does not double-count units 
       in that situation.  Unit 1 will be Infectious Clinical.  It will be
       detected and its upcoming vaccinations will be canceled.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnU</td>
      <td>vaccU</td>
      <td>vacwU</td>
      <td>vacwUDaysInQueue</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>2</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>3</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>3</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>vaccination canceled for unit with longest wait time, baseline</short-name>

  <description>
    This is one of a set of scenarios that test tracking of maximum wait time
    for vaccination, specifically, that maximum wait time does not count units
    whose vaccination is canceled.  In this scenario, one unit waits 2 days for
    vaccination, then another waits 4 days.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>29 October 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>cancel_max_wait_0</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, the infectious clinical period
    lasts 3 days, and immunity lasts 3 days.  For pigs, the latent period lasts
    3 days and the other durations are the same.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    All cattle units within 1 km of a detected unit will be vaccinated.
    Vaccination resources allow for 1 unit to be vaccinated 2 days after the
    first detection, and another unit 6 days after the first detection.

    All cattle units within 1 km of a detected pig unit will be destroyed.
    Destruction resources allow for 1 unit to be vaccinated each day starting
    at 7 days after the first detection.

    There is no spread.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Unit 2 will be marked for vaccination.
     - On day 4 unit 2 will be vaccinated, after a 2-day wait.  2 days is now
       the maximum wait time.  Also on day 4, unit 1 will be Infectious
       Clinical.  It will be detected and will trigger a vaccination ring.
       Unit 4 will be marked for vaccination.
     - On day 8 unit 4 will be vaccinated, after a 4-day wait.  4 days is now
       the maximum wait time.
     - On day 9 unit 4 will be destroyed.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnU</td>
      <td>desnU</td>
      <td>vacwUTimeMax</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>   <td></td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>   <td></td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>   <td></td></tr>
    <tr><td>1</td>  <td>1</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td>  <td>4</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td>4</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>4</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>vaccination canceled for unit with longest wait time</short-name>

  <description>
    This is one of a set of scenarios that test tracking of maximum wait time
    for vaccination, specifically, that maximum wait time does not count units
    whose vaccination is canceled.  In this scenario, one unit waits 2 days for
    vaccination, then another waits 4 days but is destroyed instead of
    vaccinated.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>29 October 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>cancel_max_wait_1</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, the infectious clinical period
    lasts 3 days, and immunity lasts 3 days.  For pigs, the latent period lasts
    3 days and the other durations are the same.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.

    All cattle units within 1 km of a detected unit will be vaccinated.
    Vaccination resources allow for 1 unit to be vaccinated 2 days after the
    first detection, and another unit 6 days after the first detection.

    All cattle units within 1 km of a detected pig unit will be destroyed.
    Destruction resources allow for 1 unit to be vaccinated each day starting
    at 6 days after the first detection.

    There is no spread.

    What should happen:
     - On day 1 the infected units (0 and 1) will be Latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected and
       will trigger a vaccination ring.  Unit 2 will be marked for vaccination.
     - On day 4 unit 2 will be vaccinated, after a 2-day wait.  2 days is now
       the maximum wait time.  Also on day 4, unit 1 will be Infectious
       Clinical.  It will be detected and will trigger a vaccination ring.
       Unit 4 will be marked for vaccination.
     - On day 8 unit 4 will be destroyed.  The maximum wait time will still be
       2 days, the wait time for the only unit that was actually vaccinated.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnU</td>
      <td>desnU</td>
      <td>vacwUTimeMax</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>   <td></td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>   <td></td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>   <td></td></tr>
    <tr><td>1</td>  <td>1</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>2</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>double-detected units not counted twice toward vaccination threhold</short-name>

  <description>
    There  can be more than one means of detection.  In this test, the
    threshold for vaccination is 3 detected units.  Two units are detected, the
    first by clinical signs, the second by clinical signs &lt;i&gt;and&lt;/i&gt;
    a positive test result on the same day.  No vaccinations should be done,
    because only 2 units have been detected (the unit that is detected twice
    should not count twice toward the vaccination threshold).

    This test failed in version 3.2.5 and was fixed in 3.2.6.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 November 2010</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>same_unit_detected_twice_check_vacc_threshold</parameter-file>

  <parameter-description>
    For sheep (unit 0), the infectious subclinical period lasts 1 day, the
    infectious clinical period lasts 1 day, and immunity lasts 5 days.  For
    cattle (unit 1) and pigs (unit 2), the latent period lasts 1 day, the
    infectious clinical period lasts 1 day, and immunity lasts 5 days.

    Sheep units send 1 shipment per day to cattle units.  The distance of
    shipment is 10 km, and the probability of infection is 1.  There are no
    other kinds of contact.

    Diseased units will be detected (by self-reporting) on their first day
    showing clinical signs.

    Direct contacts out of a detected unit will be traced.  There is no
    delay to trace, and tracing success is 100%.  Units found by trace will be
    examined; if no signs of disease are detected, they will be tested.  A
    test requires 1 day and has 100% sensitivity and specificity.

    Vaccination begins when disease has been detected in 3 units.  Pig units
    within 15 km of a diseased cattle unit will be vaccinated.  Vaccination
    resources allow for 10 units to be vaccinated per day.

    What should happen:
     - On day 1 unit 0 will be Infectious Subclinical.  It will ship to and
       infect unit 1.
     - On day 2 unit 1 will be Latent.  Unit 0 will be Infectious Clinical.
       Unit 0 will be detected.  Because it is a sheep unit, it will not
       trigger a vaccination ring.  However, it will trigger a trace, which
       will lead to unit 1.  Unit 1 will be examined, but no clinical signs of
       disease will be found (it is still Latent).  A test will be ordered.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected by
       clinical signs.  Also on this day, a positive test result will come back
       for unit 1.  However, since only 1 units have been detected up to this
       point, no vaccination will be done.
  </parameter-description>

  <output>
    <tr><td>B</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>L</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>C</td>  <td>S</td></tr>
    <tr><td>D</td>  <td>N</td>  <td>S</td></tr>
    <tr><td>D</td>  <td>D</td>  <td>S</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 1 detection in any type</short-name>

  <description>
    This test is one of a set to test triggering vaccination on number of
    detections.  There are 4 units of type A, A, B, and C, which get detected
    one per day.  Above those are a row of units of type D, which get
    vaccinated if/when a vaccination program is initiated.

    In this test, vaccination is triggered by detection of 1 unit of any type.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows_4</population-file>

  <parameter-file>trigger_1detect_in_anytype</parameter-file>

  <parameter-description>
    For all production types, there is no latent period and the clinical
    period lasts 10 days.

    Airborne spread is set up such that infection will spread from unit 1
    (lower row, far left) across the lower row, with 1 new unit infected each
    day. Detection occurs on the first day clinical.

    Vaccination begins when disease has been detected in 1 unit of any type.

    What should happen:
     - On day 1 unit 1 will be Infectious Clinical.  It will be detected and
       a vaccination program will be initiated.
     - On day 2 the top row of units will be vaccinated.  The simulation
       is deliberately stopped at this point.
  </parameter-description>

  <output>
    <tr>
      <td>detcU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td>2</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 3 detections in any type</short-name>

  <description>
    This test is one of a set to test triggering vaccination on number of
    detections.  There are 4 units of type A, A, B, and C, which get detected
    one per day.  Above those are a row of units of type D, which get
    vaccinated if/when a vaccination program is initiated.

    In this test, vaccination is triggered by detection of 3 units of any type.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows_4</population-file>

  <parameter-file>trigger_3detect_in_anytype</parameter-file>

  <parameter-description>
    Parameter setup is similar to trigger on 1 detection in any type above,
    but vaccination begins when disease has been detected in 3 units of any
    type.

    What should happen:
     - On day 1 unit 1 will be Infectious Clinical.  It will be detected.
     - On day 2 unit 2 will be Infectious Clinical.  It will be detected.
     - On day 3 unit 3 will be Infectious Clinical.  It will be detected and,
       since this is the 3rd detection, a vaccination program will be initiated.
     - On day 4 the top row of units will be vaccinated.  The simulation
       is deliberately stopped at this point.
  </parameter-description>

  <output>
    <tr>
      <td>detcU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td></td></tr>
    <tr><td>3</td>  <td></td></tr>
    <tr><td>4</td>  <td>4</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 2 detections in type A</short-name>

  <description>
    This test is one of a set to test triggering vaccination on number of
    detections.  There are 4 units of type A, A, B, and C, which get detected
    one per day.  Above those are a row of units of type D, which get
    vaccinated if/when a vaccination program is initiated.

    In this test, vaccination is triggered by detection of 2 units of type A.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows_4</population-file>

  <parameter-file>trigger_2detect_in_typeA</parameter-file>

  <parameter-description>
    Parameter setup is similar to trigger on 1 detection in any type above,
    but vaccination begins when disease has been detected in 2 units of type
    A.

    What should happen:
     - On day 1 unit 1 will be Infectious Clinical.  It will be detected.
     - On day 2 unit 2 will be Infectious Clinical.  It will be detected and,
       since this is the 2nd detection of an A unit, a vaccination program
       will be initiated.
     - On day 3 the top row of units will be vaccinated.  The simulation
       is deliberately stopped at this point.
  </parameter-description>

  <output>
    <tr>
      <td>detcUA</td>
      <td>detcUB</td>
      <td>detcUC</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>0</td>  <td>3</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 3 detections in type A</short-name>

  <description>
    This test is one of a set to test triggering vaccination on number of
    detections.  There are 4 units of type A, A, B, and C, which get detected
    one per day.  Above those are a row of units of type D, which get
    vaccinated if/when a vaccination program is initiated.

    In this test, vaccination is triggered by detection of 3 units of type A
    (which never happens).
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows_4</population-file>

  <parameter-file>trigger_3detect_in_typeA</parameter-file>

  <parameter-description>
    Parameter setup is similar to trigger on 1 detection in any type above,
    but vaccination begins when disease has been detected in 3 units of type
    A.

    What should happen:
     - On day 1 unit 1 will be Infectious Clinical.  It will be detected.
     - On day 2 unit 2 will be Infectious Clinical.  It will be detected.
     - On day 3 unit 3 will be Infectious Clinical.  It will be detected.  This
       is the 3rd detection, but there have only been 2 detections of A units
       and 1 of a B unit, so vaccination will not be initiated.
     - On day 4 unit 4 will be Infectious Clinical.  It will be detected.
       Vaccination still will not be initiated.
     - The simulation will end when all units are either Destroyed or
       Susceptible.
  </parameter-description>

  <output>
    <tr>
      <td>detcUA</td>
      <td>detcUB</td>
      <td>detcUC</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td></td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 1 detection in type B or C</short-name>

  <description>
    This test is one of a set to test triggering vaccination on number of
    detections.  There are 4 units of type A, A, B, and C, which get detected
    one per day.  Above those are a row of units of type D, which get
    vaccinated if/when a vaccination program is initiated.

    In this test, vaccination is triggered by detection of 1 unit of type B or
    C.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows_4</population-file>

  <parameter-file>trigger_1detect_in_typeBorC</parameter-file>

  <parameter-description>
    Parameter setup is similar to trigger on 1 detection in any type above,
    but vaccination begins when disease has been detected in 1 unit of type B
    or C.

    What should happen:
     - On day 1 unit 1 will be Infectious Clinical. It will be detected. This
       unit is type A so it does not get counted towards initiating
       vaccination.
     - On day 2 unit 2 will be Infectious Clinical. It will be detected. Again
       this unit is type A so it does not get counted towards initiating
       vaccination.
     - On day 3 unit 3 will be Infectious Clinical. It will be detected. This
       unit is of type B, so vaccination will be initiated.
     - On day 4 the top row of units will be vaccinated.  The simulation
       is deliberately stopped at this point.
  </parameter-description>

  <output>
    <tr>
      <td>detcUA</td>
      <td>detcUB</td>
      <td>detcUC</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td>4</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 1 detection in type C</short-name>

  <description>
    This test is one of a set to test triggering vaccination on number of
    detections.  There are 4 units of type A, A, B, and C, which get detected
    one per day.  Above those are a row of units of type D, which get
    vaccinated if/when a vaccination program is initiated.

    In this test, vaccination is triggered by detection of 1 unit of type C.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows_4</population-file>

  <parameter-file>trigger_1detect_in_typeC</parameter-file>

  <parameter-description>
    Parameter setup is similar to trigger on 1 detection in any type above,
    but vaccination begins when disease has been detected in 1 unit of type C.

    What should happen:
     - On day 1 unit 1 will be Infectious Clinical. It will be detected. This
       unit is type A so it does not get counted towards initiating
       vaccination.
     - On day 2 unit 2 will be Infectious Clinical. It will be detected. Again
       this unit is type A so it does not get counted towards initiating
       vaccination.
     - On day 3 unit 3 will be Infectious Clinical. It will be detected. Again
       this unit is type B so it does not get counted towards initiating
       vaccination. This
     - On day 4 unit 4 will be Infectious Clinical. It will be detected. This
       unit is of type C, so vaccination will be initiated.
     - On day 5 the top row of units will be vaccinated.  The simulation
       is deliberately stopped at this point.
  </parameter-description>

  <output>
    <tr>
      <td>detcUA</td>
      <td>detcUB</td>
      <td>detcUC</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td>5</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 3 detections in type A or 2 detections in type B or C</short-name>

  <description>
    This test is one of a set to test triggering vaccination on number of
    detections.  There are 4 units of type A, A, B, and C, which get detected
    one per day.  Above those are a row of units of type D, which get
    vaccinated if/when a vaccination program is initiated.

    In this test, vaccination is triggered by detection of 3 units of type A or
    detection of 2 units of type B or C.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows_4</population-file>

  <parameter-file>trigger_3detect_in_typeA_or_2detect_in_typeBorC</parameter-file>

  <parameter-description>
    Parameter setup is similar to trigger on 1 detection in any type above,
    but vaccination begins when disease has been detected in 3 units of type A,
    or 2 units of type B or C.

    What should happen:
     - On day 1 unit 1 will be Infectious Clinical. It will be detected. This
       makes 1 unit of type A detected, not enough to initiate vaccination.
     - On day 2 unit 2 will be Infectious Clinical. It will be detected. This
       makes 2 units of type A detected, not enough to initiate vaccination.
     - On day 3 unit 3 will be Infectious Clinical. It will be detected. This
       makes 1 unit of type B detected, not enough to initiate vaccination.
     - On day 4 unit 4 will be Infectious Clinical. It will be detected. This
       makes 1 unit of type B and 1 unit of type C detected, so
       vaccination will be initiated.
     - On day 5 the top row of units will be vaccinated.  The simulation
       is deliberately stopped at this point.
  </parameter-description>

  <output>
    <tr>
      <td>detcUA</td>
      <td>detcUB</td>
      <td>detcUC</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td>1</td>  <td>1</td>  <td>5</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 4 detections over 3 days, any type</short-name>

  <description>
    This test is one of a set to test triggering vaccination on rate of
    detections.  There are 8 units of types A-H, all starting latent, so the
    disease parameters can be manipulated to produce any number of newly
    Clinical units to detect on a particular day.  The H unit is the one that
    gets vaccinated.

    In this test, vaccination is triggered by detection of 4 units over 3 days,
    any production type.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>13 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_4detect3days_in_anytype</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 0, 1, 1, 0, 2, 1, 1, 1.
    Detection occurs on the first day clinical.

    Vaccination begins when disease has been detected in 4 units over 3 days
    (1.333 units per day), in units of any type.

    What should happen:
     - Day 1: 0 detections, count over the past 3 days = 0. Rate = 0/3 = 0.
     - Day 2: 1 detection, count over the past 3 days = 1. Rate = 1/3 = 0.333.
     - Day 3: 1 detection, count over the past 3 days = 2. Rate = 2/3 = 0.667.
     - Day 4: 0 detections, count over the past 3 days = 2. Rate = 2/3 = 0.667.
     - Day 5: 2 detections, count over the past 3 days = 3. Rate = 3/3 = 1.0.
     - Day 6: 1 detection, count over the past 3 days = 3. Rate = 3/3 = 1.0.
     - Day 7: 1 detection, count over the past 3 days = 4. Vaccination will be
       initiated.
     - Day 8: 1 detection, count over the past 3 days = 3. The H unit will be
       vaccinated on this day.  The simulation is deliberately stopped at this
       point.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td>8</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on 6 detections over 4 days, any type, reach equivalent rate 1.5 by 2 days</short-name>

  <description>
    This test is one of a set to test triggering vaccination on rate of
    detections.  There are 8 units of types A-H, all starting latent, so the
    disease parameters can be manipulated to produce any number of newly
    Clinical units to detect on a particular day.  The H unit is the one that
    gets vaccinated.

    In this test, vaccination is triggered by detection of 6 units over 4 days,
    any production type. The equivalent rate (1.5 units per day) is reached
    after only 2 days, but that should not trigger detection, since the point
    of counting the number of detections over 4 days is to smooth out spikes.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>3 April 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_6detect4days_in_anytype</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 1, 2, 0, 0, 0, 0, 0, 0.
    Detection occurs on the first day clinical.

    Vaccination begins when disease has been detected in 6 units over 4 days,
    in units of any type.

    What should happen:
     - Day 1: 1 detection, count over the past 4 days = 1.
     - Day 2: 2 detections, count over the past 4 days = 3.
     - There are no more detections after this point and vaccination will not
       be triggered.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on EDR 1.5 measured over last 3 days divided by 3 days before that</short-name>

  <description>
    This test is one of a set to test triggering vaccination on EDR.  There
    are 8 units of types A-H, all starting latent, so the disease parameters
    can be manipulated to produce any number of newly Clinical units to detect
    on a particular day.  The H unit is the one that gets vaccinated.

    In this test, vaccination is triggered by an EDR of 1.5 or higher,
    measured by detections in the last 3 days divided by detections in the 3
    days before that.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>14 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_1.5edr3days_in_anytype</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 0, 0, 2, 0, 0, 1, 2, 1.
    Detection occurs on the first day clinical.

    Vaccination begins when the EDR is 1.5 or higher, based on detections in
    units of any type.

    What should happen:
     - Day 1: 0 detections, EDR = (0+0+0)/(0+0+0) = undefined.
     - Day 2: 0 detections, EDR = (0+0+0)/(0+0+0) = undefined.
     - Day 3: 2 detections, EDR = (2+0+0)/(0+0+0) = undefined.
     - Day 4: 0 detections, EDR = (0+2+0)/(0+0+0) = undefined.
     - Day 5: 0 detections, EDR = (0+0+2)/(0+0+0) = undefined.
     - Day 6: 1 detection,  EDR = (1+0+0)/(2+0+0) = 0.5, too low.
     - Day 7: 2 detections, EDR = (2+1+0)/(0+2+0) = 1.5. Vaccination will be
       initiated.
     - Day 8: 1 detection. The H unit will be vaccinated on this day.  The
       simulation is deliberately stopped at this point.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>2</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>2</td>  <td></td></tr>
    <tr><td>1</td>  <td>8</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger 1 day after first detection in any type</short-name>

  <description>
    This test is one of a set to test triggering vaccination a given number of
    days after the first detection.  There are 8 units of types A-H, all
    starting latent, so the disease parameters can be manipulated to produce
    any number of newly Clinical units to detect on a particular day.  The H
    unit is the one that gets vaccinated.

    In this test, vaccination is triggered 1 day after the first detection in
    any production type.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>15 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_1daysincedet_anytype</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 0, 1, 1, 0, 1, 0, 2, 1.
    Detection occurs on the first day clinical.

    Vaccination begins 1 day after the first detection, based on detections in
    units of any type.

    What should happen:
     - Day 1: 0 detections.
     - Day 2: 1 detection. First detection.
     - Day 3: 1 detection. 1 day after 1st detection. The H unit will be
       vaccinated on this day.  The simulation is deliberately stopped at this
       point.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td>3</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger 2 days after first detection in any type</short-name>

  <description>
    This test is one of a set to test triggering vaccination a given number of
    days after the first detection.  There are 8 units of types A-H, all
    starting latent, so the disease parameters can be manipulated to produce
    any number of newly Clinical units to detect on a particular day.  The H
    unit is the one that gets vaccinated.

    In this test, vaccination is triggered 2 days after the first detection in
    any production type.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>15 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_2daysincedet_anytype</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 0, 1, 1, 0, 1, 0, 2, 1.
    Detection occurs on the first day clinical.

    Vaccination begins 2 days after the first detection, based on detections
    in units of any type.

    What should happen:
     - Day 1: 0 detections.
     - Day 2: 1 detection. First detection.
     - Day 3: 1 detection. 1 day after 1st detection.
     - Day 4: 0 detections. 2 days after 1st detection. The H unit will be
       vaccinated on this day.  The simulation is deliberately stopped at this
       point.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>0</td>  <td>4</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger 2 days after first detection in type C</short-name>

  <description>
    This test is one of a set to test triggering vaccination a given number of
    days after the first detection.  There are 8 units of types A-H, all
    starting latent, so the disease parameters can be manipulated to produce
    any number of newly Clinical units to detect on a particular day.  The H
    unit is the one that gets vaccinated.

    In this test, vaccination is triggered 2 days after the first detection in
    a unit of type C.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>15 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_2daysincedet_typeC</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 0, 1, 1, 0, 1, 2, 0, 1.
    Detection occurs on the first day clinical.

    Vaccination begins 2 days after the first detection, based on detections
    in units of type C.

    What should happen:
     - Day 1: 0 detections.
     - Day 2: 1 detection of an A unit.
     - Day 3: 1 detection of a B unit.
     - Day 4: 0 detections.
     - Day 5: 1 detection of a C unit. First detection of the desired type.
     - Day 6: 2 detections. 1 day after 1st detection.
     - Day 7: 0 detections. 2 days after 1st detection. The H unit will be
       vaccinated on this day.  The simulation is deliberately stopped at this
       point.
  </parameter-description>

  <output>
    <tr>
      <td>detnUC</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td></td></tr>
    <tr><td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td>7</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger 5 days after first detection in type A or 3 days after first detection in type B</short-name>

  <description>
    This test is one of a set to test triggering vaccination a given number of
    days after the first detection.  There are 8 units of types A-H, all
    starting latent, so the disease parameters can be manipulated to produce
    any number of newly Clinical units to detect on a particular day.  The H
    unit is the one that gets vaccinated.

    In this test, vaccination is triggered 5 days after the first detection in
    a unit of type A or 3 days after the first detection in a unit of type
    B.  (The B unit will be detected later, but will trigger vaccination
    first.)
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>15 February 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_5daysincedet_typeA_3daysincedet_typeB</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 0, 1, 1, 0, 1, 2, 0, 1.
    Detection occurs on the first day clinical.

    Vaccination begins 5 days after the first detection in units of type A or
    3 days after the first detection in units of type B.

    What should happen:
     - Day 1: 0 detections.
     - Day 2: 1 detection of an A unit. First vaccination should happen on
       day 2+5 = 7.
     - Day 3: 1 detection of a B unit. First vaccination should happen on
       day 3+3 = 6.
     - Day 4: 0 detections.
     - Day 5: 1 detection of a C unit.
     - Day 6: 2 detections, D and E units. The H unit will be
       vaccinated on this day.  The simulation is deliberately stopped at this
       point.
  </parameter-description>

  <output>
    <tr>
      <td>detnUA</td>
      <td>detnUB</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td>1</td>  <td></td></tr>
    <tr><td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td>0</td>  <td></td></tr>
    <tr><td>0</td>  <td>0</td>  <td>6</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on unit waiting 1 day for destruction, 0 destruction capacity</short-name>

  <description>
    This test is one of a set to test triggering vaccination once units have
    been waiting a given number of days for destruction.  There are 8 units of
    types A-H, all starting latent, so the disease parameters can be
    manipulated to produce any number of newly Clinical units to detect on a
    particular day.  The H unit is the one that gets vaccinated.

    In this test, vaccination is triggered when any unit has been waiting 1
    day for destruction.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>6 March 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_destwait1_cap0</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 1, 1, 1, 1, 1, 1, 1, 1.
    Detection occurs on the first day clinical.  There is no capacity to
    destroy diseased units.

    Vaccination begins after any unit has been waiting 1 day for destruction.

    What should happen:
     - Day 1: 1 detection of an A unit.
     - Day 2: 1 detection of a B unit. By the end of this day, the A unit
       counts as having been waiting for 1 day, so vaccination will be initiated.
     - Day 3: 1 detection of a C unit. The H unit will be vaccinated on
       this day.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>deswU</td>
      <td>desnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>2</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>3</td>  <td>0</td>  <td>3</td></tr>
    <tr><td>1</td>  <td>4</td>  <td>0</td>  <td>3</td></tr>
    <tr><td>1</td>  <td>5</td>  <td>0</td>  <td>3</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on unit waiting 3 days for destruction, 0 destruction capacity</short-name>

  <description>
    This test is one of a set to test triggering vaccination once units have
    been waiting a given number of days for destruction.  There are 8 units of
    types A-H, all starting latent, so the disease parameters can be
    manipulated to produce any number of newly Clinical units to detect on a
    particular day.  The H unit is the one that gets vaccinated.

    In this test, vaccination is triggered when any unit has been waiting 3
    days for destruction.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>6 March 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_destwait3_cap0</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 1, 1, 1, 1, 1, 1, 1, 1.
    Detection occurs on the first day clinical.  There is no capacity to
    destroy diseased units.

    Vaccination begins after any unit has been waiting 3 days for destruction.

    What should happen:
     - Day 1: 1 detection of an A unit.
     - Day 2: 1 detection of a B unit. By the end of this day, the A unit
       counts as having been waiting for 1 day.
     - Day 3: 1 detection of a C unit. The A unit counts as having been
       waiting for 2 days.
     - Day 4: 1 detection of a D unit. The A unit counts as having been
       waiting for 3 days, so vaccination will be initiated.
     - Day 5: 1 detection of an E unit. The H unit will be vaccinated on
       this day.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>deswU</td>
      <td>desnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>2</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>3</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>4</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>5</td>  <td>0</td>  <td>5</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>trigger on unit waiting 3 days for destruction, destruction capacity 1 unit/day for 3 days</short-name>

  <description>
    This test is one of a set to test triggering vaccination once units have
    been waiting a given number of days for destruction.  There are 8 units of
    types A-H, all starting latent, so the disease parameters can be
    manipulated to produce any number of newly Clinical units to detect on a
    particular day.  The H unit is the one that gets vaccinated.

    In this test, vaccination is triggered when any unit has been waiting 3
    days for destruction.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>6 March 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_all_infected_diff_types</population-file>

  <parameter-file>trigger_destwait3_cap3</parameter-file>

  <parameter-description>
    The production types latent periods are set so that there will be this
    number of detections over the sequence of days: 1, 1, 1, 1, 1, 1, 1, 1.
    Detection occurs on the first day clinical.  There is capacity to destroy 1
    unit per day for the first 3 days.

    Vaccination begins after any unit has been waiting 3 days for destruction.

    What should happen:
     - Day 1-3: The A, B, and C units will be detected.  Each of them
       will be destroyed the day after it is detected.
     - Day 4: The D unit is detected. Because capacity to destroy units has
       run out, this will be the one that initiates vaccination.
     - Day 5-7: These count as the 3 days that the D unit is waiting.
     - Day 8: The H unit will be vaccinated on this day.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>deswU</td>
      <td>desnU</td>
      <td>firstVaccination</td>
    </tr>
    <tr><td>1</td>  <td>1</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>1</td>  <td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td>1</td>  <td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td>1</td>  <td>1</td>  <td></td></tr>
    <tr><td>1</td>  <td>2</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>3</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>4</td>  <td>0</td>  <td></td></tr>
    <tr><td>1</td>  <td>5</td>  <td>0</td>  <td>8</td></tr>
    <tr><td>0</td>  <td>5</td>  <td>0</td>  <td>8</td></tr>
    <tr><td>0</td>  <td>5</td>  <td>0</td>  <td>8</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>retrospective vaccination 0 days, 3 detections to trigger</short-name>

  <description>
    This test is one of a set to test retrospective vaccination.  There are 2 rows of
    units, cattle across the bottom and pigs across the top.  Infection spreads across
    the row of cattle units, resulting in 1 detection per day when the units are turning
    Clinical.  When a cattle unit is detected, a small vaccination circle is drawn,
    covering just the pig unit directly above that cattle unit.

    In this test, vaccination is initiated once 3 infected units have been detected.
    Retrospective vaccination is given as 0 days.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>21 March 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows</population-file>

  <parameter-file>vacc_3detect_retro0</parameter-file>

  <parameter-description>
    For cattle (the bottom row of units), the latent period lasts 1 day, then the unit
    becomes infectious clinical.  Direct contact spread is set up such that each unit
    infects the one to its right.

    Diseased cattle units will be detected (by self-reporting) on their first day
    showing clinical signs.
    
    Vaccination begins when disease has been detected in 3 units.  Retrospective
    vaccination is set at 0 days.  Pig units within 0.75 km of a detected unit will be
    vaccinated.  Vaccination resources allow for 1 unit to be vaccinated per day.

    What should happen:
     - Day 1: Unit 0 will be latent.  It will infect unit 1.
     - Day 2-5: On each of these days, a detection will occur, starting with unit 0 on
       day 2 and ending with unit 3 on day 5.
     - Day 4: The 3rd detection (unit 2) occurs on this day.  A vaccination program will
       be initiated, and the pig unit directly above unit 2 (unit 6) will be added to the
       vaccination queue.
     - Day 5: Unit 6 will be vaccinated (its state will show as vaccine immune on day 6).
       Unit 3 is detected on this day, and unit 7 is added to the vaccination queue.
     - Day 6: Unit 7 will be vaccinated (its state will show as vaccine immune on day 7).
  </parameter-description>

  <output>
    <!--  Cattle Pigs       -->
    <tr><td>LSSS SSSS</td></tr>
    <tr><td>CLSS SSSS</td></tr>
    <tr><td>CCLS SSSS</td></tr>
    <tr><td>DCCL SSSS</td></tr>
    <tr><td>DDCC SSSS</td></tr>
    <tr><td>DDDC SSVS</td></tr>
    <tr><td>DDDD SSVV</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>retrospective vaccination 1 day, 3 detections to trigger</short-name>

  <description>
    This test is one of a set to test retrospective vaccination.  There are 2 rows of
    units, cattle across the bottom and pigs across the top.  Infection spreads across
    the row of cattle units, resulting in 1 detection per day when the units are turning
    Clinical.  When a cattle unit is detected, a small vaccination circle is drawn,
    covering just the pig unit directly above that cattle unit.

    In this test, vaccination is initiated once 3 infected units have been detected.
    Retrospective vaccination is given as 1 day.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>21 March 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows</population-file>

  <parameter-file>vacc_3detect_retro1</parameter-file>

  <parameter-description>
    For cattle (the bottom row of units), the latent period lasts 1 day, then the unit
    becomes infectious clinical.  Direct contact spread is set up such that each unit
    infects the one to its right.

    Diseased cattle units will be detected (by self-reporting) on their first day
    showing clinical signs.
    
    Vaccination begins when disease has been detected in 3 units.  Retrospective
    vaccination is set at 1 day.  Pig units within 0.75 km of a detected unit will be
    vaccinated.  Vaccination resources allow for 1 unit to be vaccinated per day.

    What should happen:
     - Day 1: Unit 0 will be latent.  It will infect unit 1.
     - Day 2-5: On each of these days, a detection will occur, starting with unit 0 on
       day 2 and ending with unit 3 on day 5.
     - Day 4: The 3rd detection (unit 2) occurs on this day.  A vaccination program will
       be initiated, and the pig unit directly above unit 2 (unit 6) will be added to the
       vaccination queue.  Unit 5 will also be added to the vaccination queue, and it
       will count as an older vaccination request, because it is in a ring around unit 1
       which was detected 1 day ago (retrospective).
     - Day 5: Unit 5 will be vaccinated (its state will show as vaccine immune on day 6).
       Unit 3 is detected on this day, and unit 7 is added to the vaccination queue.
     - Day 6: Unit 6 will be vaccinated (its state will show as vaccine immune on day 7).
     - Day 7: Unit 7 will be vaccinated (its state will show as vaccine immune on day 8).
  </parameter-description>

  <output>
    <!--  Cattle Pigs       -->
    <tr><td>LSSS SSSS</td></tr>
    <tr><td>CLSS SSSS</td></tr>
    <tr><td>CCLS SSSS</td></tr>
    <tr><td>DCCL SSSS</td></tr>
    <tr><td>DDCC SSSS</td></tr>
    <tr><td>DDDC SVSS</td></tr>
    <tr><td>DDDD SVVS</td></tr>
    <tr><td>DDDD SVVV</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>ring_vaccination</category>
  <short-name>retrospective vaccination 3 days, 4 detections to trigger</short-name>

  <description>
    This test is one of a set to test retrospective vaccination.  There are 2 rows of
    units, cattle across the bottom and pigs across the top.  Infection spreads across
    the row of cattle units, resulting in 1 detection per day when the units are turning
    Clinical.  When a cattle unit is detected, a small vaccination circle is drawn,
    covering just the pig unit directly above that cattle unit.

    In this test, vaccination is initiated once 4 infected units have been detected.
    Retrospective vaccination is given as 3 days.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>21 March 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>8units_2rows</population-file>

  <parameter-file>vacc_4detect_retro3</parameter-file>

  <parameter-description>
    For cattle (the bottom row of units), the latent period lasts 1 day, then the unit
    becomes infectious clinical.  Direct contact spread is set up such that each unit
    infects the one to its right.

    Diseased cattle units will be detected (by self-reporting) on their first day
    showing clinical signs.
    
    Vaccination begins when disease has been detected in 4 units.  Retrospective
    vaccination is set at 3 days.  Pig units within 0.75 km of a detected unit will be
    vaccinated.  Vaccination resources allow for 1 unit to be vaccinated per day.

    What should happen:
     - Day 1: Unit 0 will be latent.  It will infect unit 1.
     - Day 2-5: On each of these days, a detection will occur, starting with unit 0 on
       day 2 and ending with unit 3 on day 5.
     - Day 5: The 4th detection (unit 3) occurs on this day.  A vaccination program will
       be initiated, and the pig unit directly above unit 3 (unit 7) will be added to the
       vaccination queue.  Units 4, 5, and 6 will also be added to the vaccination queue,
       with unit 4 counting as the oldest request, because those units are in rings
       around units 0, 1, and 2, which were detected within the last 3 days
       (retrospective).
     - Day 6: Unit 4 will be vaccinated (its state will show as vaccine immune on day 7).
     - Day 7: Unit 5 will be vaccinated (its state will show as vaccine immune on day 9).
     - Day 8: Unit 6 will be vaccinated (its state will show as vaccine immune on day 9).
     - Day 9: Unit 7 will be vaccinated (its state will show as vaccine immune on day 10).
  </parameter-description>

  <output>
    <!--               Cattle Pigs                    -->
    <tr><td>LSSS SSSS</td></tr>
    <tr><td>CLSS SSSS</td></tr>
    <tr><td>CCLS SSSS</td></tr>
    <tr><td>DCCL SSSS</td></tr>
    <tr><td>DDCC SSSS</td></tr>
    <tr><td>DDDC SSSS</td></tr>
    <tr><td>DDDD VSSS</td></tr>
    <tr><td>DDDD VVSS</td></tr>
    <tr><td>DDDD VVVS</td></tr>
    <tr><td>DDDD VVVV</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>ring_vaccination</category>
  <short-name>vaccination request from exam, cancellation from test</short-name>

  <description>
    This test shows a bug that was discovered in April 2014. The test will not
    fail if run once with the random number generator fixed, but it will fail
    if run many times without the random number generator fixed.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>12 June 2014</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_sheep_infected</population-file>

  <parameter-file>vacc_request_from_exam_cancellation_from_test</parameter-file>

  <parameter-description>
    For sheep, the latent period lasts 1 day, the infectious subclinical period
    lasts 1 day, the infectious clinical period lasts 1 day. For cattle, the
    latent period lasts 1 day and the infectious clinical period lasts 2 days.
    For pigs, the latent period lasts 1 day and the infectious clinical period
    lasts 3 days. Immunity lasts 10 days for all types.

    For sheep, the probability of detection vs. the number of days a unit has
    been showing clinical signs is fixed at 1. The probability of reporting vs.
    the number of days since a public announcement of an outbreak is also fixed
    at 1. For cattle and pigs, the probability of detection vs. the number of
    days a unit has been showing clinical signs is fixed at 0.4, and the
    probability of reporting vs. the number of days since a public announcement
    of an outbreak is fixed at 1.

    When a diseased unit is detected, a trace out of direct contacts is
    initiated. The probability of success is 100% but there is a 3-day delay
    for trace results. Units identified by trace are examined for clinical
    signs; probability of detection is 2x the normal probability for
    self-reporting. If the exam does not detect clinical signs, a lab test is
    done. Tests have 100% sensitivity and specificity, and test results are
    available immediately.

    When a diseased pig unit is detected, all units within 15 km will be
    vaccinated, excluding detected ones. The delay to immunity is 2 days, and
    the immunity lasts 5 days. The authorities can vaccinate 3 units per day.

    There is no spread or destruction.

    What should happen:
     - On day 1 unit 0 (sheep) will be Latent.
     - On day 2 unit 0 will be Infectious Subclinical. It will expose and
       infect units 1 and 2 by direct contact.
     - On day 3 unit 0 will be Infectious Clinical. It will be detected and a
       trace of direct contacts will be initiated. Units 1 and 2 will be
       Latent.
     - On day 4 units 1 and 2 will be Infectious Clinical, but the probability
       of detection is too low for them to be detected.
     - On day 5 units 1 and 2 will be Infectious Clinical, but the probability
       of detection is too low for them to be detected.
     - On day 6 unit 1 (cattle) will be Naturally Immune and unit 2 (pigs) will
       still be Infectious Clinical. The probability of detection for unit 2 is
       still too low for it to be detected. The results of the trace initiated
       on day 3 will become available and cause both units 1 and 2 to be
       examined. Unit 2 will be detected, which will trigger a vaccination ring
       that includes unit 1. Unit 1 will not be detected by clinical signs (it
       is immune now) so it will be tested. The test will come back positive
       and that will cancel the request for vaccination of unit 1. It is at
       this point that the bug will show, because the vaccination list monitor
       may process the vaccination canceled event before it processes the
       request for vaccination event.
     - Nothing more of interest happens on day 7.
  </parameter-description>

  <output>
    <tr>
      <td>adqnU</td>
      <td>detnUSheep</td>
      <td>trnU</td>
      <td>detnUClin</td>
      <td>detnUTest</td>
      <td>vacwU</td>
    </tr>
    <!--  adqnU    detnUSheep    trnU    detnUClin  detnUTest    vacwU     -->
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>2</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>2</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>4</td> <td>1</td> <td>1</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
  </output>
</variable-test>
