<deterministic-test>
  <category>disease</category>
  <short-name>fixed # days for disease stages</short-name>

  <description>
    Test a scenario with fixed durations for each stage of the disease.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>25 November 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit</population-file>

  <parameter-file>disease_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>PDF # days for disease stages</short-name>

  <description>
    Run again, but with the duration of one stage of the disease given as a
    probability distribution.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>25 November 2003</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit</population-file>

  <parameter-file>disease_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day.  The duration of the infectious period is
    given by a triangular distribution with min = 1 day, max = 6 days, mode =
    5 days.  With a fixed "random" value of 0.5, this will give a value just
    over 4.  Clinical signs accompany infectiousness immediately, and immunity
    lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>period without clinical signs</short-name>

  <description>
    Run again, but with a period where the unit is infectious without clinical
    signs.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>24 January 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit</population-file>

  <parameter-file>disease_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness without clinical signs lasts
    1 day, infectiousness with clinical signs lasts 2 days, and immunity lasts
    1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>negative days in state</short-name>

  <description>
    Test a scenario where a negative number is chosen for the time spent in a
    state.  This is a possibility when distributions with infinite lower tails
    are used.  The unit should simply spend 0 days in that state, that is, skip
    directly to the next state.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>24 January 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit</population-file>

  <parameter-file>disease_neg_days</parameter-file>

  <parameter-description>
    The latent period lasts 1 day.  Infectiousness without clinical signs is
    given as a symmetric triangular distribution with mode -1, so with the
    random number generator "fixed" to always produce 0.5, the number sampled
    will always be -1.  Infectiousness with clinical signs lasts 2 days, and
    immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>zero days in all states Latent-Naturally Immune</short-name>

  <description>
    Test a scenario where every state in the disease cycle lasts 0 days.  The
    unit should be Susceptible from the start.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 May 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit</population-file>

  <parameter-file>disease_0days</parameter-file>

  <parameter-description>
    The latent, infectious subclinical, infectious clinical, and naturally
    immune periods all last 0 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td></tr>
    <tr><td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, subclinical</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given
    explicitly in the population file.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 May 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit_start_subclinical</population-file>

  <parameter-file>disease_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness without clinical signs lasts
    1 day, infectiousness with clinical signs lasts 2 days, and immunity lasts
    1 day.  However, the population file states that the unit starts out infectious
    subclinical.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, clinical</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given
    explicitly in the population file.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit_start_infectious</population-file>

  <parameter-file>disease_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the population file states that the unit starts out infectious.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, destroyed</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Destroyed in the population file.  This test also includes one infected unit so
    that the simulation doesn't early-exit right away.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 March 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_destroyed</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>disease</category>
  <short-name>override initial state, destroyed, check reporting variables</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Destroyed in the population file.  This test also includes one infected unit so
    that the simulation doesn't early-exit right away.  The count of initially
    destroyed units should be 1.  The count of units awaiting destruction
    should be at 0 the whole time (initially destroyed units are never
    waiting).
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>29 June 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_destroyed</population-file>

  <parameter-file>disease_2species_same_params_w_vars</parameter-file>

  <parameter-description>
    The parameters are identical to "override initial state, destroyed" above.
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>desnUIni</td>
      <td>desnUBeefCattle</td>
      <td>desnUPigs</td>
      <td>desnUIniBeefCattle</td>
      <td>desnUIniPigs</td>
      <td>descU</td>
      <td>descUIni</td>
      <td>descUBeefCattle</td>
      <td>descUPigs</td>
      <td>descUIniBeefCattle</td>
      <td>descUIniPigs</td>
      <td>deswU</td>
    </tr>
    <!-- Day-by-day                                     Initially/  Initially/ | Cumulative                                      Initially/  Initially/ |             -->
    <!--  Total     Initially     Cattle       Pigs       Cattle       Pigs    |   Total     Initially     Cattle       Pigs       Cattle       Pigs    |  Waiting    -->
    <tr><td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
    <!-- Note that the "Ini" counts are separate, and most of the output
      variables are reserved for infections that happen during the simulation. -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, naturally immune</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Naturally Immune in the population file.  This test also includes one infected
    unit so that the simulation doesn't early-exit right away.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 March 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_nimmune</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>disease</category>
  <short-name>override initial state, naturally immune, check reporting variables</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Naturally Immune in the population file.  This test also includes one infected
    unit so that the simulation doesn't early-exit right away.  The count of
    initially vaccinated units should be 0 (unlike if the initial state was
    vaccine immune).
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>29 June 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_nimmune</population-file>

  <parameter-file>disease_2species_same_params_w_vars2</parameter-file>

  <parameter-description>
    The parameters are identical to "override initial state, naturally immune"
    above.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
      <td>vacnUIni</td>
      <td>vacnUBeefCattle</td>
      <td>vacnUPigs</td>
      <td>vacnUIniBeefCattle</td>
      <td>vacnUIniPigs</td>
      <td>vaccU</td>
      <td>vaccUIni</td>
      <td>vaccUBeefCattle</td>
      <td>vaccUPigs</td>
      <td>vaccUIniBeefCattle</td>
      <td>vaccUIniPigs</td>
      <td>vacwU</td>
    </tr>
    <!-- Day-by-day                                     Initially/  Initially/ | Cumulative                                      Initially/  Initially/ |             -->
    <!--  Total     Initially     Cattle       Pigs       Cattle       Pigs    |   Total     Initially     Cattle       Pigs       Cattle       Pigs    |  Waiting    -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state, vaccine immune</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Vaccine Immune in the population file.  This test also includes one infected unit
    so that the simulation doesn't early-exit right away.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 March 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_vimmune</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 1 day.
    Immunity due to vaccination lasts 3 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>disease</category>
  <short-name>override initial state, vaccine immune, check reporting variables</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Vaccine Immune in the population file.  This test also includes one infected unit
    so that the simulation doesn't early-exit right away.  The count of
    initially vaccinated units should be 1 (unlike if the initial state was
    naturally immune).  The count of units awaiting vaccination should be at 0
    the whole time (initially vaccinated units are never waiting).
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>29 June 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_vimmune</population-file>

  <parameter-file>disease_2species_same_params_w_vars2</parameter-file>

  <parameter-description>
    The parameters are identical to "override initial state, vaccine immune"
    above.
  </parameter-description>

  <output>
    <tr>
      <td>vacnU</td>
      <td>vacnUIni</td>
      <td>vacnUBeefCattle</td>
      <td>vacnUPigs</td>
      <td>vacnUIniBeefCattle</td>
      <td>vacnUIniPigs</td>
      <td>vaccU</td>
      <td>vaccUIni</td>
      <td>vaccUBeefCattle</td>
      <td>vaccUPigs</td>
      <td>vaccUIniBeefCattle</td>
      <td>vaccUIniPigs</td>
      <td>vacwU</td>
    </tr>
    <!-- Day-by-day                                     Initially/  Initially/ | Cumulative                                      Initially/  Initially/ |             -->
    <!--  Total     Initially     Cattle       Pigs       Cattle       Pigs    |   Total     Initially     Cattle       Pigs       Cattle       Pigs    |  Waiting    -->
    <tr><td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
    <!-- Note that the "Ini" counts are separate, and most of the output
      variables are reserved for infections that happen during the simulation. -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>   <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override days left in state</short-name>

  <description>
    Test a scenario where the number of days left before a state transition is
    explicitly given in the population file.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit_1dayleft</population-file>

  <parameter-file>override_days_left</parameter-file>

  <parameter-description>
    The disease parameters state that the latent period lasts 2 days,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 1 day.  However, the number of days left in
    the latent state is explicity given as 1 day in the population file.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override days left in state 2</short-name>

  <description>
    Test a scenario where the number of days left before a state transition is
    explicitly given in the population file.  This scenario is like "override days
    left in state" above, but with a different number of days.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit_3daysleft</population-file>

  <parameter-file>override_days_left</parameter-file>

  <parameter-description>
    The disease parameters state that the latent period lasts 2 days,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 1 day.  However, the number of days left in
    the latent state is explicity given as 3 days in the population file.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td></tr>
    <tr><td>Latent</td></tr>
    <tr><td>Latent</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state</short-name>

  <description>
    Test a scenario where the starting disease state of a unit and the number
    of days left before a state transition are given explicitly in the population
    file.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 January 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>1unit_start_infectious_1dayleft</population-file>

  <parameter-file>disease_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the population file states that the unit starts out infectious and it will remain
    in that state for only 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, naturally immune</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Naturally Immune in the population file, and the number of days left before a
    state transition is also given explicitly in the population file.  This test also
    includes one infected unit so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_nimmune_2daysleft</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the population file states that one unit starts out immune and it will remain in
    that state for 2 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, naturally immune 2</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Naturally Immune in the population file, and the number of days left before a
    state transition is also given explicitly in the population file.  This test also
    includes one infected unit so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_nimmune_3daysleft</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  However,
    the population file states that one unit starts out immune and it will remain in
    that state for 3 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, vaccine immune</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Vaccine Immune in the population file, and the number of days left before a state
    transition is also given explicitly in the population file.  This test also
    includes one infected unit so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_vimmune_1dayleft</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 1 day.
    Immunity due to vaccination lasts 3 days.  However, the population file states
    that one unit starts out vaccine immune and it will remain in that state
    for only 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>override initial state + days left in state, vaccine immune 2</short-name>

  <description>
    Test a scenario where the starting disease state of a unit is given as
    Vaccine Immune in the population file, and the number of days left before a state
    transition is also given explicitly in the population file.  This test also
    includes one infected unit so that the simulation doesn't early-exit right
    away.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 March 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_1_start_vimmune_2daysleft</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 1 day.
    Immunity due to vaccination lasts 3 days.  However, the population file states
    that one unit starts out vaccine immune and it will remain in that state
    for only 2 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>different production types, same parameters</short-name>

  <description>
    Test a scenario with two production types with the same parameters.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 July 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>disease_2species_same_params</parameter-file>

  <parameter-description>
    For cattle and pigs, the latent period lasts 1 day, infectiousness lasts 2
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 1 day.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>

</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>different production types, different parameters</short-name>

  <description>
    Test a scenario with two production types with different parameters.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 January 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>disease_2species</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 2
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 1 day.  For pigs (unit 1), the latent period lasts 1 day,
    infectiousness without clinical signs lasts 1 day, infectiousness with
    clinical signs lasts 1 day, and immunity lasts 2 days.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>natural immunity prevents infection 0</short-name>

  <description>
    Test that a naturally immune unit cannot get infected.  This scenario is a
    baseline where the unit does not have immunity.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>30 April 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>natural_immunity_prevents_infection_0</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 3 days, infectiousness lasts 1
    day, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For pigs (unit 1), the latent period lasts 1 day,
    infectiousness lasts 1 day, clinical signs accompany infectiousness
    immediately, and immunity lasts zero days (the unit goes directly from
    Infectious Clinical to Susceptible).

    The movement rate from cattle units to pig units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    There is no detection, vaccination, or destruction.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (cattle) and 1 (pigs) will be latent.
     - On day 2 unit 1 will be Infectious Clinical, but there are no shipments
       from that production type, so it will have no effect.
     - On day 3 unit 1 will return to Susceptible.
     - On day 4 unit 0 will be Infectious Clinical.  It will ship to and
       infect unit 1.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Latent</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>natural immunity prevents infection 1</short-name>

  <description>
    Test that a naturally immune unit cannot get infected.  This scenario is
    identical to "natural immunity prevents infection 0" above, except that
    this time the recipient unit is immune when the source unit attempts to
    infect it.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>30 April 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>natural_immunity_prevents_infection_1</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 3 days, infectiousness lasts 1
    day, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For pigs (unit 1), the latent period lasts 1 day,
    infectiousness lasts 1 day, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.

    The movement rate from cattle units to pig units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    There is no detection, vaccination, or destruction.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (cattle) and 1 (pigs) will be latent.
     - On day 2 unit 1 will be Infectious Clinical, but there are no shipments
       from that production type, so it will have no effect.
     - On day 3 unit 1 will be Naturally Immune.
     - On day 4 unit 0 will be Infectious Clinical.  It will ship to unit 1,
       will fail to infect it because of the immunity.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>NaturallyImmune</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>vaccine immunity prevents infection 0</short-name>

  <description>
    Test that a vaccine immune unit cannot get infected.  This scenario is a
    baseline with no vaccination.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 April 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>vaccine_prevents_infection_0</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 6
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For cattle (unit 1), the latent period lasts 1 day,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.  For pigs (unit 2), the latent
    period lasts 4 days, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    The probability of detection vs. the number of days sheep have been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detection of cattle or pigs.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited number of units each day.

    The authorities will begin vaccinating in 10 km rings around detections,
    starting with the first detection.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.  The authorities have zero
    vaccination capacity.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.
     - On day 2 unit 0 (sheep) will be Infectious Clinical.  Unit 0 will be
       detected and marked for destruction.  Unit 1 (cattle) will be marked for
       vaccination because it is within 10 km of unit 0, but it will never be
       vaccinated because of the zero vaccination capacity.
     - On day 3 unit 0 will be destroyed.
     - On day 4 nothing new will happen.
     - On day 5 unit 2 (pigs) will be Infectious Clinical.  It will ship to and
       infect unit 1.
     - On day 6 the newly-infected unit 1 will be Latent.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>vaccine immunity prevents infection 1</short-name>

  <description>
    Test that a vaccine immune unit cannot get infected.  In this scenario,
    vaccination happens and blocks the infection that is seen in the baseline
    (no vaccination) scenario above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 April 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>vaccine_prevents_infection_1</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 6
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For cattle (unit 1), the latent period lasts 1 day,
    infectiousness lasts 2 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.  For pigs (unit 2), the latent
    period lasts 4 days, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 per day.
    The distance of shipments is fixed at 10 km.  The probability of infection
    given exposure is 1.  Latent units cannot be the source of an exposure.

    The probability of detection vs. the number of days sheep have been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detection of cattle or pigs.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited number of units each day.

    The authorities will begin vaccinating in 10 km rings around detections,
    starting with the first detection.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days. The authorities can vaccinate
    an unlimited number of units each day.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.
     - On day 2 unit 0 (sheep) will be Infectious Clinical.  Unit 0 will be
       detected and marked for destruction.  Unit 1 (cattle) will be marked for
       vaccination because it is within 10 km of unit 0.
     - On day 3 unit 0 will be destroyed and unit 1 will be vaccinated.
     - On day 4 unit 1 will be Vaccine Immune.
     - On day 5 unit 2 (pigs) will be Infectious Clinical.  It will ship to
       unit 1, but will fail to infect it because of the immunity.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>Latent</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>VaccineImmune</td>  <td>NaturallyImmune</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>no early exit 1</short-name>

  <description>
    Test that the simulation's early-exit rules are followed.
    
    In the tests "no early exit" 1-3, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and unit 1 is marked for vaccination.
  </description>

  <author>Anthony &quot;Drew&quot; Schwickerath &lt;Drew.Schwickerath@ColoState.edu&gt;</author>
  <creation-date>24 June 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units</population-file>

  <parameter-file>no_early_exit_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities can
    vaccinate an unlimited/very large number of units each day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 unit 1 will be vaccinated.
     - On day 4 unit 1's state will show as Immune.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.

    num-days is 6, so the simulation stops after day 5 (when it has run its course).
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>VaccineImmune</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>early exit 1</short-name>

  <description>
    Test that the simulation's early-exit rules are followed.
    
    In the tests "early exit" 1-4, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and unit 1 is marked for vaccination.
  </description>

  <author>Anthony &quot;Drew&quot; Schwickerath &lt;Drew.Schwickerath@ColoState.edu&gt;</author>
  <creation-date>24 June 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities can
    vaccinate an unlimited/very large number of units each day.  The vaccine
    produces immunity immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 unit 1 will be vaccinated.
     - On day 4 unit 1's state will show as Immune.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.

    num-days is 3, so the simulation stops after day 3.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <!-- Day 3, simulation stops. -->
  </output>
</deterministic-test>

<deterministic-test>
  <category>disease</category>
  <short-name>early exit 2</short-name>

  <description>
    Test that the simulation's early-exit rules are followed.
    
    In the tests "early exit" 1-4, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and unit 1 is marked for vaccination.
  </description>

  <author>Anthony &quot;Drew&quot; Schwickerath &lt;Drew.Schwickerath@ColoState.edu&gt;</author>
  <creation-date>24 June 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities have no
    resources to vaccinate any units each day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 nothing changes.
     - On day 4 unit 1's state will show as Immune.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.

    exit-condition is disease-end, so the simulation stops after day 5,
    despite the fact that unit 2 is on the vaccination list.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td></tr>
    <!-- No infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>disease</category>
  <short-name>early exit 3</short-name>

  <description>
    Test that the simulation's early-exit rules are followed.
    
    In the tests "early exit" 1-4, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and units 1-4 are marked for vaccination.
  </description>

  <author>Anthony &quot;Drew&quot; Schwickerath &lt;Drew.Schwickerath@ColoState.edu&gt;</author>
  <creation-date>24 June 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_very_close</population-file>

  <parameter-file>early_exit_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities have
    resources to vaccinate one units each day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 a unit is vaccinated.
     - On day 4 a unit is vaccinated and the one from day 3 becomes immune.
     - On day 5 a unit is vaccinated and the one from day 4 becomes immune.  Unit 0 will no longer be infectious.
     - On day 6 a unit is vaccinated and the one from day 5 becomes immune.
     - On day 7 the unit from day 6 becomes immune.

    exit-condition is not set to disease-end and num-days is set to 5 so the
    simulation stops after day 5, despite the fact that there is still a unit
    on the vaccination list.
  </parameter-description>

  <output>
    <tr>
      <td>vacwU</td>
    </tr>
    <tr><td>0</td></tr>
    <tr><td>4</td></tr>
    <tr><td>3</td></tr>
    <tr><td>2</td></tr>
    <tr><td>1</td></tr>
    <!-- Day 5, simulation stops. -->
  </output>
</variable-test>

<deterministic-test>
  <category>disease</category>
  <short-name>early exit 4</short-name>

  <description>
    Test that the simulation's early-exit rules are followed.
    
    In the tests "early exit" 1-4, there are two units.  Unit 0 is infected.
    On day 1 unit 0 is detected and unit 1 is marked for vaccination.
  </description>

  <author>Anthony &quot;Drew&quot; Schwickerath &lt;Drew.Schwickerath@ColoState.edu&gt;</author>
  <creation-date>24 June 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units</population-file>

  <parameter-file>early_exit_4</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and natural immunity lasts 3 days.

    There is no spread.
    
    The probability of detecting a diseased unit vs. the number of days the
    animals have been showing clinical signs is fixed at 1. The probability of
    detecting a diseased unit vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  The authorities will
    vaccinate units within 10 km of a detected unit.  The authorities have no
    resources to vaccinate any units each day.  The vaccine produces immunity
    immediately, and the immunity lasts 5 days.

    There is no destruction.

    Recapping what should happen as a result of all this:
     - On day 1 unit 0 will be latent.
     - On day 2 unit 0 will be Infectious Clinical.  It will be detected, and
       unit 1 will be marked for vaccination because it is within 10 km of a
       detected unit.
     - On day 3 nothing changes.
     - On day 4 unit 1's state will show as Immune.
     - On day 5 unit 0 will no longer be infectious.  Because there are no
       infectious units left and nothing left to do, the simulation can end.

    exit-condition is first-detection, so the simulation stops after day 2.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td></tr>
    <!-- First detection, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence default</short-name>
  
  <description>
    Check that the default prevalence when no prevalence curve is given is
    100%.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>24 April 2005</creation-date>
  <model-version>3.1</model-version>

  <population-file>1unit</population-file>

  <parameter-file>prevalence_default</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.  No
    prevalence curve is given.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <output>
    <tr>
      <td>tsdUSusc</td>
      <td>tsdULat</td>
      <td>tsdUSubc</td>
      <td>tsdUClin</td>
      <td>tsdUNImm</td>
      <td>tsdUVImm</td>
      <td>tsdUDest</td>
      <td>averagePrevalence</td>
    </tr>
    <tr><td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1.0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1.0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 2 days</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence default" above, but has a very simple prevalence curve that
    lasts 2 days.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>24 April 2005</creation-date>
  <model-version>3.1</model-version>

  <population-file>1unit</population-file>

  <parameter-file>prevalence_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  Because
    the curve spans 2 days and the disease lasts 2 days, the prevalence found
    by interpolating at the middle of each day should be 0.5.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_1</diagram>
  <diagram>1unit</diagram>

  <output>
    <tr>
      <td>tsdUSusc</td>
      <td>tsdULat</td>
      <td>tsdUSubc</td>
      <td>tsdUClin</td>
      <td>tsdUNImm</td>
      <td>tsdUVImm</td>
      <td>tsdUDest</td>
      <td>averagePrevalence</td>
    </tr>
    <tr><td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0.5</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.5</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 4 days</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence over 2 days" above, but it stretches the prevalence curve over
    4 days.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>24 April 2005</creation-date>
  <model-version>3.1</model-version>

  <population-file>1unit</population-file>

  <parameter-file>prevalence_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  Because
    the curve spans 2 days and the disease lasts 4 days, the prevalence values
    found by interpolating at the middle of each day should be 0.25, 0.75,
    0.75, and 0.25.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_2</diagram>
  <diagram>1unit</diagram>

  <output>
    <tr>
      <td>tsdUSusc</td>
      <td>tsdULat</td>
      <td>tsdUSubc</td>
      <td>tsdUClin</td>
      <td>tsdUNImm</td>
      <td>tsdUVImm</td>
      <td>tsdUDest</td>
      <td>averagePrevalence</td>
    </tr>
    <tr><td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0.25</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.25</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 4 days, override initial state</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence over 4 days" above, but it starts with the unit infectious
    clinical.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>8 December 2008</creation-date>
  <model-version>3.1</model-version>

  <population-file>1unit_start_infectious</population-file>

  <parameter-file>prevalence_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  Because
    the curve spans 2 days and the disease lasts 4 days, the prevalence values
    found by interpolating at the middle of each day should be 0.25, 0.75,
    0.75, and 0.25.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_2</diagram>
  <diagram>1unit_start_infectious</diagram>

  <output>
    <tr>
      <td>tsdUSusc</td>
      <td>tsdULat</td>
      <td>tsdUSubc</td>
      <td>tsdUClin</td>
      <td>tsdUNImm</td>
      <td>tsdUVImm</td>
      <td>tsdUDest</td>
      <td>averagePrevalence</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.25</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 4 days, override initial state + days left in state</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence over 4 days" above, but it starts with the unit infectious
    clinical with 2 days left in that state.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>8 December 2008</creation-date>
  <model-version>3.1</model-version>

  <population-file>1unit_start_infectious_2daysleft</population-file>

  <parameter-file>prevalence_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  Because
    the curve spans 2 days and the disease lasts 4 days, the prevalence values
    found by interpolating at the middle of each day should be 0.25, 0.75,
    0.75, and 0.25.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_2</diagram>
  <diagram>1unit_start_infectious</diagram>

  <output>
    <tr>
      <td>tsdUSusc</td>
      <td>tsdULat</td>
      <td>tsdUSubc</td>
      <td>tsdUClin</td>
      <td>tsdUNImm</td>
      <td>tsdUVImm</td>
      <td>tsdUDest</td>
      <td>averagePrevalence</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.25</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 4 days, override initial state + days in state</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence over 4 days" above, but it starts with the unit infectious
    clinical with 1 day of the clinical period already elapsed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 January 2009</creation-date>
  <model-version>3.1</model-version>

  <population-file>1unit_start_infectious_1dayin</population-file>

  <parameter-file>prevalence_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  Because
    the curve spans 2 days and the disease lasts 4 days, the prevalence values
    found by interpolating at the middle of each day should be 0.25, 0.75,
    0.75, and 0.25.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_2</diagram>
  <diagram>1unit_start_infectious</diagram>

  <output>
    <tr>
      <td>tsdUSusc</td>
      <td>tsdULat</td>
      <td>tsdUSubc</td>
      <td>tsdUClin</td>
      <td>tsdUNImm</td>
      <td>tsdUVImm</td>
      <td>tsdUDest</td>
      <td>averagePrevalence</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.75</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.25</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>disease</category>
  <short-name>prevalence over 4 days, override initial state + days in state + days left in state</short-name>
  
  <description>
    Test that prevalence is calculated correctly.  This scenario is like
    "prevalence over 4 days" above, but it starts with the unit infectious
    clinical with 1 day of the clinical period already elapsed and 4 days left.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 January 2009</creation-date>
  <model-version>3.1</model-version>

  <population-file>1unit_start_infectious_1dayin_4daysleft</population-file>

  <parameter-file>prevalence_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 1 day.
    
    The prevalence curve is a simple triangle: (0,0), (1,1), (2,0).  The disease
    would normally last 4 days (1 day latent + 3 days infectious), but because
    we have overridden both the days elapsed and the days remaining in the
    infectious period, the disease will last 6 days (1 day latent + 5 days
    infectious).  The prevalence values found by interpolating at the middle of
    each day should be 1/6, 3/6, 5/6, 5/6, 3/6, and 1/6.

    There is no spread, detection, vaccination, or destruction.
  </parameter-description>

  <diagram>prevalence_triangle_6days</diagram>
  <diagram>1unit_start_infectious</diagram>

  <output>
    <tr>
      <td>tsdUSusc</td>
      <td>tsdULat</td>
      <td>tsdUSubc</td>
      <td>tsdUClin</td>
      <td>tsdUNImm</td>
      <td>tsdUVImm</td>
      <td>tsdUDest</td>
      <td>averagePrevalence</td>
    </tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.83333</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.83333</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.5</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0.16667</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0.0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>disease</category>
  <short-name>prevalence used for 2 production types</short-name>

  <description>
    In this test, prevalence is used for 2 production types, and units of both
    production types cause disease spread by direct contact. This test is
    included to check for the presence of a bug that caused prevalence charts
    for all but the first production type to be ignored. (The bug was
    introduced in a development version and was never in a release version.)
  </description>

  <author>&lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>13 May 2014</creation-date>
  <model-version>3.2</model-version>

  <population-file>6units_2</population-file>

  <parameter-file>prevalence_2_prodtypes</parameter-file>

  <parameter-description>
    For both production types, the latent period lasts 1 day, the infectious
    clinical period lasts 2 days, and the immune period lasts 1 day. Cattle
    units have 1 outgoing direct contact per day to another cattle unit 1 km
    away. Pig units have 1 outgoing direct contact per day to another pig unit
    1 km away.  The prevalence is given by a chart that increases linearly
    from 0 to 7.  There is no detection or control measures.
    
    What should happen:
    - On day 1 units 0 and 1 will be Latent.
    - On day 2 units 0 and 1 will be Infectious Clinical. They will each have
      1 outgoing contact, but on this day their prevalence will be too low to
      cause infection.
    - On day 3 units 0 and 1 will be Infectious Clinical. They will each have
      1 outgoing contact, and on this day their prevalence will be high enough
      to cause infection.
    - On day 4 units 2 and 5 will be Latent. The test is stopped at this day
      because we are not concerned with secondary spread.      
  </parameter-description>

  <output>
    <tr><td>L L S S S S</td></tr>
    <tr><td>C C S S S S</td></tr>
    <tr><td>C C S S S S</td></tr>
    <tr><td>N N L S S L</td></tr>
  </output>
</deterministic-test>
