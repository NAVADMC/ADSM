<deterministic-test>
  <category>control_measures</category>
  <short-name>no delay to start destruction program</short-name>

  <description>
    Test a scenario with no delay in starting up a destruction program and no
    limit on the number of units that can be destroyed each day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_0</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    There is no spread or vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 all units will be Latent.
     - On day 2 all units will be Infectious Clinical.  They will be detected
       and slated for destruction.
     - On day 3 all units will be destroyed.  Their state will appear as
       Destroyed on day 4.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>no delay to start destruction program, check reporting variables</short-name>

  <description>
    Test that the number of units destroyed, the cumulative number of units
    destroyed, and the number of units awaiting destruction is reported 
    correctly.  In this scenario, the same as "no delay to start destruction
    program" above, there is no delay in starting up a destruction program and
    no limit on the number of units that can be destroyed each day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>7 April 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_0_w_vars</parameter-file>

  <parameter-description>
    The parameters are identical to the test "no delay to start destruction
    program" above.

    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    There is no spread or vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 all units will be Latent.
     - On day 2 all units will be Infectious Clinical.  They will be detected
       and slated for destruction.
     - On day 3 all units will be destroyed.  Their state will appear as
       Destroyed on day 4.
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>desnA</td>
      <td>descU</td>
      <td>descA</td>
      <td>deswU</td>
    </tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>0</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>4</td></tr>
    <tr><td>4</td> <td>100</td> <td>4</td> <td>100</td> <td>0</td></tr>
    <!-- Each herd is of size 25. -->
    <tr><td>0</td>   <td>0</td> <td>4</td> <td>100</td> <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>1 day to start destruction program</short-name>

  <description>
    Run again, but with a 1 day delay for setting up a destruction program.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities require 1 day to set up a destruction program before
    beginning.  The authorities can destroy an unlimited/very large number of
    units each day.
    
    There is no spread or vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 all units will be Latent.
     - On day 2 all units will be Infectious Clinical.  They will be detected
       and slated for destruction.
     - On day 3 the destruction program has not begun.
     - On day 4 all units will be destroyed.  Their state will appear as
       Destroyed on day 5.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>1 day to start destruction program, check reporting variables</short-name>

  <description>
    Test that the number of units destroyed, the cumulative number of units
    destroyed, and the number of units awaiting destruction is reported 
    correctly.  In this scenario, the same as "1 day to start destruction
    program" above, there is a 1 day delay for setting up a destruction
    program.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>7 April 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_1_w_vars</parameter-file>

  <parameter-description>
    The parameters are identical to the test "1 day to start destruction
    program" above.

    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities require 1 day to set up a destruction program before
    beginning.  The authorities can destroy an unlimited/very large number of
    units each day.
    
    There is no spread or vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 all units will be Latent.
     - On day 2 all units will be Infectious Clinical.  They will be detected
       and slated for destruction.
     - On day 3 the destruction program has not begun.
     - On day 4 all units will be destroyed.  Their state will appear as
       Destroyed on day 5.
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>desnA</td>
      <td>descU</td>
      <td>descA</td>
      <td>deswU</td>
    </tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>0</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>4</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>4</td></tr>
    <tr><td>4</td> <td>100</td> <td>4</td> <td>100</td> <td>0</td></tr>
    <!-- Each herd is of size 25. -->
    <tr><td>0</td>   <td>0</td> <td>4</td> <td>100</td> <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>3 days to start destruction program</short-name>

  <description>
    Run again, but with a 3 day delay for setting up a destruction program.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities can destroy an unlimited/very large number of
    units each day.
    
    There is no spread or vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 all units will be Latent.
     - On day 2 all units will be Infectious Clinical.  They will be
        detected and slated for destruction.
     - On days 3, 4, and 5 the destruction program has not begun.
     - On day 6 all units will be destroyed.  Their state will appear
       as Destroyed on day 7.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
<!--
    Nothing to do, simulation stops.
-->
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>3 days to start destruction program, check reporting variables</short-name>

  <description>
    Test that the number of units destroyed, the cumulative number of units
    destroyed, and the number of units awaiting destruction is reported 
    correctly.  In this scenario, the same as "3 days to start destruction
    program" above, there is a 3 day delay for setting up a destruction
    program.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>7 April 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_3_w_vars</parameter-file>

  <parameter-description>
    The parameters are identical to the test "3 days to start destruction
    program" above.

    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.
    
    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities can destroy an unlimited/very large number of
    units each day.
    
    There is no spread or vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 all units will be Latent.
     - On day 2 all units will be Infectious Clinical.  They will be detected
       and slated for destruction.
     - On days 3, 4, and 5 the destruction program has not begun.
     - On day 6 all units will be destroyed.  Their state will appear as
       Destroyed on day 7.
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>desnA</td>
      <td>descU</td>
      <td>descA</td>
      <td>deswU</td>
    </tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>0</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>4</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>4</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>4</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>4</td></tr>
    <tr><td>4</td> <td>100</td> <td>4</td> <td>100</td> <td>0</td></tr>
    <!-- Each herd is of size 25. -->
    <tr><td>0</td>   <td>0</td> <td>4</td> <td>100</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>1 unit/day destruction limit</short-name>

  <description>
    Test the destruction capacity.  Use no delay in starting up a destruction
    program and a destruction capacity of 1 unit per day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_0_limit_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy 1 unit each day.
  </parameter-description>

  <output>
    <tr><td>desnU</td></tr>
    <tr><td>0</td></tr>
    <tr><td>0</td></tr>
    <tr><td>1</td></tr>
    <tr><td>1</td></tr>
    <tr><td>1</td></tr>
    <tr><td>1</td></tr>
    <tr><td>0</td></tr>
<!--
    Nothing to do, simulation stops.
-->
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>2 units/day destruction limit</short-name>

  <description>
    Run again, but with a destruction capacity of 2 units per day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_0_limit_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy 2 units each day.
  </parameter-description>

  <output>
    <tr><td>desnU</td></tr>
    <tr><td>0</td></tr>
    <tr><td>0</td></tr>
    <tr><td>2</td></tr>
    <tr><td>2</td></tr>
    <tr><td>0</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>1 incr. to 4 units/day destruction limit</short-name>

  <description>
    Run again, but with destruction capacity increasing from 1 unit per day on
    the first day to 4 units per day on the 4th day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_all_infected</population-file>

  <parameter-file>delay_0_limit_1to4</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy 1 unit on the first day.  The destruction capacity
    increases linearly to 4 units on the fourth day.
  </parameter-description>

  <output>
    <tr><td>desnU</td></tr>
    <tr><td>0</td></tr>
    <tr><td>0</td></tr>
    <tr><td>1</td></tr>
    <tr><td>2</td></tr>
    <tr><td>3</td></tr>
    <tr><td>2</td></tr>
    <tr><td>0</td></tr>
<!--
    Nothing to do, simulation stops.
-->
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>3 days to start destruction program, 1 incr. to 4 units/day destruction limit</short-name>

  <description>
    Run again, but with a 3 day delay for setting up a destruction program and
    destruction capacity increasing from 1 unit per day on the first day to 4
    units per day on the 4th day.  This will test whether the increase is
    marked from the day of first detection (correct) vs. the day of starting
    destructions (incorrect).
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_all_infected</population-file>

  <parameter-file>delay_3_limit_1to4</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 2 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The probability of detection vs. the number of days a unit has been showing
    clinical signs is fixed at 1.  The probability of detection vs. the number
    of days since a public announcement of an outbreak is also fixed at 1.
    
    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit on the first day.  The
    destruction capacity increases linearly to 4 units on the fourth day.
  </parameter-description>

  <output>
    <tr><td>desnU</td></tr>
    <tr><td>0</td></tr>
    <tr><td>0</td></tr>
    <tr><td>0</td></tr>
    <tr><td>0</td></tr>
    <tr><td>0</td></tr>
    <tr><td>4</td></tr>
    <tr><td>4</td></tr>
    <tr><td>0</td></tr>
<!--
    Nothing to do, simulation stops.
-->
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>1 incr. to 4 units/day destruction limit, peak and average wait times</short-name>

  <description>
    Test that the peak and average destruction wait times are calculated
    correctly.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 June 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_all_infected</population-file>

  <parameter-file>delay_0_limit_1to4_w_vars</parameter-file>

  <parameter-description>
    The parameters are identical to "1 incr. to 4 units/day destruction limit"
    above.

    What should happen:
     - On day 1 all the units will be Latent.
     - On day 2 all the units will be Infectious Clinical.  They will all be
       detected and marked for destruction.
     - On day 3 one unit will be destroyed.  The average wait will be 1 (1 unit
       waited 1 day before destruction).
     - On day 4 two units will be destroyed.  The average wait will be
       (2x2+1)/3=1.667 (2 units waited 2 days before destruction, 1 unit waited
       1 day before destruction).
     - On day 5 three units will be destroyed.  The average wait will be
       (3x3+2x2+1)/6=2.333 (3 units waited 3 days before destruction, 2 units
       waited 2 days before destruction, 1 unit waited 1 day before
       destruction).
     - On day 6 the remaining two units will be destroyed.  The average wait
       will be (2x4+3x3+2x2+1)/8=2.75 (2 units waited 4 days before destruction,
       3 units waited 3 days before destruction, 2 units waited 2 days before
       destruction, 1 unit waited 1 day before destruction).
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>deswU</td>
      <td>deswUTimeMax</td>
      <td>deswUTimeAvg</td>
      <td>deswUMax</td>
      <td>deswUMaxDay</td>
    </tr>
    <tr><td>0</td>  <td>0</td>   <td></td>       <td></td>  <td>0</td>   <td></td></tr>
    <tr><td>0</td>  <td>8</td>   <td></td>       <td></td>  <td>8</td>  <td>2</td></tr>
    <tr><td>1</td>  <td>7</td>  <td>1</td>      <td>1</td>  <td>8</td>  <td>2</td></tr>
    <tr><td>2</td>  <td>5</td>  <td>2</td>  <td>1.667</td>  <td>8</td>  <td>2</td></tr>
    <tr><td>3</td>  <td>2</td>  <td>3</td>  <td>2.333</td>  <td>8</td>  <td>2</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>4</td>   <td>2.75</td>  <td>8</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>4</td>   <td>2.75</td>  <td>8</td>  <td>2</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>3 days to start destruction program, 1 incr. to 4 units/day destruction limit, peak and average wait times</short-name>

  <description>
    Test that the peak and average destruction wait times are calculated
    correctly.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>3 June 2009</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_all_infected</population-file>

  <parameter-file>delay_3_limit_1to4_w_vars</parameter-file>

  <parameter-description>
    The parameters are identical to "3 days to start destruction program, 1
    incr. to 4 units/day destruction limit" above.

    What should happen:
     - On day 1 all the units will be Latent.
     - On day 2 all the units will be Infectious Clinical.  They will all be
       detected and marked for destruction.
     - On days 3, 4, and 5, nothing will happen.
     - On day 6 four units will be destroyed.  The average wait will be 4 (4
       units waited 4 days before destruction).
     - On day 7 the remaining four units will be destroyed.  The average wait
       will be (4x5+4x4)/8=4.5 (4 units waited 5 days before destruction, 4
       units waited 4 days before destruction).
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>deswU</td>
      <td>deswUTimeMax</td>
      <td>deswUTimeAvg</td>
      <td>deswUMax</td>
      <td>deswUMaxDay</td>
    </tr>
    <tr><td>0</td>  <td>0</td>   <td></td>     <td></td>  <td>0</td>   <td></td></tr>
    <tr><td>0</td>  <td>8</td>   <td></td>     <td></td>  <td>8</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>8</td>   <td></td>     <td></td>  <td>8</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>8</td>   <td></td>     <td></td>  <td>8</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>8</td>   <td></td>     <td></td>  <td>8</td>  <td>2</td></tr>
    <tr><td>4</td>  <td>4</td>  <td>4</td>    <td>4</td>  <td>8</td>  <td>2</td></tr>
    <tr><td>4</td>  <td>0</td>  <td>5</td>  <td>4.5</td>  <td>8</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>5</td>  <td>4.5</td>  <td>8</td>  <td>2</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>0 units/day (no resources for destruction)</short-name>

  <description>
    Run again, but with a destruction capacity of 0 units per day.  No units
    should be destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_all_infected</population-file>

  <parameter-file>delay_0_limit_0</parameter-file>

  <parameter-description>
    The authorities can begin a destruction program immediately.  The
    authorities have zero destruction capacity.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <!-- Nothing to do, simulation stops. -->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>no trace out</short-name>

  <description>
    Test tracing out.  In this scenario, an infected unit ships animals to a
    neighbouring unit, then the source unit (but not the receiving unit) is
    detected.  In this, the base test scenario, there is no tracing, so the
    receiving unit should not be destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>23 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_0</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  No parameters are
    set for movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    There is no trace out.
    
    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.
     - On day 4 unit 1 will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out</short-name>

  <description>
    Test a scenario where an infected unit ships animals to a neighbouring
    unit, then the source unit (but not the receiving unit) is detected.  The
    receiving unit should be found by trace out and destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>23 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_1</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  No parameters are
    set for movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 1.
    
    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace out will find unit 0, which will also be
       slated for destruction.
     - On day 4 both units will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, just &gt; threshold for success</short-name>

  <description>
    Test a scenario where an infected unit ships animals to a neighbouring
    unit, then the source unit (but not the receiving unit) is detected.  The
    receiving unit should be found by trace out and destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>23 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_success</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  No parameters are
    set for movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 0.505, which
    will be just sufficient for success with fixed "random" numbers of 0.5.
    
    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace out will find unit 0, which will also be
       slated for destruction.
     - On day 4 both units will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace out, just &gt; threshold for success, check reporting variables</short-name>

  <description>
    Check that the number of attempted and successful traces are counted
    properly.  In this scenario, the same as "trace out, just &gt; threshold
    for success" above, an infected unit ships animals to a neighbouring unit,
    then the source unit (but not the receiving unit) is detected.  The
    receiving unit should be found by trace out and destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>12 October 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_success_w_vars</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  No parameters are
    set for movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 0.505, which
    will be just sufficient for success with fixed "random" numbers of 0.5.
    
    There is no vaccination.

    What should happen:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace out will find 3 contacts with unit 0 (a
       shipment each day on days 1, 2, and 3), so unit 0 will also be slated for
       destruction.
     - On day 4 both units will be destroyed.
  </parameter-description>

  <output>
    <tr>
      <td>trnUp</td>
      <td>trnU</td>
      <td>desnUIni</td>
      <td>desnUDet</td>
      <td>desnUDirFwd</td>
      <td>desnUBeefCattle</td>
      <td>desnUPigs</td>
      <td>desnUIniBeefCattle</td>
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnU</td>
    </tr>
    <!-- Traced                | Destroyed                                                  Initially/  Initially/   Reported/   Reported/    Traced/     Traced/               -->
    <!-- Potential    Actual   | Initially    Reported     Traced      Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Total     -->
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>3</td>  <td>3</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>1</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, just &lt; threshold for success</short-name>

  <description>
    Test a scenario where an infected unit ships animals to a neighbouring
    unit, then the source unit (but not the receiving unit) is detected.  The
    receiving unit should not be found by trace out.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>23 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_failure</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  No parameters are
    set for movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 0.495, which
    will be insufficient for success with fixed "random" numbers of 0.5.
    
    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace out will fail to discover the 3 shipments
       to unit 0 (a shipment each day on days 1, 2, and 3).
     - On day 4 unit 1 will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace out, just &lt; threshold for success, check destruction reporting variables</short-name>

  <description>
    Check that the number of destructions due to detection and tracing are
    counted properly.  In this scenario, the same as "trace out, just &lt;
    threshold for success" above, an infected unit ships animals to a
    neighbouring unit, then the source unit (but not the receiving unit) is
    detected.  The receiving unit should not be found by trace out.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>13 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_failure_w_vars</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  No parameters are
    set for movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 0.495, which
    will be insufficient for success with fixed "random" numbers of 0.5.
    
    There is no vaccination.

    What should happen:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace out will fail to discover the 3 shipments
       to unit 0 (a shipment each day on days 1, 2, and 3).
     - On day 4 unit 1 will be destroyed.
  </parameter-description>

  <output>
    <tr>
      <td>trnUp</td>
      <td>trnU</td>
      <td>desnUIni</td>
      <td>desnUDet</td>
      <td>desnUDirFwd</td>
      <td>desnUBeefCattle</td>
      <td>desnUPigs</td>
      <td>desnUIniBeefCattle</td>
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnU</td>
    </tr>
    <!-- Traced                | Destroyed                                                   Initially/  Initially/   Reported/   Reported/    Traced/     Traced/               -->
    <!-- Potential    Actual   | Initially    Reported     Traced      Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Total     -->
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>3</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out (new trace modules)</short-name>

  <description>
    This is identical to "trace out" above but uses the new (fall 2007) tracing
    modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_1_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace out" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, just &gt; threshold for success (new trace modules)</short-name>

  <description>
    This is identical to "trace out, just &gt; threshold for success" above but
    uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_success_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace out, just &gt; threshold for success" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace out, just &gt; threshold for success, check reporting variables (new trace modules)</short-name>

  <description>
    This is identical to "trace out, just &gt; threshold for success, check
    reporting variables" above but uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_success_nm_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "trace out, just &gt; threshold for success, check
    reporting variables" above.
  </parameter-description>

  <output>
    <tr>
      <td>trnUp</td>
      <td>trnU</td>
      <td>desnUIni</td>
      <td>desnUDet</td>
      <td>desnUDirFwd</td>
      <td>desnUBeefCattle</td>
      <td>desnUPigs</td>
      <td>desnUIniBeefCattle</td>
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnU</td>
    </tr>
    <!-- Traced                | Destroyed                                                   Initially/  Initially/   Reported/   Reported/    Traced/     Traced/               -->
    <!-- Potential    Actual   | Initially    Reported     Traced      Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Total     -->
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>3</td>  <td>3</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>1</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, just &lt; threshold for success (new trace modules)</short-name>

  <description>
    This is identical to "trace out, just &lt; threshold for success" but uses
    the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_failure_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace out, just &lt; threshold for success" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace out, just &lt; threshold for success, check reporting variables (new trace modules)</short-name>

  <description>
    This is identical to "trace out, just &lt; threshold for success, check
    reporting variables" above but uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_failure_nm_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "trace out, just &lt; threshold for success, check
    reporting variables" above.
  </parameter-description>

  <output>
    <tr>
      <td>trnUp</td>
      <td>trnU</td>
      <td>desnUIni</td>
      <td>desnUDet</td>
      <td>desnUDirFwd</td>
      <td>desnUBeefCattle</td>
      <td>desnUPigs</td>
      <td>desnUIniBeefCattle</td>
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnU</td>
    </tr>
    <!-- Traced                | Destroyed                                                   Initially/  Initially/   Reported/   Reported/    Traced/     Traced/               -->
    <!-- Potential    Actual   | Initially    Reported     Traced      Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Cattle       Pigs       Total     -->
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>3</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace out, just &lt; threshold for success, check tracing reporting variables at unit level</short-name>

  <description>
    Check that the number of attempted and successful traces are counted
    properly.  In this scenario, the same as "trace out, just &lt; threshold
    for success" above, an infected unit ships animals to a neighbouring unit,
    unit, then the source unit (but not the receiving unit) is detected.  The
    receiving unit should not be found by trace out.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>19 August 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_failure_w_vars2</parameter-file>

  <parameter-description>
    The parameters are identical to "trace out, just &lt; threshold for
    success" above.

    What should happen:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace forward could potentially discover 3
       shipments to unit 0 (a shipment each day on days 1, 2, and 3), which is
       a cattle unit, but will fail to.
     - On day 4 unit 1 will be destroyed.
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>trnUp</td>
      <td>trnUDirp</td>
      <td>trnUIndp</td>
      <td>trnUpBeefCattle</td>
      <td>trnUpPigs</td>
      <td>trnUDirpBeefCattle</td>
      <td>trnUDirpPigs</td>
      <td>trnUIndpBeefCattle</td>
      <td>trnUIndpPigs</td>
      <td>trnU</td>
      <td>trnUDir</td>
      <td>trnUInd</td>
      <td>trnUBeefCattle</td>
      <td>trnUPigs</td>
      <td>trnUDirBeefCattle</td>
      <td>trnUDirPigs</td>
      <td>trnUIndBeefCattle</td>
      <td>trnUIndPigs</td>
    </tr>
    <!--           | Potentially traced                                            Direct/     Direct/    Indirect/   Indirect/ | Actually traced                                               Direct/     Direct/    Indirect/   Indirect/  -->
    <!-- Destroyed |    All        Direct     Indirect     Cattle       Pigs       Cattle       Pigs       Cattle       Pigs    |    All        Direct     Indirect     Cattle       Pigs       Cattle       Pigs       Cattle       Pigs     -->
    <tr><td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>   <td>3</td>  <td>3</td>  <td>0</td>  <td>3</td>  <td>0</td>  <td>3</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace out, just &lt; threshold for success, check tracing reporting variables at animal level</short-name>

  <description>
    Check that the number of attempted and successful traces are counted
    properly.  In this scenario, the same as "trace out, just &lt; threshold
    for success" above, an infected unit ships animals to a neighbouring unit,
    unit, then the source unit (but not the receiving unit) is detected.  The
    receiving unit should not be found by trace out.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>20 August 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_failure_w_vars3</parameter-file>

  <parameter-description>
    The parameters are identical to "trace out, just &lt; threshold for
    success" above.

    What should happen:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace forward could potentially discover 3
       shipments to unit 0 (a shipment each day on days 1, 2, and 3), which is
       a cattle unit with 25 animals, but will fail to.
     - On day 4 unit 1 will be destroyed.
  </parameter-description>

  <output>
    <tr>
      <td>desnU</td>
      <td>trnAp</td>
      <td>trnADirp</td>
      <td>trnAIndp</td>
      <td>trnApBeefCattle</td>
      <td>trnApPigs</td>
      <td>trnADirpBeefCattle</td>
      <td>trnADirpPigs</td>
      <td>trnAIndpBeefCattle</td>
      <td>trnAIndpPigs</td>
      <td>trnA</td>
      <td>trnADir</td>
      <td>trnAInd</td>
      <td>trnABeefCattle</td>
      <td>trnAPigs</td>
      <td>trnADirBeefCattle</td>
      <td>trnADirPigs</td>
      <td>trnAIndBeefCattle</td>
      <td>trnAIndPigs</td>
    </tr>
    <!--           | Potentially traced                                            Direct/     Direct/    Indirect/   Indirect/ | Actually traced                                               Direct/     Direct/    Indirect/   Indirect/  -->
    <!-- Destroyed |    All        Direct     Indirect     Cattle       Pigs       Cattle       Pigs       Cattle       Pigs    |    All        Direct     Indirect     Cattle       Pigs       Cattle       Pigs       Cattle       Pigs     -->
    <tr><td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>75</td> <td>75</td>  <td>0</td> <td>75</td>  <td>0</td> <td>75</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace in</short-name>

  <description>
    Test tracing in.  In this scenario, an infected unit ships animals to a
    neighbouring unit, then the receiving unit (but not the source unit) is
    detected.  Since there is no trace in, only the receiving unit should be
    destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>23 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_in_1</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  No parameters are
    set for movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased cattle vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased cattle vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  No parameters are set for
    detecting diseased pigs, so the infection in the pigs herd will not be
    detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 1.
    
    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 0 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace in will fail to discover the shipment
       from unit 0.
     - On day 4 unit 0 will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, 2 hops</short-name>

  <description>
    Test a scenario where an infected unit ships animals to a neighbouring
    unit, that unit in turn infects another, then the original source unit (but
    not the others) is detected.  Since trace out goes only 1 step forward,
    only the unit that received the first shipment should be found by trace out
    and destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>23 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>trace_out_2</parameter-file>

  <parameter-description>
    For pigs (unit 2), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (units 0 and 1), the latent
    period lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The parameters for
    movement from cattle units to cattle units are the same.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 1.
    
    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 unit 2 (pigs) will ship to and infect unit 1 (cattle).
     - On day 2 unit 1 will be Latent.  It will ship to and infect unit 0
       (cattle).
     - On day 3 unit 2 (pigs) will be Infectious Clinical.  It will be detected
       and slated for destruction.  Trace out will discover the shipment from
       unit 2 to unit 1, and unit 1 will will also be slated for destruction.
       Trace out will fail to discover the shipment from unit 1 to unit 0.
     - On day 4 units 1 and 2 will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, &lt; time limit</short-name>

  <description>
    Test that trace out investigations can be limited to a certain number of
    days back.  In this scenario, an infected unit ships animals to a
    neighbouring unit, then the source unit (but not the receiving unit) is
    detected several days later, inside the time window of interest.  The
    receiving unit should be found by trace out and destroyed.

    This test requires a third unit of a different species, which gets detected
    early and (via movement controls) stops all animal shipments.  This allows
    us to use the probability of detection vs. days that a unit has been
    showing clinical signs to control the delay between the last shipment and
    the trace out investigation.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>26 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_out_delay_2_window_3</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 3
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For cattle (unit 1), the latent period lasts 1 day,
    infectiousness lasts 5 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.  For pigs (unit 2), the latent
    period lasts 1 day, infectiousness without clinical signs lasts 1 day,
    infectiousness with clinical signs lasts 5 days, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 1 until the public is aware of the outbreak, then it
    immediately goes to 0, stopping further shipments.  No parameters are
    set for movement from cattle units to pig units, or for movement to or from
    sheep units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased sheep vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased sheep vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.
    
    The probability of detecting diseased pigs is 0 when they first show
    clinical signs.  It increases to 1 over 3 days.  The probability of
    detecting diseased pigs vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.  Thus, with fixed "random" numbers of
    0.5, diseased pigs will be detected after 2 days (when probability = 2/3).

    No parameters are set for detecting diseased cattle, so the infection in
    the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 1.  The period
    of interest for a trace-out investigation is 3 days back.
    
    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 2 (pigs) will ship to unit 1 (cattle).
     - On day 2 unit 2 (pigs) will ship to unit 1 (cattle), unit 0 (sheep) will
       be detected and slated for destruction, and the public will become aware
       of the outbreak.
     - On day 3 unit 0 will destroyed.  On this day and forward, there will be
       no shipments.
     - On day 4 (when unit 2 has been infectious for 2 days) unit 2 (pigs) will
       be detected and slated for destruction.  Trace out will find unit 1
       (cattle), which last received a shipment from unit 2 two days ago, and
       unit 1 will also be slated for destruction.
     - On day 5 units 1 and 2 will be destroyed. 
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, = time limit</short-name>

  <description>
    Test that trace out investigations can be limited to a certain number of
    days back.  In this scenario, an infected unit ships animals to a
    neighbouring unit, then the source unit (but not the receiving unit) is
    detected several days later, just inside the time window of interest.  The
    receiving unit should be found by trace out and destroyed.

    This test requires a third unit of a different species, which gets detected
    early and (via movement controls) stops all animal shipments.  This allows
    us to use the probability of detection vs. days that a unit has been
    showing clinical signs to control the delay between the last shipment and
    the trace out investigation.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>26 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_out_delay_3_window_3</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 3
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For cattle (unit 1), the latent period lasts 1 day,
    infectiousness lasts 5 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.  For pigs (unit 2), the latent
    period lasts 1 day, infectiousness without clinical signs lasts 1 day,
    infectiousness with clinical signs lasts 5 days, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 1 until the public is aware of the outbreak, then it
    immediately goes to 0, stopping further shipments.  No parameters are
    set for movement from cattle units to pig units, or for movement to or from
    sheep units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased sheep vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased sheep vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.
    
    The probability of detecting diseased pigs is 0 when they first show
    clinical signs.  It increases to 1 over 5 days.  The probability of
    detecting diseased pigs vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.  Thus, with fixed "random" numbers of
    0.5, diseased pigs will be detected after 3 days (when probability = 3/5).

    No parameters are set for detecting diseased cattle, so the infection in
    the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 1.  The period
    of interest for a trace-out investigation is 3 days back.
    
    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 2 (pigs) will ship to unit 1 (cattle).
     - On day 2 unit 2 (pigs) will ship to unit 1 (cattle), unit 0 (sheep) will
       be detected and slated for destruction, and the public will become aware
       of the outbreak.
     - On day 3 unit 0 will be destroyed.  On this day and forward, there will
       be no shipments.
     - On day 5 (when unit 2 has been infectious for 3 days) unit 2 (pigs) will
       be detected and slated for destruction.  Trace out will find unit 1
       (cattle), which last received a shipment from unit 2 three days ago, and
       unit 1 will also be slated for destruction.
     - On day 6 units 1 and 2 will be destroyed. 
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, &gt; time limit</short-name>

  <description>
    Test that trace out investigations can be limited to a certain number of
    days back.  In this scenario, an infected unit ships animals to a
    neighbouring unit, then the source unit (but not the receiving unit) is
    detected several days later, outside the time window of interest.  The
    receiving unit should not be destroyed.

    This test requires a third unit of a different species, which gets detected
    early and (via movement controls) stops all animal shipments.  This allows
    us to use the probability of detection vs. days that a unit has been
    showing clinical signs to control the delay between the last shipment and
    the trace out investigation.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>26 February 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_out_delay_4_window_3</parameter-file>

  <parameter-description>
    For sheep (unit 0), the latent period lasts 1 day, infectiousness lasts 3
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 3 days.  For cattle (unit 1), the latent period lasts 1 day,
    infectiousness lasts 5 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 3 days.  For pigs (unit 2), the latent
    period lasts 1 day, infectiousness without clinical signs lasts 1 day,
    infectiousness with clinical signs lasts 5 days, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 1 until the public is aware of the outbreak, then it
    immediately goes to 0, stopping further shipments.  No parameters are
    set for movement from cattle units to pig units, or for movement to or from
    sheep units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased sheep vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased sheep vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.
    
    The probability of detecting diseased pigs is 0 when they first show
    clinical signs.  It increases to 1 over 7 days.  The probability of
    detecting diseased pigs vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.  Thus, with fixed "random" numbers of
    0.5, diseased pigs will be detected after 4 days (when probability = 4/7).

    No parameters are set for detecting diseased cattle, so the infection in
    the cattle herd will not be detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for a trace-out investigation is 1.  The period
    of interest for a trace-out investigation is 3 days back.
    
    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 2 (pigs) will ship to unit 1 (cattle).
     - On day 2 unit 2 (pigs) will ship to unit 1 (cattle), unit 0 (sheep) will
       be detected and slated for destruction, and the public will become aware
       of the outbreak.
     - On day 3 unit 0 will be destroyed.  On this day and forward, there will
       be no shipments.
     - On day 6 (when unit 2 has been infectious for 4 days) unit 2 (pigs) will
       be detected and slated for destruction.  Trace out will find unit 1
       (cattle), which last received a shipment from unit 2 four days ago, and
       unit 1 will not be slated for destruction.
     - On day 7 unit 2 will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace in (new trace modules)</short-name>

  <description>
    This is identical to "trace in" above but uses the new (fall 2007) tracing
    modules.  The new tracing modules &lt;i&gt;can&lt;/i&gt; do trace in, but
    here we just imitate the old functionality.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_in_1_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace in" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, 2 hops (new trace modules)</short-name>

  <description>
    This is identical to "trace out, 2 hops" above but uses the new (fall 2007)
    tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>trace_out_2_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace out, 2 hops" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, &lt; time limit (new trace modules)</short-name>

  <description>
    This is identical to "trace out, &lt; time limit" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_out_delay_2_window_3_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace out, &lt; time limit" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, = time limit (new trace modules)</short-name>

  <description>
    This is identical to "trace out, = time limit" above but uses the new (fall
    2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_out_delay_3_window_3_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace out, = time limit" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
<!--
    No infectious units, simulation stops.
-->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace out, &gt; time limit (new trace modules)</short-name>

  <description>
    This is identical to "trace out, &gt; time limit" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>21 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_out_delay_4_window_3_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace out, &gt; time limit" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 1</short-name>

  <description>
    Test that traced contacts can be quarantined without being destroyed.  In
    this test and the following four, there are three units of different
    production types:

    0-&gt;1&lt;-2

    Units 0 and 2 are infected; the middle unit 1 is not.  Different effects
    can be observed on unit 1 depending on whether unit 0 ships to unit 1, unit
    2 ships to unit 1, or both units 0 and 2 ship to unit 1.  The scenario can
    be further modified by having one of those shipments traced.

    In this scenario, unit 2 does not ship to unit 1, so there is no trace to
    unit 1, no quarantine on unit 1, and no destruction of unit 1.  Unit 0 does
    ship to unit 1 and causes unit 1 to become infected.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_1</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    The movement rate from sheep units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 0 until the public is aware of the outbreak, then it
    immediately goes to 1.  (This is the opposite of what one might expect from
    movement controls; its purpose here is to make sure any contact we see from
    unit 0 to unit 1 happens after the trace, not before.)

    There are no shipments from pig units to cattle units.

    Latent units can be the source of an exposure.
    
    The probability of infection given exposure is 1.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities will destroy units that are detected as
    diseased.  The authorities will also destroy trace outs.  The probability
    of success for a trace-out investigation is 1.  The authorities can destroy
    an unlimited/very large number of units each day.

    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.  There will be no
       shipments from unit 0 because the movement rate multiplier is 0.
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  No trace outs will be found
       from unit 2 because it has made no shipments.
     - On day 3 (1 day after the first detection) the movement rate multiplier
       for sheep-to-cattle movements will be 1.  Unit 0 (sheep) will ship to
       and infect unit 1.  The destruction program will not be ready for 3 more
       days.
     - On day 4 unit 1 will be Latent.  The destruction program will not be
       ready for 2 more days.
     - On day 5 nothing new will happen.  The destruction program will not be
       ready for 1 more day.
     - On day 6 the destruction program will be ready to begin.  Unit 2 will be
       destroyed.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 2</short-name>

  <description>
    Test that traced contacts can be quarantined without being destroyed.  In
    this test, there are three units of different production types:

    0-&gt;1&lt;-2

    Units 0 and 2 are infected; the middle unit 1 is not.  Different effects
    can be observed on unit 1 depending on whether unit 0 ships to unit 1, unit
    2 ships to unit 1, or both units 0 and 2 ship to unit 1.  The scenario can
    be further modified by having one of those shipments traced.

    In this scenario, unit 2 ships to and infects unit 1, the shipment is
    traced and unit 1 is destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_2</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    The movement rate from sheep units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 0 until the public is aware of the outbreak, then it
    immediately goes to 1.  (This is the opposite of what one might expect from
    movement controls; its purpose here is to make sure any contact we see from
    unit 0 to unit 1 happens after the trace, not before.)

    The movement rate from pig units to cattle units is also 1 per day,
    distance 10 km.  The movement rate is unaffected by public knowledge of an
    outbreak.

    Latent units can be the source of an exposure.
    
    The probability of infection given exposure is 1.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities will destroy units that are detected as
    diseased.  The authorities will also destroy trace outs.  The probability
    of success for a trace-out investigation is 1.  The authorities can destroy
    an unlimited/very large number of units each day.

    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.  There will be no
       shipments from unit 0 because the movement rate multiplier is 0.  But
       there will be a shipment from unit 2 to unit 1, infecting unit 1.
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  Trace out will discover the
       contact with unit 1, so unit 1 will also be marked for destruction.
     - On day 3 (1 day after the first detection) the movement rate multiplier
       for sheep-to-cattle movements will be 1.  Unit 0 (sheep) will ship to
       unit 1, but the shipment won't have an effect because unit 1 is already
       infected.  The destruction program will not be ready for 3 more days.
     - On day 4 nothing new will happen.  The destruction program will not be
       ready for 2 more days.
     - On day 5 nothing new will happen.  The destruction program will not be
       ready for 1 more day.
     - On day 6 the destruction program will be ready to begin.  Units 1 and 2
       will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 3</short-name>

  <description>
    Test that traced contacts can be quarantined without being destroyed.  In
    this test, there are three units of different production types:

    0-&gt;1&lt;-2

    Units 0 and 2 are infected; the middle unit 1 is not.  Different effects
    can be observed on unit 1 depending on whether unit 0 ships to unit 1, unit
    2 ships to unit 1, or both units 0 and 2 ship to unit 1.  The scenario can
    be further modified by having one of those shipments traced.

    In this scenario, unit 2 ships to unit 1, but the shipment does not result
    in infection and is not traced.  Unit 0 ships to unit 1 and causes unit 1
    to become infected.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_3</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    The movement rate from sheep units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 0 until the public is aware of the outbreak, then it
    immediately goes to 1.  (This is the opposite of what one might expect from
    movement controls; its purpose here is to make sure any contact we see from
    unit 0 to unit 1 happens after the trace, not before.)  Latent units can be
    the source of an exposure, and the probability of infection given exposure
    is 1.

    The movement rate from pig units to cattle units is also 1 per day,
    distance 10 km.  The movement rate is unaffected by public knowledge of an
    outbreak.  Latent units can be the source of an exposure, and the
    probability of infection given exposure is 0.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities will destroy units that are detected as
    diseased.  The authorities will also destroy trace outs.  The probability
    of success for a trace-out investigation is 0.  The authorities can destroy
    an unlimited/very large number of units each day.

    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.  There will be no
       shipments from unit 0 because the movement rate multiplier is 0.  There
       will be a shipment from unit 2 to unit 1, but unit 1 will not be
       infected (the probability of infection given exposure is too low).
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  Trace out will fail to discover
       the contact with unit 1, so unit 1 will not be marked for destruction.
     - On day 3 (1 day after the first detection) the movement rate multiplier
       for sheep-to-cattle movements will be 1.  Unit 0 (sheep) will ship to
       and infect unit 1.  The destruction program will not be ready for 3 more
       days.
     - On day 4 nothing new will happen.  The destruction program will not be
       ready for 2 more days.
     - On day 5 nothing new will happen.  The destruction program will not be
       ready for 1 more day.
     - On day 6 the destruction program will be ready to begin.  Unit 2 will be
       destroyed.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 4</short-name>

  <description>
    Test that traced contacts can be quarantined without being destroyed.  In
    this test, there are three units of different production types:

    0-&gt;1&lt;-2

    Units 0 and 2 are infected; the middle unit 1 is not.  Different effects
    can be observed on unit 1 depending on whether unit 0 ships to unit 1, unit
    2 ships to unit 1, or both units 0 and 2 ship to unit 1.  The scenario can
    be further modified by having one of those shipments traced.

    In this scenario, unit 2 ships to unit 1; the shipment does not result in
    infection but it is traced.  Unit 0 tries to ship to unit 1 but is blocked
    by quarantine.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_4</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    The movement rate from sheep units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 0 until the public is aware of the outbreak, then it
    immediately goes to 1.  (This is the opposite of what one might expect from
    movement controls; its purpose here is to make sure any contact we see from
    unit 0 to unit 1 happens after the trace, not before.)  Latent units can be
    the source of an exposure, and the probability of infection given exposure
    is 1.

    The movement rate from pig units to cattle units is also 1 per day,
    distance 10 km.  The movement rate is unaffected by public knowledge of an
    outbreak.  Latent units can be the source of an exposure, and the
    probability of infection given exposure is 0.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities will destroy units that are detected as
    diseased.  The authorities will also destroy trace outs.  The probability
    of success for a trace-out investigation is 1.  The authorities can destroy
    an unlimited/very large number of units each day.

    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.  There will be no
       shipments from unit 0 because the movement rate multiplier is 0.  There
       will be a shipment from unit 2 to unit 1, but unit 1 will not be
       infected (the probability of infection given exposure is too low).
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  Trace out will discover the
       contact with unit 1, so unit 1 will also be marked for destruction.
     - On day 3 (1 day after the first detection) the movement rate multiplier
       for sheep-to-cattle movements will be 1.  Unit 0 (sheep) will attempt to
       ship to unit 1 but will be blocked by quarantine.  The destruction
       program will not be ready for 3 more days.
     - On day 4 nothing new will happen.  The destruction program will not be
       ready for 2 more days.
     - On day 5 nothing new will happen.  The destruction program will not be
       ready for 1 more day.
     - On day 6 the destruction program will be ready to begin.  Units 1 and 2
       will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 5</short-name>

  <description>
    Test that traced contacts can be quarantined without being destroyed.  In
    this test, there are three units of different production types:

    0-&gt;1&lt;-2

    Units 0 and 2 are infected; the middle unit 1 is not.  Different effects
    can be observed on unit 1 depending on whether unit 0 ships to unit 1, unit
    2 ships to unit 1, or both units 0 and 2 ship to unit 1.  The scenario can
    be further modified by having one of those shipments traced.

    In this scenario, unit 2 ships to unit 1; the shipment does not result in
    infection but it is traced.  Unit 0 tries to ship to unit 1 but is blocked
    by quarantine.  The trace is not destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 Jan 2006</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_5</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    lasts 3 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 5 days.

    The movement rate from sheep units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 10 km.  The movement rate
    multiplier is 0 until the public is aware of the outbreak, then it
    immediately goes to 1.  (This is the opposite of what one might expect from
    movement controls; its purpose here is to make sure any contact we see from
    unit 0 to unit 1 happens after the trace, not before.)  Latent units can be
    the source of an exposure, and the probability of infection given exposure
    is 1.

    The movement rate from pig units to cattle units is also 1 per day,
    distance 10 km.  The movement rate is unaffected by public knowledge of an
    outbreak.  Latent units can be the source of an exposure, and the
    probability of infection given exposure is 0.
    
    The probability of detecting diseased pig units vs. the number of days they
    have been showing clinical signs is fixed at 1. The probability of
    detecting diseased pig units vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  Other production types are
    not detected.

    The authorities require 3 days to set up a destruction program before
    beginning.  The authorities will destroy units that are detected as
    diseased.  The authorities can destroy an unlimited/very large number of
    units each day.  The authorities will quarantine but not destroy trace
    outs.  The probability of success for a trace-out investigation is 1.

    There is no vaccination.

    Recapping what should happen as a result of all this:
     - On day 1 units 0 (sheep) and 2 (pigs) will be latent.  There will be no
       shipments from unit 0 because the movement rate multiplier is 0.  There
       will be a shipment from unit 2 to unit 1, but unit 1 will not be
       infected (the probability of infection given exposure is too low).
     - On day 2 units 0 and 2 will be Infectious Clinical.  Unit 2 (pigs) will
       be detected and marked for destruction.  Trace out will discover the
       contact with unit 1; unit 1 will be quarantined but not marked for
       destruction.
     - On day 3 (1 day after the first detection) the movement rate multiplier
       for sheep-to-cattle movements will be 1.  Unit 0 (sheep) will attempt to
       ship to unit 1 but will be blocked by quarantine.  The destruction
       program will not be ready for 3 more days.
     - On day 4 nothing new will happen.  The destruction program will not be
       ready for 2 more days.
     - On day 5 nothing new will happen.  The destruction program will not be
       ready for 1 more day.
     - On day 6 the destruction program will be ready to begin.  Unit 2 will be
       destroyed.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 1 (new trace modules)</short-name>

  <description>
    This is identical to "trace without destruction 1" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_1_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace without destruction 1" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 2 (new trace modules)</short-name>

  <description>
    This is identical to "trace without destruction 2" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_2_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace without destruction 2" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 3 (new trace modules)</short-name>

  <description>
    This is identical to "trace without destruction 3" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_3_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace without destruction 3" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 4 (new trace modules)</short-name>

  <description>
    This is identical to "trace without destruction 4" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_4_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace without destruction 4" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace without destruction 5 (new trace modules)</short-name>

  <description>
    This is identical to "trace without destruction 5" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>22 Aug 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_no_destroy_5_nm</parameter-file>

  <parameter-description>
    Parameters: see "trace without destruction 5" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority detected &gt; nearby &gt; trace out</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, three
    units will be marked for destruction: one because it is detected, another
    because it received animals from the detected unit, and a third because it
    is near the detected unit.  No unit will be marked for destruction for more
    than one reason.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>12 April 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>priority_detect_nearby_trace</parameter-file>

  <parameter-description>
    For pigs (unit 2), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 1 day,
    and immunity lasts 3 days.  For cattle (units 0 and 1), the latent period
    lasts 1 day, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 20 km.  No parameters are
    set for movement from cattle units to pigs units or from cattle units to
    cattle units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy 1 unit each day.  The priorities for destruction
    are: detected units = 1, units within 10 km of a detected unit = 2, units
    that have received animals from a detected unit = 3.

    The probability of success for a trace-out investigation is 1.  The period
    of interest for a trace-out investigation is 14 days back.

    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 2 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 2 will ship to unit 0.
     - On day 3 unit 2 will be detected.  All 3 units will be marked for
       destruction: unit 2 because of the detection, unit 1 because it is
       within 10 km of unit 2, and unit 0 because of trace out.
     - On day 4 unit 2 will be destroyed because detection has the highest
       priority.
     - On day 5 unit 1 will be destroyed because ring destruction has the
       second-highest priority.
     - On day 6 unit 0 will be destroyed because trace out has the lowest
       priority.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority nearby &gt; detected &gt; trace out</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, three
    units will be marked for destruction: one because it is detected, another
    because it received animals from the detected unit, and a third because it
    is near the detected unit.  No unit will be marked for destruction for more
    than one reason.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>12 April 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>priority_nearby_detect_trace</parameter-file>

  <parameter-description>
    For pigs (unit 2), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 1 day,
    and immunity lasts 3 days.  For cattle (units 0 and 1), the latent period
    lasts 1 day, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 20 km.  No parameters are
    set for movement from cattle units to pigs units or from cattle units to
    cattle units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy 1 unit each day.  The priorities for destruction
    are: units within 10 km of a detected unit = 1, detected units = 2, units
    that have received animals from a detected unit = 3.
    
    The probability of success for a trace-out investigation is 1.  The period
    of interest for a trace-out investigation is 14 days back.

    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 2 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 2 will ship to unit 0.
     - On day 3 unit 2 will be detected.  All 3 units will be marked for
       destruction: unit 2 because of the detection, unit 1 because it is
       within 10 km of unit 2, and unit 0 because of trace out.
     - On day 4 unit 1 will be destroyed because ring destruction has the
       highest priority.
     - On day 5 unit 2 will be destroyed because detection has the
       second-highest priority.
     - On day 6 unit 0 will be destroyed because trace out has the lowest
       priority.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority trace out &gt; detected &gt; nearby</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, three
    units will be marked for destruction: one because it is detected, another
    because it received animals from the detected unit, and a third because it
    is near the detected unit.  No unit will be marked for destruction for more
    than one reason.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>12 April 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>priority_trace_detect_nearby</parameter-file>

  <parameter-description>
    For pigs (unit 2), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 1 day,
    and immunity lasts 3 days.  For cattle (units 0 and 1), the latent period
    lasts 1 day, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 20 km.  No parameters are
    set for movement from cattle units to pigs units or from cattle units to
    cattle units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy 1 unit each day.  The priorities for destruction
    are: units that have received animals from a detected unit = 1, detected
    units = 2, units within 10 km of a detected unit = 3.
    
    The probability of success for a trace-out investigation is 1.  The period
    of interest for a trace-out investigation is 14 days back.

    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 2 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 2 will ship to unit 0.
     - On day 3 unit 2 will be detected.  All 3 units will be marked for
       destruction: unit 2 because of the detection, unit 1 because it is
       within 10 km of unit 2, and unit 0 because of trace out.
     - On day 4 unit 0 will be destroyed because trace out has the highest
       priority.
     - On day 5 unit 2 will be destroyed because detection has the
       second-highest priority.
     - On day 6 unit 1 will be destroyed because ring destruction has the
       lowest priority.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority detected &gt; nearby &gt; trace out (new trace modules)</short-name>

  <description>
    This is identical to "priority detected &gt; nearby &gt; trace out" above
    but uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>priority_detect_nearby_trace_nm</parameter-file>

  <parameter-description>
    Parameters: see "priority detected &gt; nearby &gt; trace out" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority nearby &gt; detected &gt; trace out (new trace modules)</short-name>

  <description>
    This is identical to "priority nearby &gt; detected &gt; trace out" above
    but uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>priority_nearby_detect_trace_nm</parameter-file>

  <parameter-description>
    Parameters: see "priority nearby &gt; detected &gt; trace out" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td>    <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority trace out &gt; detected &gt; nearby (new trace modules)</short-name>

  <description>
    This is identical to "priority trace out &gt; detected &gt; nearby" above
    but uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>priority_trace_detect_nearby_nm</parameter-file>

  <parameter-description>
    Parameters: see "priority trace out &gt; detected &gt; nearby" above.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Susceptible</td>  <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>units awaiting destruction</short-name>

  <description>
    Test that the number of units awaiting destruction is counted correctly.
    In this scenario, three units will be marked for destruction: one because
    it is detected, another because it received animals from the detected unit,
    and a third because it is near the detected unit.  No unit will be marked
    for destruction for more than one reason.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>27 May 2004</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>destruction_list_3_units_3_reasons</parameter-file>

  <parameter-description>
    The parameters are identical to the test "priority detected &gt; nearby
    &gt; trace out" above.

    For pigs (unit 2), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 1 day,
    and immunity lasts 3 days.  For cattle (units 0 and 1), the latent period
    lasts 1 day, infectiousness lasts 2 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 20 km.  No parameters are
    set for movement from cattle units to pigs units or from cattle units to
    cattle units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased pigs vs. the number of days they have
    been showing clinical signs is fixed at 1.  The probability of detecting
    diseased pigs vs. the number of days since a public announcement of an
    outbreak is also fixed at 1.  No parameters are set for detecting diseased
    cattle, so the infection in the cattle herd will not be detected.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy 1 unit each day.  The priorities for destruction
    are: detected units = 1, units within 10 km of a detected unit = 2, units
    that have received animals from a detected unit = 3.

    The probability of success for a trace-out investigation is 1.  The period
    of interest for a trace-out investigation is 14 days back.

    There is no vaccination.
    
    What should happen:
     - On day 1 unit 2 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 2 will ship to unit 0.
     - On day 3 unit 2 will be detected.  All 3 units will be marked
       for destruction: unit 2 because of the detection, unit 1 because it is
       within 10 km of unit 2, and unit 0 because of trace out.
     - On day 4 unit 2 will be destroyed because detection has the
       highest priority.
     - On day 5 unit 1 will be destroyed because ring destruction has
       the second-highest priority.
     - On day 6 unit 0 will be destroyed because trace out has the
       lowest priority.
  </parameter-description>

  <output>
    <tr>
      <td>deswU</td>
      <td>desnUIni</td>
      <td>desnUDet</td>
      <td>desnURing</td>
      <td>desnUDirFwd</td>
      <td>desnUBeefCattle</td>
      <td>desnUPigs</td>
      <td>desnUIniBeefCattle</td>
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnURingBeefCattle</td>
      <td>desnURingPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnU</td>
    </tr>
    <!--                                                                             Initially  Initially   Detected   Detected     Ring       Ring      Traced     Traced               -->
    <!-- Waiting   Initially   Detected     Ring      Traced     Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Total     -->
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>3</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>2</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td></tr>
    <tr><td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>units awaiting destruction (new trace modules)</short-name>

  <description>
    This is identical to "units awaiting destruction" above but uses the new
    (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_2cattle_pigs_infected</population-file>

  <parameter-file>destruction_list_3_units_3_reasons_nm</parameter-file>

  <parameter-description>
    Parameters: see "units awaiting destruction" above.
  </parameter-description>

  <output>
    <tr>
      <td>deswU</td>
      <td>desnUIni</td>
      <td>desnUDet</td>
      <td>desnURing</td>
      <td>desnUDirFwd</td>
      <td>desnUBeefCattle</td>
      <td>desnUPigs</td>
      <td>desnUIniBeefCattle</td>
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnURingBeefCattle</td>
      <td>desnURingPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnU</td>
    </tr>
    <!--                                                                             Initially  Initially   Detected   Detected     Ring       Ring      Traced     Traced               -->
    <!-- Waiting   Initially   Detected     Ring      Traced     Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Total     -->
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>3</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>2</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td></tr>
    <tr><td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td></tr>
    <tr><td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; time waiting 1</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, three
    units of different production types will be detected and marked for
    destruction on three successive days.  The destruction order will be
    specified by production type.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_all_infected</population-file>

  <parameter-file>priority_prodtype_time_1</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 10
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 5 days. For pigs (unit 2), the latent period is 1 day longer, and for
    sheep (unit 3), the latent period is 2 days longer.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities require 2 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit each day.  The priorities
    for destruction are: production type (cattle &gt; pigs &gt; sheep) &gt;
    reason &gt; time waiting.

    There is no disease spread and no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 all 3 units will be latent.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.
     - On day 3 unit 1 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  The destruction program will
       not be ready for 2 more days.
     - On day 4 unit 2 (sheep) will be infectious clinical.  It will
       be detected and marked for destruction.  The destruction program will
       not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       0 will be destroyed because it is cattle.
     - On day 6 unit 1 will be destroyed because it is pigs.
     - On day 7 unit 2 will be destroyed because it is sheep.

    Note that the destruction order by production type is the
    &lt;i&gt;same&lt;/i&gt; as it would have been by time waiting.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; time waiting 2</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, three
    units of different production types will be detected and marked for
    destruction on three successive days.  The destruction order will be
    specified by production type.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_all_infected</population-file>

  <parameter-file>priority_prodtype_time_2</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 10
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 5 days. For pigs (unit 2), the latent period is 1 day longer, and for
    sheep (unit 3), the latent period is 2 days longer.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities require 2 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit each day.  The priorities
    for destruction are: production type (sheep &gt; pigs &gt; cattle) &gt;
    reason &gt; time waiting.

    There is no disease spread and no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 all 3 units will be latent.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.
     - On day 3 unit 1 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  The destruction program will
       not be ready for 2 more days.
     - On day 4 unit 2 (sheep) will be infectious clinical.  It will
       be detected and marked for destruction.  The destruction program will
       not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       2 will be destroyed because it is sheep.
     - On day 6 unit 1 will be destroyed because it is pigs.
     - On day 7 unit 0 will be destroyed because it is cattle.

    Note that the destruction order by production type is the
    &lt;i&gt;opposite&lt;/i&gt; of what it would have been by time waiting.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td>           <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority time waiting &gt; production type</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, three
    units of different production types will be detected and marked for
    destruction on three successive days.  The destruction order will be
    specified by time waiting.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_all_infected</population-file>

  <parameter-file>priority_time_prodtype</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 10
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 5 days. For pigs (unit 2), the latent period is 1 day longer, and for
    sheep (unit 3), the latent period is 2 days longer.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities require 2 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit each day.  The priorities
    for destruction are: time waiting &gt; production type (sheep &gt; pigs
    &gt; cattle) &gt; reason.

    There is no disease spread and no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 all 3 units will be latent.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.
     - On day 3 unit 1 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  The destruction program will
       not be ready for 2 more days.
     - On day 4 unit 2 (sheep) will be infectious clinical.  It will
       be detected and marked for destruction.  The destruction program will
       not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       0 will be destroyed because it has been waiting for the longest.
     - On day 6 unit 1 will be destroyed because it has been waiting
       the longest (out of the 2 left).
     - On day 7 unit 0 will be destroyed.

    Note that the destruction order by time waiting is the
    &lt;i&gt;opposite&lt;/i&gt; of what it would have been by production type.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; reason &gt; time waiting</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, two
    units with the same production type will be marked for destruction on
    different days and for different reasons.  The destruction order will be
    specified by reason for destruction.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_prodtype_reason_time</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 10
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 5 days. For pigs (unit 3), the latent period is 1 day longer, and for
    sheep (units 1 and 2), the latent period is 2 days longer.

    The movement rate from pig units to sheep units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 2 km.  Latent units can be
    the source of an exposure.

    The probability of detecting diseased cattle and pig units vs. the number
    of days they have been showing clinical signs is fixed at 1.  The
    probability of detecting diseased cattle and pig units vs. the number of
    days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detecting diseased sheep.

    The authorities require 2 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit each day.  Direct contacts
    will be traced and destroyed; the probability of success for a trace-out
    investigation is 1.  Units within 1 km of a detected unit will also be
    destroyed.  The priorities for destruction are: production type (pigs &gt;
    cattle &gt; sheep) &gt; reason (basic &gt; trace &gt; ring) &gt; time
    waiting.

    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 0 (cattle) and unit 3 (pigs) will be latent.
       Unit 3 will ship to unit 2 (sheep) and infect it.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 1 (sheep) will also be
       marked for destruction because it is inside a 1 km ring.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 2 (sheep) will also be
       marked for destruction because it received animals from unit 3.  The
       destruction program will not be ready for 2 more days.
     - On day 4 nothing new will happen.  The destruction program
       will not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       3 will be destroyed because it is pigs.
     - On day 6 unit 0 will be destroyed because it is cattle.
     - On day 7 the units remaining to be destroyed (1 and 2) are both
       sheep, so the reason for destruction will be used to prioritize them.
       Unit 2 will be destroyed because trace back has priority over ring
       destruction.
     - On day 8 unit 1 will be destroyed.

    Note that the destruction order is the
    &lt;i&gt;opposite&lt;/i&gt; of what it would have been
    if time waiting had priority over reason for destruction.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>Destroyed</td>           <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; time waiting &gt; reason</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, two
    units with the same production type will be marked for destruction on
    different days and for different reasons.  The destruction order will be
    specified by time waiting.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_prodtype_time_reason</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 10
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 5 days. For pigs (unit 3), the latent period is 1 day longer, and for
    sheep (units 1 and 2), the latent period is 2 days longer.

    The movement rate from pig units to sheep units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 2 km.  Latent units can be
    the source of an exposure.

    The probability of detecting diseased cattle and pig units vs. the number
    of days they have been showing clinical signs is fixed at 1.  The
    probability of detecting diseased cattle and pig units vs. the number of
    days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detecting diseased sheep.

    The authorities require 2 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit each day.  Direct contacts
    will be traced and destroyed; the probability of success for a trace-out
    investigation is 1.  Units within 1 km of a detected unit will also be
    destroyed.  The priorities for destruction are: production type (pigs &gt;
    cattle &gt; sheep) &gt; time waiting &gt; reason (basic &gt; trace &gt;
    ring).

    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 0 (cattle) and unit 3 (pigs) will be latent.
       Unit 3 will ship to unit 2 (sheep) and infect it.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 1 (sheep) will also be
       marked for destruction because it is inside a 1 km ring.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 2 (sheep) will also be
       marked for destruction because it received animals from unit 3.  The
       destruction program will not be ready for 2 more days.
     - On day 4 nothing new will happen.  The destruction program
       will not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       3 will be destroyed because it is pigs.
     - On day 6 unit 0 will be destroyed because it is cattle.
     - On day 7 the units remaining to be destroyed (1 and 2) are both
       sheep, so time waiting will be used to prioritize them.  Unit 1 will be
       destroyed because it has been waiting since day 2 (unit 2 was marked
       for destruction a day later).
     - On day 8 unit 2 will be destroyed.

    Note that the destruction order is the
    &lt;i&gt;opposite&lt;/i&gt; of what it would have been
    if reason had priority over time waiting.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; time waiting &gt; reason, -1 production type</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, one
    production type is left out of destruction entirely.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_prodtype_minus1_time_reason</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 10
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 5 days. For pigs (unit 3), the latent period is 1 day longer, and for
    sheep (units 1 and 2), the latent period is 2 days longer.

    The movement rate from pig units to sheep units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 2 km.  Latent units can be
    the source of an exposure.

    The probability of detecting diseased cattle and pig units vs. the number
    of days they have been showing clinical signs is fixed at 1.  The
    probability of detecting diseased cattle and pig units vs. the number of
    days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detecting diseased sheep.

    The authorities require 2 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit each day.  Direct contacts
    will be traced and destroyed; the probability of success for a trace-out
    investigation is 1.  Units within 1 km of a detected unit will also be
    destroyed.  The priorities for destruction are: production type (cattle
    &gt; sheep) &gt; time waiting &gt; reason (basic &gt; trace &gt; ring).
    Pigs are not destroyed.

    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 0 (cattle) and unit 3 (pigs) will be latent.
       Unit 3 will ship to unit 2 (sheep) and infect it.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 1 (sheep) will also be
       marked for destruction because it is inside a 1 km ring.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 2 (sheep) will also be
       marked for destruction because it received animals from unit 3.  The
       destruction program will not be ready for 2 more days.
     - On day 4 nothing new will happen.  The destruction program
       will not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       0 will be destroyed because it is cattle.
     - On day 6 the units remaining to be destroyed (1 and 2) are both
       sheep, so time waiting will be used to prioritize them.  Unit 1 will be
       destroyed because it has been waiting since day 2 (unit 2 was marked
       for destruction a day later).
     - On day 7 unit 2 will be destroyed.

    Unit 3 (pigs) is never destroyed.  The simulation ends when unit 3 ceases
    to be infectious.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority reason &gt; time waiting &gt; production type, -1 production type</short-name>

  <description>
    Test that destruction priorities are respected.  In this scenario, one
    production type is left out of destruction entirely.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_reason_time_prodtype_minus1</parameter-file>

  <parameter-description>
    For cattle (unit 0), the latent period lasts 1 day, infectiousness lasts 10
    days, clinical signs accompany infectiousness immediately, and immunity
    lasts 5 days. For pigs (unit 3), the latent period is 1 day longer, and for
    sheep (units 1 and 2), the latent period is 2 days longer.

    The movement rate from pig units to sheep units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 2 km.  Latent units can be
    the source of an exposure.

    The probability of detecting diseased cattle and pig units vs. the number
    of days they have been showing clinical signs is fixed at 1.  The
    probability of detecting diseased cattle and pig units vs. the number of
    days since a public announcement of an outbreak is also fixed at 1.  No
    parameters are set for detecting diseased sheep.

    The authorities require 2 days to set up a destruction program before
    beginning.  The authorities can destroy 1 unit each day.  Direct contacts
    will be traced and destroyed; the probability of success for a trace-out
    investigation is 1.  Units within 1 km of a detected unit will also be
    destroyed.  The priorities for destruction are: reason (basic &gt; trace
    &gt; ring) &gt; time waiting &gt; production type (cattle &gt; sheep).
    Pigs are not destroyed.

    There is no vaccination.
    
    Recapping what should happen as a result of all this:
     - On day 1 unit 0 (cattle) and unit 3 (pigs) will be latent.
       Unit 3 will ship to unit 2 (sheep) and infect it.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 1 (sheep) will also be
       marked for destruction because it is inside a 1 km ring.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 2 (sheep) will also be
       marked for destruction because it received animals from unit 3.  The
       destruction program will not be ready for 2 more days.
     - On day 4 nothing new will happen.  The destruction program
       will not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       0 will be destroyed because it was detected as diseased (basic
       destruction).
     - On day 6 unit 2 will be destroyed because trace back has
       priority over ring destruction.
     - On day 7 unit 1 will be destroyed.

    Unit 3 (pigs) is never destroyed.  The simulation ends when unit 3 ceases
    to be infectious.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; reason &gt; time waiting (new trace modules)</short-name>

  <description>
    This is identical to "priority production type &gt; reason &gt; time
    waiting" above but uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_prodtype_reason_time_nm</parameter-file>

  <parameter-description>
    Parameters: see "priority production type &gt; reason &gt; time waiting"
    above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>Destroyed</td>           <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; time waiting &gt; reason (new trace modules)</short-name>

  <description>
    This is identical to "priority production type &gt; time waiting &gt;
    reason" above but uses the new (fall 2007) tracing modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_prodtype_time_reason_nm</parameter-file>

  <parameter-description>
    Parameters: see "priority production type &gt; time waiting &gt; reason"
    above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; time waiting &gt; reason, -1 production type (new trace modules)</short-name>

  <description>
    This is identical to "priority production type &gt; time waiting &gt;
    reason, -1 production type" above but uses the new (fall 2007) tracing
    modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_prodtype_minus1_time_reason_nm</parameter-file>

  <parameter-description>
    Parameters: see "priority production type &gt; time waiting &gt; reason, -1
    production type" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>priority reason &gt; time waiting &gt; production type, -1 production type (new trace modules)</short-name>

  <description>
    This is identical to "priority reason &gt; time waiting &gt; production
    type, -1 production type" above but uses the new (fall 2007) tracing
    modules.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>28 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_reason_time_prodtype_minus1_nm</parameter-file>

  <parameter-description>
    Parameters: see "priority reason &gt; time waiting &gt; production type, -1
    production type" above.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Susceptible</td>  <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>    <td>Destroyed</td>           <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>priority production type &gt; reason &gt; time waiting, check first destruction</short-name>

  <description>
    Check that the first destruction (overall, and for each production type and
    each reason for destruction) is reported correctly.  This scenario is
    identical to "priority production type &gt; reason &gt; time waiting" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 June 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>4units_line_4</population-file>

  <parameter-file>priority_prodtype_reason_time_firstdestr</parameter-file>

  <parameter-description>
    Parameters: see "priority production type &gt; reason &gt; time waiting"
    above.

    What should happen:
     - On day 1 unit 0 (cattle) and unit 3 (pigs) will be latent.
       Unit 3 will ship to unit 2 (sheep) and infect it.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 1 (sheep) will also be
       marked for destruction because it is inside a 1 km ring.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and marked for destruction.  Unit 2 (sheep) will also be
       marked for destruction because it received animals from unit 3.  The
       destruction program will not be ready for 2 more days.
     - On day 4 nothing new will happen.  The destruction program
       will not be ready for 1 more day.
     - On day 5 the destruction program will be ready to begin.  Unit
       3 will be destroyed because it is pigs.  This is the first destruction
       overall, the first of pigs, and the first due to detection.
     - On day 6 unit 0 will be destroyed because it is cattle.  This is the
       first destruction of cattle.
     - On day 7 the units remaining to be destroyed (1 and 2) are both
       sheep, so the reason for destruction will be used to prioritize them.
       Unit 2 will be destroyed because trace back has priority over ring
       destruction.  This is the first destruction of sheep, and the first due
       to tracing.
     - On day 8 unit 1 will be destroyed.  This is the first destruction due to
       a ring.
  </parameter-description>

  <output>
    <tr>
      <td>firstDestruction</td>
      <td>firstDestructionDet</td>
      <td>firstDestructionDirFwd</td>
      <td>firstDestructionRing</td>
      <td>firstDestructionCattle</td>
      <td>firstDestructionPigs</td>
      <td>firstDestructionSheep</td>
      <td>firstDestructionDetCattle</td>
      <td>firstDestructionDetPigs</td>
      <td>firstDestructionDetSheep</td>
      <td>firstDestructionDirFwdCattle</td>
      <td>firstDestructionDirFwdPigs</td>
      <td>firstDestructionDirFwdSheep</td>
      <td>firstDestructionRingCattle</td>
      <td>firstDestructionRingPigs</td>
      <td>firstDestructionRingSheep</td>
    </tr>
    <!-- Overall   |                                  |                                  |  Detected/  Detected/ Detected/  Traced/   Traced/    Traced/    Ring/     Ring/      Ring/    -->
    <!--  first    |  Detected    Traced      Ring    |   Cattle      Pigs       Sheep   |   Cattle      Pigs      Sheep    Cattle     Pigs       Sheep    Cattle     Pigs       Sheep    -->
    <tr> <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td> <td></td> <td></td> <td></td>  <td></td> <td></td> <td></td>  <td></td></tr>
    <tr> <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td> <td></td> <td></td> <td></td>  <td></td> <td></td> <td></td>  <td></td></tr>
    <tr> <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td> <td></td> <td></td> <td></td>  <td></td> <td></td> <td></td>  <td></td></tr>
    <tr> <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td>  <td></td>    <td></td>  <td></td> <td></td> <td></td> <td></td>  <td></td> <td></td> <td></td>  <td></td></tr>
    <tr><td>5</td>   <td>5</td>  <td></td>  <td></td>    <td></td> <td>5</td>  <td></td>    <td></td> <td>5</td> <td></td> <td></td> <td></td>  <td></td> <td></td> <td></td>  <td></td></tr>
    <tr><td>5</td>   <td>5</td>  <td></td>  <td></td>   <td>6</td> <td>5</td>  <td></td>   <td>6</td> <td>5</td> <td></td> <td></td> <td></td>  <td></td> <td></td> <td></td>  <td></td></tr>
    <tr><td>5</td>   <td>5</td> <td>7</td>  <td></td>   <td>6</td> <td>5</td> <td>7</td>   <td>6</td> <td>5</td> <td></td> <td></td> <td></td> <td>7</td> <td></td> <td></td>  <td></td></tr>
    <tr><td>5</td>   <td>5</td> <td>7</td> <td>8</td>   <td>6</td> <td>5</td> <td>7</td>   <td>6</td> <td>5</td> <td></td> <td></td> <td></td> <td>7</td> <td></td> <td></td> <td>8</td></tr>
    <tr><td>5</td>   <td>5</td> <td>7</td> <td>8</td>   <td>6</td> <td>5</td> <td>7</td>   <td>6</td> <td>5</td> <td></td> <td></td> <td></td> <td>7</td> <td></td> <td></td> <td>8</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority production type &gt; time waiting 1</short-name>

  <description>
    Test that vaccination priorities are respected.  In this scenario, two
    units of different production types will be detected and marked for
    vaccination on two successive days.  The vaccination order will be
    specified by production type.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_line_3</population-file>

  <parameter-file>vacc_priority_prodtype_time_1</parameter-file>

  <parameter-description>
    For cattle (unit 0, initially infected), the latent period lasts 1 day,
    infectiousness lasts 10 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 5 days. For pigs (unit 3, initially
    infected), the latent period is 1 day longer.  For sheep and goats (units
    1 and 2), the duration of the disease stages are irrelevant but vaccine
    immunity lasts 5 days.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  Units within 1 km of
    a detection will be vaccinated.  For the first two days, there is no
    capacity to vaccinate; after that, the authorities can vaccinate 1 herd per
    day.  The priorities for destruction are: production type (sheep &gt;
    goats &gt; cattle &gt; pigs) &gt; reason &gt; time waiting.
    
    The vaccine produces immunity immediately, and the immunity lasts 5 days.

    There is no disease spread and no destruction.
    
    Recapping what should happen as a result of all this:
     - On day 1 units 0 and 3 will be latent.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and nearby unit 1 (sheep) will be marked for vaccination.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and nearby unit 2 (goats) will be marked for vaccination.
     - On day 4 nothing new will happen.
     - On day 5 (3 days after the first detection) the vaccination
       capacity will come on-line.  Unit 1 will be vaccinated because it
       is sheep.
     - On day 6 unit 2 will be vaccinated because it is goats.

    Note that the vaccination order by production type is the
    &lt;i&gt;same&lt;/i&gt; as it would have been by time waiting.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority production type &gt; time waiting 2</short-name>

  <description>
    Test that vaccination priorities are respected.  In this scenario, two
    units of different production types will be detected and marked for
    vaccination on two successive days.  The vaccination order will be
    specified by production type.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_line_3</population-file>

  <parameter-file>vacc_priority_prodtype_time_2</parameter-file>

  <parameter-description>
    For cattle (unit 0, initially infected), the latent period lasts 1 day,
    infectiousness lasts 10 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 5 days. For pigs (unit 3, initially
    infected), the latent period is 1 day longer.  For sheep and goats (units
    1 and 2), the duration of the disease stages are irrelevant but vaccine
    immunity lasts 5 days.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  Units within 1 km of
    a detection will be vaccinated.  For the first two days, there is no
    capacity to vaccinate; after that, the authorities can vaccinate 1 herd per
    day.  The priorities for destruction are: production type (goats &gt;
    sheep &gt; cattle &gt; pigs) &gt; reason &gt; time waiting.
    
    The vaccine produces immunity immediately, and the immunity lasts 5 days.

    There is no disease spread and no destruction.
    
    Recapping what should happen as a result of all this:
     - On day 1 units 0 and 3 will be latent.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and nearby unit 1 (sheep) will be marked for vaccination.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and nearby unit 2 (goats) will be marked for vaccination.
     - On day 4 nothing new will happen.
     - On day 5 (3 days after the first detection) the vaccination
       capacity will come on-line.  Unit 2 will be vaccinated because it
       is goats.
     - On day 6 unit 2 will be vaccinated because it is sheep.

    Note that the vaccination order by production type is the
    &lt;i&gt;opposite&lt;/i&gt; of what it would have been by time waiting.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>VaccineImmune</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority time waiting &gt; production type</short-name>

  <description>
    Test that vaccination priorities are respected.  In this scenario, two
    units of different production types will be detected and marked for
    vaccination on two successive days.  The vaccination order will be
    specified by time waiting.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>31 March 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>4units_line_3</population-file>

  <parameter-file>vacc_priority_time_prodtype</parameter-file>

  <parameter-description>
    For cattle (unit 0, initially infected), the latent period lasts 1 day,
    infectiousness lasts 10 days, clinical signs accompany infectiousness
    immediately, and immunity lasts 5 days. For pigs (unit 3, initially
    infected), the latent period is 1 day longer.  For sheep and goats (units
    1 and 2), the duration of the disease stages are irrelevant but vaccine
    immunity lasts 5 days.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    A vaccination program begins at the first detection.  Units within 1 km of
    a detection will be vaccinated.  For the first two days, there is no
    capacity to vaccinate; after that, the authorities can vaccinate 1 herd per
    day.  The priorities for destruction are: time waiting &gt; production type
    (goats &gt; sheep &gt; cattle &gt; pigs) &gt; reason.
    
    The vaccine produces immunity immediately, and the immunity lasts 5 days.

    There is no disease spread and no destruction.
    
    Recapping what should happen as a result of all this:
     - On day 1 units 0 and 3 will be latent.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and nearby unit 1 (sheep) will be marked for vaccination.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and nearby unit 2 (goats) will be marked for vaccination.
     - On day 4 nothing new will happen.
     - On day 5 (3 days after the first detection) the vaccination
       capacity will come on-line.  Unit 1 will be vaccinated because it
       has been waiting the longest.
     - On day 6 unit 2 will be vaccinated.

    Note that the vaccination order by production type is the
    &lt;i&gt;opposite&lt;/i&gt; of what it would have been by production type.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>    <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>Susceptible</td>    <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>vaccination priority time waiting &gt; production type, check first vaccination</short-name>

  <description>
    Check that the first vaccination (overall, and for each production type and
    each reason for vaccination) is reported correctly.  This scenario is
    identical to "vaccination priority time waiting &gt; production type" above.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 June 2009</creation-date>
  <model-version>3.2</model-version>

  <population-file>4units_line_3</population-file>

  <parameter-file>vacc_priority_time_prodtype_firstvacc</parameter-file>

  <parameter-description>
    Parameters: see "vaccination priority time waiting &gt; production type"
    above.
    
    What should happen:
     - On day 1 units 0 and 3 will be latent.
     - On day 2 unit 0 (cattle) will be infectious clinical.  It will
       be detected and nearby unit 1 (sheep) will be marked for vaccination.
     - On day 3 unit 3 (pigs) will be infectious clinical.  It will
       be detected and nearby unit 2 (goats) will be marked for vaccination.
     - On day 4 nothing new will happen.
     - On day 5 (3 days after the first detection) the vaccination
       capacity will come on-line.  Unit 1 will be vaccinated because it
       has been waiting the longest.  This is the first vaccination overall,
       the first of sheep, and the first due to a ring.
     - On day 6 unit 2 will be vaccinated.  This is the first vaccination of
       goats.
  </parameter-description>

  <output>
    <tr>
      <td>firstVaccination</td>
      <td>firstVaccinationRing</td>
      <td>firstVaccinationCattle</td>
      <td>firstVaccinationPigs</td>
      <td>firstVaccinationSheep</td>
      <td>firstVaccinationGoats</td>
      <td>firstVaccinationRingCattle</td>
      <td>firstVaccinationRingPigs</td>
      <td>firstVaccinationRingSheep</td>
      <td>firstVaccinationRingGoats</td>
    </tr>
    <!-- Overall   |            |                                           |   Ring/     Ring/      Ring/      Ring/    -->
    <!--  first    |    Ring    |  Cattle     Pigs       Sheep      Goats   |  Cattle     Pigs       Sheep      Goats    -->
    <tr> <td></td>    <td></td>   <td></td> <td></td>  <td></td>  <td></td>   <td></td> <td></td>  <td></td>  <td></td></tr>
    <tr> <td></td>    <td></td>   <td></td> <td></td>  <td></td>  <td></td>   <td></td> <td></td>  <td></td>  <td></td></tr>
    <tr> <td></td>    <td></td>   <td></td> <td></td>  <td></td>  <td></td>   <td></td> <td></td>  <td></td>  <td></td></tr>
    <tr> <td></td>    <td></td>   <td></td> <td></td>  <td></td>  <td></td>   <td></td> <td></td>  <td></td>  <td></td></tr>
    <tr><td>5</td>   <td>5</td>   <td></td> <td></td> <td>5</td>  <td></td>   <td></td> <td></td> <td>5</td>  <td></td></tr>
    <tr><td>5</td>   <td>5</td>   <td></td> <td></td> <td>5</td> <td>6</td>   <td></td> <td></td> <td>5</td> <td>6</td></tr>
    <tr><td>5</td>   <td>5</td>   <td></td> <td></td> <td>5</td> <td>6</td>   <td></td> <td></td> <td>5</td> <td>6</td></tr>
  </output>
</variable-test>

<stochastic-variable-test>
  <category>control_measures</category>
  <short-name>destruction vs. vaccination on same day</short-name>

  <description>
    Test the choice of whether destruction or vaccination happens first when
    both come up on the same day.  Destruction should always happen and
    an unnecessary vaccination should not happen.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>vacc_dest_same_day</parameter-file>

  <parameter-description>
    The latent period lasts 1 day,  infectiousness lasts 3 days, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    Units within 15 km of a detection will be destroyed.  The authorities can
    begin a destruction program immediately.  The authorities can destroy an
    unlimited/very large number of units each day.

    A vaccination program begins at the first detection.  Units within 15 km of
    a detection will be vaccinated.  The authorities can vaccinate an
    unlimited/very large number of units each day.  The vaccine produces
    immunity immediately, and the immunity lasts 3 days.

    There is no disease spread.
    
    Recapping what should happen as a result of all this:
     - On day 1 units 0 and 2 will be latent.
     - On day 2 units 0 and 2 will be infectious clinical.  They will
       be detected and nearby unit 1 will be marked for both destruction and
       vaccination.
     - On day 3 unit 1 will be destroyed.
  </parameter-description>

  <output probability="1.0">
    <tr>
      <td>desnU</td>
      <td>vacnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td></tr>
  </output>
</stochastic-variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination threshold 1 detection, no vaccination</short-name>

  <description>
    Test the vaccination program threshold.  In this baseline scenario, there
    is no vaccination.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_2rows</population-file>

  <parameter-file>vacc_threshold_0</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day,  infectiousness
    lasts 2 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    The movement rate from cattle units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 1 km.  Latent units can be
    the source of an exposure.  The probability of infection given exposure is
    1.  There are no shipments from cattle units to pig units, pig units to
    cattle units, or pig units to pig units.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    A vaccination program begins at the first detection.  Units within 0.75 km
    of a detection will be vaccinated.  The authorities have no capacity to
    vaccinate.  The vaccine produces immunity immediately, and the immunity
    lasts 5 days.
    
    Recapping what should happen as a result of all this:
     - Infection will spread from unit 0 to 1, 1 to 2, and 2 to 3 on
       successive days.  
     - Unit 0 will be detected and marked for destruction on day 2
       (when it goes infectious clinical) and destroyed on day 3.  Similarly,
       unit 1 will be destroyed on day 4, unit 2 on day 5, and unit 3 on day 6.
     - No units will be vaccinated because of the lack of vaccination
       resources.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination threshold 1 detection</short-name>

  <description>
    Test the vaccination program threshold.  In this scenario, ring vaccination
    begins with the first detection.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_2rows</population-file>

  <parameter-file>vacc_threshold_1</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day,  infectiousness
    lasts 2 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    The movement rate from cattle units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 1 km.  Latent units can be
    the source of an exposure.  The probability of infection given exposure is
    1.  There are no shipments from cattle units to pig units, pig units to
    cattle units, or pig units to pig units.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    A vaccination program begins at the first detection.  Units within 0.75 km
    of a detection will be vaccinated.  The authorities can vaccinate an
    unlimited/very large number of units each day.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.
    
    Recapping what should happen as a result of all this:
     - Infection will spread from unit 0 to 1, 1 to 2, and 2 to 3 on
       successive days.  
     - Unit 0 will be detected and marked for destruction on day 2
       (when it goes infectious clinical) and destroyed on day 3.  Similarly,
       unit 1 will be destroyed on day 4, unit 2 on day 5, and unit 3 on day 6.
     - Unit 4 (just above unit 0) will be marked for vaccination on
       the day unit 0 is detected, day 2.  It will be vaccinated on day 3.
       Similarly, unit 5 will be vaccinated on day 4, unit 6 on day 5, and
       unit 7 on day 6.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>VaccineImmune</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination threshold 2 detections</short-name>

  <description>
    Test the vaccination program threshold.  In this scenario, ring vaccination
    begins with the second detection.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_2rows</population-file>

  <parameter-file>vacc_threshold_2</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day,  infectiousness
    lasts 2 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    The movement rate from cattle units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 1 km.  Latent units can be
    the source of an exposure.  The probability of infection given exposure is
    1.  There are no shipments from cattle units to pig units, pig units to
    cattle units, or pig units to pig units.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    A vaccination program begins at the second detection.  Units within 0.75 km
    of a detection will be vaccinated.  The authorities can vaccinate an
    unlimited/very large number of units each day.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.
    
    Recapping what should happen as a result of all this:
     - Infection will spread from unit 0 to 1, 1 to 2, and 2 to 3 on
       successive days.  
     - Unit 0 will be detected and marked for destruction on day 2
       (when it goes infectious clinical) and destroyed on day 3.  Similarly,
       unit 1 will be destroyed on day 4, unit 2 on day 5, and unit 3 on day 6.
     - Unit 0 is detected on day 2, but this will not trigger
       vaccinations because the threshold of 2 detections has not been
       reached.  Unit 5 (just above unit 1) will be marked for vaccination on
       the day unit 1 is detected, day 3.  It will be vaccinated on day 4.
       Similarly, unit 6 will be vaccinated on day 5, and unit 7 on day 6.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination threshold 3 detections</short-name>

  <description>
    Test the vaccination program threshold.  In this scenario, ring vaccination
    begins with the third detection.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>17 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_2rows</population-file>

  <parameter-file>vacc_threshold_3</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day,  infectiousness
    lasts 2 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    The movement rate from cattle units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 1 km.  Latent units can be
    the source of an exposure.  The probability of infection given exposure is
    1.  There are no shipments from cattle units to pig units, pig units to
    cattle units, or pig units to pig units.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    A vaccination program begins at the third detection.  Units within 0.75 km
    of a detection will be vaccinated.  The authorities can vaccinate an
    unlimited/very large number of units each day.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.
    
    Recapping what should happen as a result of all this:
     - Infection will spread from unit 0 to 1, 1 to 2, and 2 to 3 on
       successive days.  
     - Unit 0 will be detected and marked for destruction on day 2
       (when it goes infectious clinical) and destroyed on day 3.  Similarly,
       unit 1 will be destroyed on day 4, unit 2 on day 5, and unit 3 on day 6.
     - Unit 0 is detected on day 2, but this will not trigger
       vaccinations because the threshold of 3 detections has not been
       reached.  Unit 1 is detected on day 3, but this will not trigger
       vaccinations because the threshold of 3 detections still has not been
       reached.  Unit 6 (just above unit 2) will be marked for vaccination on
       the day unit 2 is detected, day 4.  It will be vaccinated on day 5.
       Similarly, unit 7 will be vaccinated on day 6.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination threshold 3 detections, 3rd + 4th on same day</short-name>

  <description>
    Test that detections that do not pass the vaccination program threshold,
    but occur on the same day as the detection that does, still trigger
    vaccinations.  In this baseline scenario, there is no "backtracking"
    needed; the detection that passes the threshold is the first detection on
    that day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>18 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_2rows_2</population-file>

  <parameter-file>vacc_threshold_3_backtrack</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day,  infectiousness
    lasts 2 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    The movement rate from cattle units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 2 km.  Latent units can be
    the source of an exposure.  The probability of infection given exposure is
    1.  There are no shipments from cattle units to pig units, pig units to
    cattle units, or pig units to pig units.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    A vaccination program begins at the third detection.  Units within 0.75 km
    of a detection will be vaccinated.  The authorities can vaccinate an
    unlimited/very large number of units each day.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.
    
    Recapping what should happen as a result of all this:
     - Infection will spread from unit 0 to 2 and from unit 1 to 3 on day 1.
     - Units 0 and 1 will be detected and marked for destruction on day 2 (when
       they go infectious clinical) and destroyed on day 3.  Similarly, units 2
       and 3 will be destroyed on day 4.
     - Units 0 and 1 are detected on day 2, but this will not trigger
       vaccinations because the threshold of 3 detections has not been reached.
       Unit 2 is detected on day 3 and, being the third detection, will cause
       unit 6 (just above unit 2) to be marked for vaccination.  Unit 3 is also
       detected on day 3 and causes unit 7 (just above unit 3) to be marked for
       vaccination.  Units 6 and 7 will be vaccinated on day 4.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination threshold 4 detections, 3rd + 4th on same day</short-name>

  <description>
    Test that detections that do not pass the vaccination program threshold,
    but occur on the same day as the detection that does, still trigger
    vaccinations.  In this scenario, the detection that passes the threshold is
    the second detection on that day, so we need to "backtrack" and also
    vaccinate units surrounding the first detection on that day.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>18 October 2005</creation-date>
  <model-version>3.0</model-version>

  <population-file>8units_2rows_2</population-file>

  <parameter-file>vacc_threshold_4_backtrack</parameter-file>

  <parameter-description>
    For both cattle and pigs, the latent period lasts 1 day,  infectiousness
    lasts 2 days, clinical signs accompany infectiousness immediately, and
    natural immunity lasts 3 days.

    The movement rate from cattle units to cattle units is fixed at 1 shipment
    each day.  The distance of shipments is fixed at 2 km.  Latent units can be
    the source of an exposure.  The probability of infection given exposure is
    1.  There are no shipments from cattle units to pig units, pig units to
    cattle units, or pig units to pig units.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    A vaccination program begins at the fourth detection.  Units within 0.75 km
    of a detection will be vaccinated.  The authorities can vaccinate an
    unlimited/very large number of units each day.  The vaccine produces
    immunity immediately, and the immunity lasts 5 days.
    
    Recapping what should happen as a result of all this:
     - Infection will spread from unit 0 to 2 and from unit 1 to 3 on day 1.
     - Units 0 and 1 will be detected and marked for destruction on day 2 (when
       they go infectious clinical) and destroyed on day 3.  Similarly, units 2
       and 3 will be detected on day 3 and destroyed on day 4.
     - Units 0 and 1 are detected on day 2, but this will not trigger
       vaccinations because the threshold of 3 detections has not been
       reached.  Unit 2 is detected on day 3, but this will not trigger
       vaccinations because the threshold of 3 detections still has not been
       reached.  Unit 3 is also detected on days 3 and, being the fourth
       detection, will cause unit 7 (just above unit 3) to be marked for
       vaccination.  Because unit 2 was detected earlier on the same day, unit
       6 (just above unit 2) will also be marked for vaccination.  Units 6 and
       7 will be vaccinated on day 4.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>  <td>Susceptible</td>  <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Susceptible</td>  <td>Susceptible</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination threshold 4 detections, 3rd + 4th on same day, 4th detection by test</short-name>

  <description>
    Test that detections that do not pass the vaccination program threshold,
    but occur on the same day as the detection that does, still trigger
    vaccinations.  In this scenario, the detection that passes the threshold is
    the second detection on that day, so we need to backtrack and also
    vaccinate units surrounding the first detection on that day.  Unlike the
    previous test, in which all detections were by self-reporting, here the
    final detection is by a test.
    
    This test failed in version 3.2.5 and was fixed in 3.2.6.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 November 2010</creation-date>
  <model-version>3.2</model-version>

  <population-file>8units_2rows_3</population-file>

  <parameter-file>vacc_threshold_4_backtrack_4th_detection_by_test</parameter-file>

  <parameter-description>
    This test is almost the same as vaccination threshold 4 detections, 3rd +
    4th on same day above.  But in this test, the last unit to be detected
    (unit 3) is detected by a test instead of by clinical signs.

    What should happen:
     - On day 1, infection will spread via direct contact from units 0 and 1 to
       units 2 and 3.
     - On day 2, units 0 and 1 will be detected and marked for destruction.
       Trace outs will be initiated from both units.
       No vaccinations will be requested yet, because only 2 detections have occurred.
     - On day 3, units 0 and 1 will be destroyed (their state will show as
       Destroyed on day 4).
       Unit 2 will be Infectious Clinical;
       it will be detected by clinical signs and marked for destruction.
       Unit 3, which is a different production type,
       will be Infectious Subclinical and will not be detected by clinical signs.
       However, the trace initiated on day 2 will find unit 3,
       and unit 3 will be examined for clinical signs.
       The examination will fail to find clinical signs,
       so a test will be conducted,
       and the test will detect disease.
       Now there have been 4 detections, so vaccination rings will be
       triggered around unit 3 (the 4th unit detected)
       and also around unit 2, detected earlier on the same day.
       Units 6 and 7 will be marked for vaccination.
     - On day 4, units 6 and 7 will be vaccinated (their state will show as
       Vaccine Immune on day 5).
  </parameter-description>

  <output>
    <tr><td>L</td> <td>L</td> <td>S</td> <td>S</td> <td>S</td> <td>S</td> <td>S</td> <td>S</td></tr>
    <tr><td>C</td> <td>C</td> <td>L</td> <td>L</td> <td>S</td> <td>S</td> <td>S</td> <td>S</td></tr>
    <tr><td>C</td> <td>C</td> <td>C</td> <td>B</td> <td>S</td> <td>S</td> <td>S</td> <td>S</td></tr>
    <tr><td>D</td> <td>D</td> <td>C</td> <td>B</td> <td>S</td> <td>S</td> <td>S</td> <td>S</td></tr>
    <tr><td>D</td> <td>D</td> <td>D</td> <td>D</td> <td>S</td> <td>S</td> <td>V</td> <td>V</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>destruction vs. vaccination, vaccination resources, no destruction</short-name>

  <description>
    This is one of a set of 3 tests that check whether a vaccination that is
    cancelled due to destruction coming up on the same day still counts against
    vaccination resources (it should not).

    In this scenario, there is no destruction, so we simply see the result of
    having limited vaccination resources.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>14 September 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>7units</population-file>

  <parameter-file>vacc_dest_same_day_2</parameter-file>

  <parameter-description>
    The latent period lasts 2 days, infectiousness with clinical signs lasts 1
    day, and natural immunity lasts 1 day.

    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased units vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    Units detected as diseased will be destroyed.  The authorities require 3
    days to set up a destruction program before beginning.  The destruction
    capacity is zero, so no units will ever actually be destroyed.

    A vaccination program begins at the fourth detection.  Units within 3/4 of
    a km of a detection will be vaccinated.  Detected infected units are
    vaccinated.  The authorities can vaccinate 3 units each day.  Units of
    production type A have first priority, so unit 6, the sole unit of
    production type B, will always get vaccinated last.  The vaccine produces
    immunity immediately, and the immunity lasts 2 days.

    There is no disease spread.
    
    What should happen:
     - On day 1 units 1, 2, and 3 will be Infectious Clinical (they start out
       that way).  They will be detected and slated for destruction.
     - On day 3 unit 0 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Because it is the 4th detection, it will start
       a vaccination program.  Units 3, 4, 5, and 6 will be slated for
       vaccination.
     - On day 4, units 3, 4, and 5 will be vaccinated.
     - Day 5 would be the first day destruction is possible (days 2, 3, and 4
       were the 3-day setup delay).  But the destruction capacity is zero, so
       no units will be destroyed.  However, three of the vaccinated units will
       be Vaccine Immune on this day, and the remaining one will be vaccinated.
  </parameter-description>

  <diagram>7units_w_ring</diagram>

  <output>
    <tr><td>Latent</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Latent</td>              <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>VaccineImmune</td>       <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>VaccineImmune</td>       <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>destruction vs. vaccination, vaccination resources, destruction 1 day later</short-name>

  <description>
    This is one of a set of 3 tests that check whether a vaccination that is
    cancelled due to destruction coming up on the same day still counts against
    vaccination resources (it should not).

    In this scenario, destruction happens 1 day after vaccination, so it does
    not cancel any vaccinations.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>14 September 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>7units</population-file>

  <parameter-file>vacc_dest_same_day_3</parameter-file>

  <parameter-description>
    The parameters are the same as for destruction vs. vaccination,
    vaccination resources, no destruction above, but this time the authorities
    can destroy an unlimited/very large number of units each day.
    
    What should happen:
     - On day 1 units 1, 2, and 3 will be Infectious Clinical (they start out
       that way).  They will be detected and slated for destruction.
     - On day 3 unit 0 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Because it is the 4th detection, it will start
       a vaccination program.  Units 3, 4, 5, and 6 will be slated for
       vaccination.
     - On day 4, units 3, 4, and 5 will be vaccinated.
     - On day 5 destruction can begin (days 2, 3, and 4 were the 3-day setup
       delay).  Units 0, 1, 2, and 3 will be destroyed.  Three of the
       vaccinated units will be Vaccine Immune on this day, and the remaining
       one will be vaccinated.
  </parameter-description>

  <diagram>7units_w_ring</diagram>

  <output>
    <tr><td>Latent</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Latent</td>              <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>VaccineImmune</td>       <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>destruction vs. vaccination, vaccination resources, destruction same day</short-name>

  <description>
    This is one of a set of 3 tests that check whether a vaccination that is
    cancelled due to destruction coming up on the same day still counts against
    vaccination resources (it should not).

    In this scenario, destruction happens the same day as vaccination, so it
    should cancel a vaccination.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>14 September 2007</creation-date>
  <model-version>3.0</model-version>

  <population-file>7units</population-file>

  <parameter-file>vacc_dest_same_day_4</parameter-file>

  <parameter-description>
    The parameters are the same as for destruction vs. vaccination,
    vaccination resources, destruction 1 day later above, but this time the
    destruction program can begin 1 day sooner.
    
    What should happen:
     - On day 1 units 1, 2, and 3 will be Infectious Clinical (they start out
       that way).  They will be detected and slated for destruction.
     - On day 3 unit 0 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Because it is the 4th detection, it will start
       a vaccination program.  Units 3, 4, 5, and 6 will be slated for
       vaccination.
     - On day 4 destruction can begin (days 2 and 3 were the 2-day setup delay).
       Units 0, 1, 2, and 3 will be destroyed.  This is also the day that
       vaccinations begin, and since one of the units slated for vaccination is
       being destroyed, the remaining three can all be vaccinated today.
     - On day 5 the three vaccinated units will be Vaccine Immune.
  </parameter-description>

  <diagram>7units_w_ring</diagram>

  <output>
    <tr><td>Latent</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Latent</td>              <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>         <td>Susceptible</td>    <td>Susceptible</td>    <td>Susceptible</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>           <td>VaccineImmune</td>  <td>VaccineImmune</td>  <td>VaccineImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace in, just &gt; threshold for success</short-name>

  <description>
    Test tracing in.  In this scenario, an infected unit ships animals to a
    neighbouring unit, then the receiving unit (but not the source unit) is
    detected.  The source unit should be found by trace in and destroyed.  This
    scenario is like "trace in" above, but because version 3.2 includes trace
    in, this time the trace will work.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>30 August 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_in_success</parameter-file>

  <parameter-description>
    For pigs (unit 1), the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 2
    days, and immunity lasts 3 days.  For cattle (unit 0), the latent period
    lasts 1 day, infectiousness lasts 3 days, clinical signs accompany
    infectiousness immediately, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is 1 shipment each day.
    The distance of shipments is fixed at 10 km.  No parameters are set for
    movement from cattle units to pig units.

    Latent units can be the source of an exposure.

    The probability of infection given exposure is 1.

    The probability of detecting diseased cattle vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    detecting diseased cattle vs. the number of days since a public
    announcement of an outbreak is also fixed at 1.  No parameters are set for
    detecting diseased pigs, so the infection in the pigs herd will not be
    detected.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    The probability of success for both trace-in and trace-out investigations
    is 0.505, which will be just sufficient for success with fixed "random"
    numbers of 0.5.
    
    There is no vaccination.

    What should happen:
     - On day 1 unit 1 (pigs) will ship to and infect unit 0 (cattle).
     - On day 2 unit 0 will be Latent.
     - On day 3 unit 0 will be Infectious Clinical.  It will be detected and
       slated for destruction.  Trace in will find unit 1, which will also be
       slated for destruction.
     - On day 4 both units will be destroyed.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace directions, no trace</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this baseline scenario, there is no tracing.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_no_trace</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    with clinical signs lasts 1 day, and immunity lasts 3 days.

    The movement rate is 1 shipment per day, always going from left to right.
    Latent units cannot be the source of an exposure.  The probability of
    infection given exposure is 1.

    The probability of detecting a diseased unit of production type "C" (the
    one in the middle) vs. the number of days it has been showing clinical
    signs is fixed at 1.  No parameters are set for detecting units of other
    production types.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.
    
    There is no vaccination.

    What should happen:
     - On day 1 the two units of type "A" on the left will be Latent.
     - On day 2 the "A" units will be Infectious Clinical.  They will ship to
       and infect the two "B" units.  Because of the 1-day latent period, the
       infection will keep moving to the right every 2 days.
     - On day 6 the "C" unit will be detected.  It will be slated for
       destruction.
     - On day 7 the "C" unit will be destroyed.  (Its state will show as
       Destroyed on day 8.)
  </parameter-description>

  <output>
    <!--    A           A           B           B           C           D           E           F           G       -->
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>C</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>N</td></tr>
    <!-- No more infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace directions, no trace, check reporting variables</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this baseline scenario, there is no tracing.  We check the reporting
    variables to make sure that "no tracing" vs "0% success at tracing" are
    each reported properly.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_no_trace_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "trace directions, no trace" above.
  </parameter-description>

  <output>
    <tr>
      <!-- Large table because of the 7 production types. -->
      <td>trnUp</td> <!-- Potential traces -->
      <td>trnUDirp</td> <!-- broken down by contact type -->
      <td>trnUIndp</td>
      <td>trnUpA</td> <!-- broken down by production type -->
      <td>trnUpB</td>
      <td>trnUpC</td>
      <td>trnUpD</td>
      <td>trnUpE</td>
      <td>trnUpF</td>
      <td>trnUpG</td>
      <td>trnUDirpA</td> <!-- broken down by contact type and production type -->
      <td>trnUDirpB</td>
      <td>trnUDirpC</td>
      <td>trnUDirpD</td>
      <td>trnUDirpE</td>
      <td>trnUDirpF</td>
      <td>trnUDirpG</td>
      <td>trnUIndpA</td>
      <td>trnUIndpB</td>
      <td>trnUIndpC</td>
      <td>trnUIndpD</td>
      <td>trnUIndpE</td>
      <td>trnUIndpF</td>
      <td>trnUIndpG</td>
      <td>trnU</td> <!-- Actual traces -->
      <td>trnUDir</td> <!-- broken down by contact type -->
      <td>trnUInd</td>
      <td>trnUA</td> <!-- broken down by production type -->
      <td>trnUB</td>
      <td>trnUC</td>
      <td>trnUD</td>
      <td>trnUE</td>
      <td>trnUF</td>
      <td>trnUG</td>
      <td>trnUDirA</td> <!-- broken down by contact type and production type -->
      <td>trnUDirB</td>
      <td>trnUDirC</td>
      <td>trnUDirD</td>
      <td>trnUDirE</td>
      <td>trnUDirF</td>
      <td>trnUDirG</td>
      <td>trnUIndA</td>
      <td>trnUIndB</td>
      <td>trnUIndC</td>
      <td>trnUIndD</td>
      <td>trnUIndE</td>
      <td>trnUIndF</td>
      <td>trnUIndG</td>
    </tr>
    <!-- Potential                                                                                                                                                                                                                                                                                     |  Actual                                                                                                                                                                                                                                                                                         -->
    <!--  Total       Direct     Indirect       A           B           C           D           E           F           G        Direct/A    Direct/B    Direct/C    Direct/D    Direct/E    Direct/F    Direct/G   Indirect/A  Indirect/B  Indirect/C  Indirect/D  Indirect/E  Indirect/F  Indirect/G |   Total       Direct     Indirect       A           B           C           D           E           F           G        Direct/A    Direct/B    Direct/C    Direct/D    Direct/E    Direct/F    Direct/G   Indirect/A  Indirect/B  Indirect/C  Indirect/D  Indirect/E  Indirect/F  Indirect/G  -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace directions, neither direction succeeds</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this scenario, tracing is 0% successful.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_in_out_fail</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    with clinical signs lasts 1 day, and immunity lasts 3 days.

    The movement rate is 1 shipment per day, always going from left to right.
    Latent units cannot be the source of an exposure.  The probability of
    infection given exposure is 1.

    The probability of detecting a diseased unit of production type "C" (the
    one in the middle) vs. the number of days it has been showing clinical
    signs is fixed at 1.  No parameters are set for detecting units of other
    production types.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    Both tracing out and tracing in are 0% successful at finding contacts.
    
    There is no vaccination.

    What should happen:
     - On day 1 the two units of type "A" on the left will be Latent.
     - On day 2 the "A" units will be Infectious Subclinical.  They will ship
       to and infect the two "B" units.  Because of the 1-day latent period,
       the infection will keep moving to the right every 2 days.
     - On day 6 the "C" unit will be detected.  It will be slated for
       destruction.  A trace out and trace in will be attempted, but will fail
       to find any contacts.
     - On day 7 the "C" unit will be destroyed.  (Its state will show as
       Destroyed on day 8.)
  </parameter-description>

  <output>
    <!--    A           A           B           B           C           D           E           F           G       -->
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>C</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>D</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>N</td></tr>
    <!-- No more infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace directions, neither direction succeeds, check reporting variables</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this scenario, tracing is 0% successful.  We check the reporting
    variables to make sure that "no tracing" vs "0% success at tracing" are
    each reported properly.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_in_out_fail_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "trace directions, neither direction succeeds" above.

    On day 6, when unit "C" is detected, we should count 2 trace attempts (one
    trace out, one trace in), 4 direct contacts potentially traced, 0 actually
    traced.
  </parameter-description>

  <output>
    <tr>
      <!-- Large table because of the 7 production types. -->
      <td>trnUp</td> <!-- Potential traces -->
      <td>trnUDirp</td> <!-- broken down by contact type -->
      <td>trnUIndp</td>
      <td>trnUpA</td> <!-- broken down by production type -->
      <td>trnUpB</td>
      <td>trnUpC</td>
      <td>trnUpD</td>
      <td>trnUpE</td>
      <td>trnUpF</td>
      <td>trnUpG</td>
      <td>trnUDirpA</td> <!-- broken down by contact type and production type -->
      <td>trnUDirpB</td>
      <td>trnUDirpC</td>
      <td>trnUDirpD</td>
      <td>trnUDirpE</td>
      <td>trnUDirpF</td>
      <td>trnUDirpG</td>
      <td>trnUIndpA</td>
      <td>trnUIndpB</td>
      <td>trnUIndpC</td>
      <td>trnUIndpD</td>
      <td>trnUIndpE</td>
      <td>trnUIndpF</td>
      <td>trnUIndpG</td>
      <td>trnU</td> <!-- Actual traces -->
      <td>trnUDir</td> <!-- broken down by contact type -->
      <td>trnUInd</td>
      <td>trnUA</td> <!-- broken down by production type -->
      <td>trnUB</td>
      <td>trnUC</td>
      <td>trnUD</td>
      <td>trnUE</td>
      <td>trnUF</td>
      <td>trnUG</td>
      <td>trnUDirA</td> <!-- broken down by contact type and production type -->
      <td>trnUDirB</td>
      <td>trnUDirC</td>
      <td>trnUDirD</td>
      <td>trnUDirE</td>
      <td>trnUDirF</td>
      <td>trnUDirG</td>
      <td>trnUIndA</td>
      <td>trnUIndB</td>
      <td>trnUIndC</td>
      <td>trnUIndD</td>
      <td>trnUIndE</td>
      <td>trnUIndF</td>
      <td>trnUIndG</td>
    </tr>
    <!-- Potential                                                                                                                                                                                                                                                                                     |  Actual                                                                                                                                                                                                                                                                                         -->
    <!--  Total       Direct     Indirect       A           B           C           D           E           F           G        Direct/A    Direct/B    Direct/C    Direct/D    Direct/E    Direct/F    Direct/G   Indirect/A  Indirect/B  Indirect/C  Indirect/D  Indirect/E  Indirect/F  Indirect/G |   Total       Direct     Indirect         A           B           C           D           E           F           G      Direct/A    Direct/B    Direct/C    Direct/D    Direct/E    Direct/F    Direct/G   Indirect/A  Indirect/B  Indirect/C  Indirect/D  Indirect/E  Indirect/F  Indirect/G  -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>4</td>  <td>4</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace directions, both directions succeed</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this scenario, tracing all contacts is 100% successful.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_in_out_succeed</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    with clinical signs lasts 1 day, and immunity lasts 3 days.

    The movement rate is 1 shipment per day, always going from left to right.
    Latent units cannot be the source of an exposure.  The probability of
    infection given exposure is 1.

    The probability of detecting a diseased unit of production type "C" (the
    one in the middle) vs. the number of days it has been showing clinical
    signs is fixed at 1.  No parameters are set for detecting units of other
    production types.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    Tracing direct contacts is 100% successful.
    
    There is no vaccination.

    What should happen:
     - On day 1 the two units of type "A" on the left will be Latent.
     - On day 2 the "A" units will be Infectious Subclinical.  They will ship
       to and infect the two "B" units.  Because of the 1-day latent period,
       the infection will keep moving to the right every 2 days.
     - On day 6 the "C" unit will be detected.  It will be slated for
       destruction.  A trace out and trace in will be attempted.  Trace out
       will find the "D" and "E" units.  Trace in will find the "B" units.
       These units will be slated for destruction.
     - On day 7 the five units will be destroyed.  (Their state will show as
       Destroyed on day 8.)
  </parameter-description>

  <output>
    <!--    A           A           B           B           C           D           E           F           G -->
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>S</td>  <td>S</td></tr>
    <!-- No more infectious units, simulation stops. -->
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace directions, both directions succeed, check reporting variables</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this scenario, tracing all contacts is 100% successful.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_in_out_succeed_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "trace directions, both directions succeed" above.

    On day 6, when unit "C" is detected, we should count 2 trace attempts (one
    trace out, one trace in), 4 direct contacts potentially traced, 4 actually
    traced.
  </parameter-description>

  <output>
    <tr>
      <!-- Large table because of the 7 production types. -->
      <td>trnUp</td> <!-- Potential traces -->
      <td>trnUDirp</td> <!-- broken down by contact type -->
      <td>trnUIndp</td>
      <td>trnUpA</td> <!-- broken down by production type -->
      <td>trnUpB</td>
      <td>trnUpC</td>
      <td>trnUpD</td>
      <td>trnUpE</td>
      <td>trnUpF</td>
      <td>trnUpG</td>
      <td>trnUDirpA</td> <!-- broken down by contact type and production type -->
      <td>trnUDirpB</td>
      <td>trnUDirpC</td>
      <td>trnUDirpD</td>
      <td>trnUDirpE</td>
      <td>trnUDirpF</td>
      <td>trnUDirpG</td>
      <td>trnUIndpA</td>
      <td>trnUIndpB</td>
      <td>trnUIndpC</td>
      <td>trnUIndpD</td>
      <td>trnUIndpE</td>
      <td>trnUIndpF</td>
      <td>trnUIndpG</td>
      <td>trnU</td> <!-- Actual traces -->
      <td>trnUDir</td> <!-- broken down by contact type -->
      <td>trnUInd</td>
      <td>trnUA</td> <!-- broken down by production type -->
      <td>trnUB</td>
      <td>trnUC</td>
      <td>trnUD</td>
      <td>trnUE</td>
      <td>trnUF</td>
      <td>trnUG</td>
      <td>trnUDirA</td> <!-- broken down by contact type and production type -->
      <td>trnUDirB</td>
      <td>trnUDirC</td>
      <td>trnUDirD</td>
      <td>trnUDirE</td>
      <td>trnUDirF</td>
      <td>trnUDirG</td>
      <td>trnUIndA</td>
      <td>trnUIndB</td>
      <td>trnUIndC</td>
      <td>trnUIndD</td>
      <td>trnUIndE</td>
      <td>trnUIndF</td>
      <td>trnUIndG</td>
    </tr>
    <!-- Potential                                                                                                                                                                                                                                                                                     |  Actual                                                                                                                                                                                                                                                                                         -->
    <!--  Total       Direct     Indirect       A           B           C           D           E           F           G        Direct/A    Direct/B    Direct/C    Direct/D    Direct/E    Direct/F    Direct/G   Indirect/A  Indirect/B  Indirect/C  Indirect/D  Indirect/E  Indirect/F  Indirect/G |   Total       Direct     Indirect       A           B           C           D           E           F           G        Direct/A    Direct/B    Direct/C    Direct/D    Direct/E    Direct/F    Direct/G   Indirect/A  Indirect/B  Indirect/C  Indirect/D  Indirect/E  Indirect/F  Indirect/G  -->
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>4</td>  <td>4</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>4</td>  <td>4</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>2</td>  <td>0</td>  <td>1</td>  <td>1</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>   <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace in chain reaction</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this scenario, tracing all contacts is 100% successful.  Trace out goes
    1 step forward, but trace in follows as many steps back as it can.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_in_chain_reaction</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    with clinical signs lasts 1 day, and immunity lasts 3 days.

    The movement rate is 1 shipment per day, always going from left to right.
    Latent units cannot be the source of an exposure.  The probability of
    infection given exposure is 1.

    The probability of detecting a diseased unit of production type "C" (the
    one in the middle) vs. the number of days it has been showing clinical
    signs is fixed at 1.  No parameters are set for detecting units of other
    production types.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    Tracing direct contacts is 100% successful.  Units found by trace out are
    destroyed.  Units found by trace in are treated just like detections, so
    they are destroyed, but they also trigger more traces.  In this way, trace
    in goes as many steps backward as it can.

    There is no vaccination.

    What should happen:
     - On day 1 the two units of type "A" on the left will be Latent.
     - On day 2 the "A" units will be Infectious Subclinical.  They will ship
       to and infect the two "B" units.  Because of the 1-day latent period,
       the infection will keep moving to the right every 2 days.
     - On day 6 the "C" unit will be detected.  It will be slated for
       destruction.  A trace out and trace in will be attempted.  Trace out
       will find the "D" and "E" units.  Trace in will find the "B" units and,
       through further traces, the "A" units.  The units found by tracing will
       be slated for destruction.
     - On day 7 the seven units will be destroyed.  (Their state will show as
       Destroyed on day 8.)
  </parameter-description>

  <output>
    <!--    A           A           B           B           C           D           E           F           G       -->
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>S</td>  <td>S</td></tr>
    <!-- No more infectious units, simulation stops. -->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace in chain reaction 2</short-name>

  <description>
    This is part of a group of scenarios that check combinations of tracing out
    and in.  These scenarios all use a herd file in which infection moves
    across the units from left to right.

    In this scenario, tracing all contacts is 100% successful.  Trace out goes
    1 step forward, but trace in follows as many steps back as it can.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>5 September 2007</creation-date>
  <model-version>3.2</model-version>

  <population-file>9units</population-file>

  <parameter-file>trace_line_in_chain_reaction2</parameter-file>

  <parameter-description>
    For all production types, the latent period lasts 1 day, infectiousness
    with clinical signs lasts 1 day, and immunity lasts 3 days.

    The movement rate is 1 shipment per day, always going from left to right.
    Latent units cannot be the source of an exposure.  The probability of
    infection given exposure is 1.

    The probability of detecting a diseased unit of production type "F" (the
    one at the far right) vs. the number of days it has been showing clinical
    signs is fixed at 1.  No parameters are set for detecting units of other
    production types.
    
    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    Tracing direct contacts is 100% successful.  Units found by trace out are
    destroyed.  Units found by trace in are treated just like detections, so
    they are destroyed, but they also trigger more traces.  In this way, trace
    in goes as many steps backward as it can.

    There is no vaccination.

    What should happen:
     - On day 1 the two units of type "A" on the left will be Latent.
     - On day 2 the "A" units will be Infectious Subclinical.  They will ship
       to and infect the two "B" units.  Because of the 1-day latent period,
       the infection will keep moving to the right every 2 days.
     - On day 10 the "F" unit will be detected.  It will be slated for
       destruction.  A trace out and trace in will be attempted.  Trace out
       will find nothing, because the "F" unit has not shipped to anyone.
       Trace in will trace all the way back to the "A" units.  The only unit
       that will &lt;i&gt;not&lt;/i&gt; be slated for destruction is "G",
       because the trace out from "C" only goes one step forward.  (Remember
       that trace ins are treated like detections, so when "C" is found by
       trace in, that will trigger a trace &lt;i&gt;out&lt;/i&gt; from it.)
     - On day 11 the eight units will be destroyed.  (Their state will show as
       Destroyed on day 12.)
  </parameter-description>

  <output>
    <!--    A           A           B           B           C           D           E           F           G       -->
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>N</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>N</td>  <td>C</td>  <td>C</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>L</td>  <td>L</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>C</td>  <td>C</td></tr>
    <tr><td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>S</td>  <td>N</td>  <td>N</td>  <td>N</td>  <td>N</td></tr>
    <tr><td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>D</td>  <td>N</td></tr>
    <!-- No more infectious units and nothing to do, simulation stops. -->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace success depends on source of trace 1</short-name>

  <description>
    This is one of a group of scenarios to test that tracing success depends on
    the type of unit at which the trace originates.  Each scenario has two
    units, 0 and 1 (of different production types), a single contact from 0 to
    1, and tracing both in and out.  Whether the trace finds the other end of
    the contact should depend on the trace success settings for the unit at
    which the trace originates.

    In this scenario, trace success is high for unit 0, low for unit 1.  Unit 0
    is detected, so trace out should succeed and unit 1 should be destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>trace_depends_on_source_1</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The movement rate from cattle units (unit 0) to pig units (unit 1) is fixed
    at 1 shipment per day.  The distance of shipments is fixed at 10 km.

    Only cattle units are detected.  The probability of detection vs. the
    number of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The probability of success for a trace-out or trace-in investigation
    originating at a cattle unit is 0.55.  At a pig unit, it is 0.45.  The
    authorities will destroy units found by trace-out or trace-in.

    What should happen:
     - On day 1 both units will be Latent.
     - On day 2 both units will be Infectious Clinical.  Unit 0 will ship to
       unit 1.  Unit 0 will be detected and marked for destruction.  A trace
       out from unit 0 will find unit 1, so unit 1 will also be marked for
       destruction.
     - On day 3 both units will be destroyed.  Their state will appear as
       Destroyed on day 4.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace success depends on source of trace 2</short-name>

  <description>
    This is one of a group of scenarios to test that tracing success depends on
    the type of unit at which the trace originates.  Each scenario has two
    units, 0 and 1 (of different production types), a single contact from 0 to
    1, and tracing both in and out.  Whether the trace finds the other end of
    the contact should depend on the trace success settings for the unit at
    which the trace originates.

    In this scenario, trace success is high for unit 0, low for unit 1.  Unit 1
    is detected, so trace in should fail and unit 0 should not be destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>trace_depends_on_source_2</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The movement rate from cattle units (unit 0) to pig units (unit 1) is fixed
    at 1 shipment per day.  The distance of shipments is fixed at 10 km.

    Only pig units are detected.  The probability of detection vs. the number
    of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The probability of success for a trace-out or trace-in investigation
    originating at a cattle unit is 0.55.  At a pig unit, it is 0.45.  The
    authorities will destroy units found by trace-out or trace-in.

    What should happen:
     - On day 1 both units will be Latent.
     - On day 2 both units will be Infectious Clinical.  Unit 0 will ship to
       unit 1.  Unit 1 will be detected and marked for destruction.  A trace
       in from unit 1 will fail to find unit 0, so unit 0 will not be marked
       for destruction.
     - On day 3 unit 1 will be destroyed.  Its state will appear as Destroyed
       on day 4.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace success depends on source of trace 3</short-name>

  <description>
    This is one of a group of scenarios to test that tracing success depends on
    the type of unit at which the trace originates.  Each scenario has two
    units, 0 and 1 (of different production types), a single contact from 0 to
    1, and tracing both in and out.  Whether the trace finds the other end of
    the contact should depend on the trace success settings for the unit at
    which the trace originates.

    In this scenario, trace success is low for unit 0, high for unit 1.  Unit 0
    is detected, so trace out should fail and unit 1 should not be destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>trace_depends_on_source_3</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The movement rate from cattle units (unit 0) to pig units (unit 1) is fixed
    at 1 shipment per day.  The distance of shipments is fixed at 10 km.

    Only cattle units are detected.  The probability of detection vs. the
    number of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The probability of success for a trace-out or trace-in investigation
    originating at a cattle unit is 0.45.  At a pig unit, it is 0.55.  The
    authorities will destroy units found by trace-out or trace-in.

    What should happen:
     - On day 1 both units will be Latent.
     - On day 2 both units will be Infectious Clinical.  Unit 0 will ship to
       unit 1.  Unit 0 will be detected and marked for destruction.  A trace
       out from unit 0 will fail to find unit 1, so unit 1 will not be marked
       for destruction.
     - On day 3 unit 0 will be destroyed.  Its state will appear as Destroyed
       on day 4.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>NaturallyImmune</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace success depends on source of trace 4</short-name>

  <description>
    This is one of a group of scenarios to test that tracing success depends on
    the type of unit at which the trace originates.  Each scenario has two
    units, 0 and 1 (of different production types), a single contact from 0 to
    1, and tracing both in and out.  Whether the trace finds the other end of
    the contact should depend on the trace success settings for the unit at
    which the trace originates.

    In this scenario, trace success is low for unit 0, high for unit 1.  Unit 1
    is detected, so trace in should succeed and unit 1 should be destroyed.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>trace_depends_on_source_4</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The movement rate from cattle units (unit 0) to pig units (unit 1) is fixed
    at 1 shipment per day.  The distance of shipments is fixed at 10 km.

    Only pig units are detected.  The probability of detection vs. the number
    of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The probability of success for a trace-out or trace-in investigation
    originating at a cattle unit is 0.45.  At a pig unit, it is 0.55.  The
    authorities will destroy units found by trace-out or trace-in.

    What should happen:
     - On day 1 both units will be Latent.
     - On day 2 both units will be Infectious Clinical.  Unit 0 will ship to
       unit 1.  Unit 1 will be detected and marked for destruction.  A trace
       in from unit 1 will find unit 0, so unit 0 will also be marked for
       destruction.
     - On day 3 both units will be destroyed.  Their state will appear as
       Destroyed on day 4.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace in forms a loop</short-name>

  <description>
    This test checks that trace-in doesn't go endlessly when the pattern of
    contacts forms a loop.

    In this scenario, there are 3 units.  Unit 0 ships to 1, 1 ships to 2, and
    2 ships to 0, forming a loop.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>8 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_all_infected</population-file>

  <parameter-file>trace_in_loop</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, infectiousness lasts 1 day, clinical signs
    accompany infectiousness immediately, and immunity lasts 3 days.

    The movement rate from cattle units to pig units, from pig units to sheep
    units, and from sheep units to cattle units is fixed at 1 shipment per day.
    The distance of shipments is fixed at 10 km.

    Only cattle units are detected.  The probability of detection vs. the
    number of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The authorities do trace in only.  The probability of success for a
    trace-in investigation is 1.  Units found by trace in are treated just like
    detections, so they are destroyed, but they also trigger more traces.  In
    this way, trace in goes as many steps backward as it can.

    What should happen:
     - On day 1 all three units will be Latent.
     - On day 2 all three units will be Infectious Clinical.  Unit 0 will ship
       to unit 1, unit 1 to unit 2, and unit 2 to unit 0.  Unit 0 will be
       detected and marked for destruction.  A trace in from unit 0 will find
       unit 2, so unit 2 will also be marked for destruction.  A trace in from
       unit 2 will find unit 1, so unit 1 will be marked for destruction.  A
       trace in from unit 1 will find unit 0, resulting in unit 1 being marked
       for destruction again.  The chain of tracing-in should stop there.
     - On day 3 all units will be destroyed.  Their state will appear as
       Destroyed on day 4.
  </parameter-description>

  <diagram>3units_cycle</diagram>

  <output>
    <tr><td>Latent</td>              <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace results delayed, 0 day delay</short-name>

  <description>
    This is one of a group of scenarios to test delays in getting trace
    results.  In this scenario, there is no delay: the trace finds the
    recipient unit immediately.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>9 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_results_delayed_0</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, infectiousness lasts 1 day,
    clinical signs accompany infectiousness immediately, and immunity lasts 3
    days.  For pigs, the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 1 day,
    and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment per
    day.  The distance of shipments is fixed at 10 km.  There is no movement in
    the other direction.

    Only pig units are detected.  The probability of detection vs. the number
    of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The authorities do trace out only.  The probability of success for a
    trace-out investigation is 1, and there is no delay for getting trace
    results.  Units found by trace are destroyed.

    What should happen:
     - On day 1 the pig unit (unit 1) will be Latent.
     - On day 2 unit 1 will be Infectious Subclinical.  It will ship to and
       infect unit 0.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       marked for destruction.  A trace out from unit 1 will find unit 0, so
       unit 0 will also be marked for destruction.
     - On day 4 both units will be destroyed.  Their state will appear as
       Destroyed on day 5.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousSubclinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace results delayed, 1 day delay</short-name>

  <description>
    This is one of a group of scenarios to test delays in getting trace
    results.  In this scenario, there is a 1-day delay to find the recipient
    unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>9 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_results_delayed_1</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, infectiousness lasts 1 day,
    clinical signs accompany infectiousness immediately, and immunity lasts 3
    days.  For pigs, the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 1 day,
    and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment per
    day.  The distance of shipments is fixed at 10 km.  There is no movement in
    the other direction.

    Only pig units are detected.  The probability of detection vs. the number
    of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The authorities do trace out only.  The probability of success for a
    trace-out investigation is 1, and there is a 1-day delay for getting trace
    results.  Units found by trace are destroyed.

    What should happen:
     - On day 1 the pig unit (unit 1) will be Latent.
     - On day 2 unit 1 will be Infectious Subclinical.  It will ship to and
       infect unit 0.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       marked for destruction.  A trace out will be requested from unit 1.
     - On day 4 unit 1 will be destroyed.  (Its state will appear as Destroyed
       on day 5.)  The trace requested on day 3 will find unit 0, so unit 0
       will be marked for destruction.
     - On day 5 unit 0 will be destroyed.  Its state will appear as Destroyed
       on day 6.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousSubclinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace results delayed, 2 day delay</short-name>

  <description>
    This is one of a group of scenarios to test delays in getting trace
    results.  In this scenario, there is a 2-day delay to find the recipient
    unit.

    Note that in this test, on the day the trace results are ready, the unit
    where the trace originated is already Destroyed.  This does not affect the
    trace at all.  The process of tracing with delays can be visualized as:
    you take away the box of records on the day the trace is requested, but it
    takes a certain number of days to go through it.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>9 January 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_out_results_delayed_2</parameter-file>

  <parameter-description>
    For cattle, the latent period lasts 1 day, infectiousness lasts 1 day,
    clinical signs accompany infectiousness immediately, and immunity lasts 3
    days.  For pigs, the latent period lasts 1 day, infectiousness without
    clinical signs lasts 1 day, infectiousness with clinical signs lasts 1 day,
    and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment per
    day.  The distance of shipments is fixed at 10 km.  There is no movement in
    the other direction.

    Only pig units are detected.  The probability of detection vs. the number
    of days a unit has been showing clinical signs is fixed at 1.  The
    probability of detection vs. the number of days since a public announcement
    of an outbreak is also fixed at 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    The authorities do trace out only.  The probability of success for a
    trace-out investigation is 1, and there is a 2-day delay for getting trace
    results.  Units found by trace are destroyed.

    What should happen:
     - On day 1 the pig unit (unit 1) will be Latent.
     - On day 2 unit 1 will be Infectious Subclinical.  It will ship to and
       infect unit 0.
     - On day 3 unit 1 will be Infectious Clinical.  It will be detected and
       marked for destruction.  A trace out will be requested from unit 1.
     - On day 4 unit 1 will be destroyed.  (Its state will appear as Destroyed
       on day 5.)
     - On day 5 the trace requested on day 3 will find unit 0, so unit 0 will
       be marked for destruction.
     - On day 6 unit 0 will be destroyed.  Its state will appear as Destroyed
       on day 7.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousSubclinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>NaturallyImmune</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 1a</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 1 ships to unit 0.  Unit 1 gets detected.
    Unit 0 is infectious clinical when trace out from unit 1 is initiated, and
    still infectious clinical when it is found.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>1 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_rfc_example_1a</parameter-file>

  <parameter-description>
    For both production types, the latent period lasts 1 day, the infectious
    clinical period lasts 4 days, and immunity lasts 4 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    For unit 1 (a pig unit), the probability of detection is 0 on the first and
    second days showing clinical signs, and 1 on following days.  In this set
    of scenarios, this parameter is used to control when trace is initiated.

    For unit 0 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    examined (like regular detection, but with 2x the probability of
    detection) and tested for disease.  The test sensitivity and specificity
    are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 unit 1 will be Latent.
     - On day 2 unit 1 will be Infectious Clinical.  It will ship to and
       infect unit 0.
     - On day 4 unit 0 will be Infectious Clinical.  It will not be detected,
       because the base probability of detection is too low.  However, unit 1
       will be detected on this day.  It will be slated for destruction and a
       trace out will be initiated.
     - On day 5 unit 1 will be destroyed (its state will show as destroyed on
       day 6).
     - On day 6 unit 0 will be found by tracing (2 days after the trace was
       initiated).  A visual inspection by experts, with its increased
       probability of detection, will show that unit 0 is diseased.  Unit 0
       will be slated for destruction.
     - On day 7 unit 0 will be destroyed.  Its state will show as destroyed on
       day 8.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 1b</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 1 ships to unit 0.  Unit 1 gets detected.
    Unit 0 is infectious clinical when trace out from unit 1 is initiated, and
    still infectious clinical when it is found.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>1 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_rfc_example_1b</parameter-file>

  <parameter-description>
    For both production types, the latent period lasts 1 day, the infectious
    clinical period lasts 4 days, and immunity lasts 4 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    For unit 1 (a pig unit), the probability of detection is 0 on the first and
    second days showing clinical signs, and 1 on following days.  In this set
    of scenarios, this parameter is used to control when trace is initiated.

    For unit 0 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    inspected (identical to regular detection) and tested for disease.  The
    test sensitivity and specificity are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 unit 1 will be Latent.
     - On day 2 unit 1 will be Infectious Clinical.  It will ship to and
       infect unit 0.
     - On day 4 unit 0 will be Infectious Clinical.  It will not be detected,
       because the base probability of detection is too low.  However, unit 1
       will be detected on this day.  It will be slated for destruction and a
       trace out will be initiated.
     - On day 5 unit 1 will be destroyed (its state will show as destroyed on
       day 6).
     - On day 6 unit 0 will be found by tracing (2 days after the trace was
       initiated).  A visual inspection will fail to show that unit 0 is
       diseased.  Samples will be taken for testing.
     - On day 8 unit 0 will be Naturally Immune.  The test results will be
       available and will show that unit 0 was diseased at the time the test
       samples were taken.  Unit 0 will be slated for destruction. 
     - On day 9 unit 0 will be destroyed.  Its state will show as destroyed on
       day 10.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 2</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 1 ships to unit 0.  Unit 1 gets detected.
    Unit 0 is infectious clinical when trace out from unit 1 is initiated, but
    recovered when it is found.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>1 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_rfc_example_2</parameter-file>

  <parameter-description>
    For both production types, the latent period lasts 1 day, the infectious
    clinical period lasts 4 days, and immunity lasts 4 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    For unit 1 (a pig unit), the probability of detection is 0 on the first and
    second days showing clinical signs, and 1 on following days.  In this set
    of scenarios, this parameter is used to control when trace is initiated.

    For unit 0 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    examined (like regular detection, but with 2x the probability of
    detection) and tested for disease.  The test sensitivity and specificity
    are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 unit 1 will be Latent.
     - On day 2 unit 1 will be Infectious Clinical.  It will ship to and
       infect unit 0.
     - On day 4 unit 0 will be Infectious Clinical.  It will not be detected,
       because the base probability of detection is too low.  However, unit 1
       will be detected on this day.  It will be slated for destruction and a
       trace out will be initiated.
     - On day 5 unit 1 will be destroyed (its state will show as destroyed on
       day 6).
     - On day 8 unit 0 will be Naturally Immune.  Unit 0 will be found by
       tracing (4 days after the trace was initiated).  A visual inspection by
       experts has a high enough probability to detect signs of disease, but
       because the unit has recovered, there will be no signs.  Samples will be
       taken for testing.
     - On day 10 the test results will be available and will show that unit 0
       still had antibodies at the time the test samples were taken.  Unit 0
       will be slated for destruction. 
     - On day 11 unit 0 will be destroyed.  Its state will show as destroyed on
       day 12.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 3</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 1 ships to unit 0.  Unit 1 gets detected.
    Unit 0 is subclinical when trace out from unit 1 is initiated, and
    infectious clinical when it is found.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_rfc_example_3</parameter-file>

  <parameter-description>
    For unit 1 (a pig unit), the latent period lasts 1 day, the infectious
    clinical period lasts 4 days, and immunity lasts 4 days.  For unit 0 (a
    cattle unit), the latent period lasts 1 day, the infectious subclinical
    period lasts 1 day, the infectious clinical period lasts 3 days, and
    immunity lasts 4 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    For unit 1 (a pig unit), the probability of detection is 0 on the first and
    second days showing clinical signs, and 1 on following days.  In this set
    of scenarios, this parameter is used to control when trace is initiated.

    For unit 0 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    examined (like regular detection, but with 2x the probability of
    detection) and tested for disease.  The test sensitivity and specificity
    are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 unit 1 will be Latent.
     - On day 2 unit 1 will be Infectious Clinical.  It will ship to and
       infect unit 0.
     - On day 4 unit 0 will be Infectious Subclinical.  Unit 1 will be detected
       on this day.  It will be slated for destruction and a trace out will be
       initiated.
     - On day 5 unit 1 will be destroyed (its state will show as destroyed on
       day 6).
     - On day 6 unit 0 will be found by tracing (2 days after the trace was
       initiated).  A visual inspection by experts, with its increased
       probability of detection, will show that unit 0 is diseased.  Unit 0
       will be slated for destruction.
     - On day 7 unit 0 will be destroyed.  Its state will show as destroyed on
       day 8.
  </parameter-description>

  <output>
    <tr><td>Susceptible</td>            <td>Latent</td></tr>
    <tr><td>Susceptible</td>            <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>                 <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousSubclinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>     <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>     <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>     <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>              <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 4</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 1 ships to unit 0.  Unit 1 gets detected.
    Unit 0 is subclinical when trace out from unit 1 is initiated, and still
    subclinical when it is found.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_pigs_infected</population-file>

  <parameter-file>trace_rfc_example_4</parameter-file>

  <parameter-description>
    For unit 1 (a pig unit), the latent period lasts 1 day, the infectious
    clinical period lasts 4 days, and immunity lasts 4 days.  For unit 0 (a
    cattle unit), the latent period lasts 1 day, the infectious subclinical
    period lasts 3 days, the infectious clinical period lasts 1 day, and
    immunity lasts 4 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    For unit 1 (a pig unit), the probability of detection is 0 on the first and
    second days showing clinical signs, and 1 on following days.  In this set
    of scenarios, this parameter is used to control when trace is initiated.

    For unit 0 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    examined (like regular detection, but with 2x the probability of
    detection) and tested for disease.  The test sensitivity and specificity
    are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 unit 1 will be Latent.
     - On day 2 unit 1 will be Infectious Clinical.  It will ship to and
       infect unit 0.
     - On day 4 unit 0 will be Infectious Subclinical.  Unit 1 will be detected
       on this day.  It will be slated for destruction and a trace out will be
       initiated.
     - On day 5 unit 1 will be destroyed (its state will show as destroyed on
       day 6).
     - On day 6 unit 0 will be found by tracing (2 days after the trace was
       initiated).  A visual inspection by experts has a high enough
       probability to detect signs of disease, but because the unit is still
       subclinical, there will be no signs.  Samples will be taken for testing.
     - On day 8 the test results will be available and will show that unit 0
       was diseased at the time the test samples were taken.  Unit 0 will be
       slated for destruction. 
     - On day 9 unit 0 will be destroyed.  Its state will show as destroyed on
       day 10.
   </parameter-description>

  <output>
    <tr><td>Susceptible</td>            <td>Latent</td></tr>
    <tr><td>Susceptible</td>            <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>                 <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousSubclinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousSubclinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousSubclinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>     <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>        <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>        <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>              <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 5</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 2 ships to unit 1.  Unit 2 gets detected.
    Unit 1 is uninfected when trace out from unit 2 is initiated, still
    uninfected when it is found and tested, but becomes infected (by airborne
    spread from a third farm) while the test results are pending.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_rfc_example_5</parameter-file>

  <parameter-description>
    For units 1 and 2 (the units involved in shipping), the latent period lasts
    1 day, the infectious clinical period lasts 3 days, and immunity lasts 3
    days.  For unit 0 (the unit that brings in airborne spread later in the
    scenario), the latent period lasts 5 days, the infectious clinical period
    lasts 3 days, and immunity lasts 3 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    The probability of airborne spread from sheep units to cattle units is
    0.9595 at 1 km, and drops to 0 at 20 km.  This parameter gives a 0.505
    probability of infection at 10 km, just sufficient for the sheep unit (unit
    2) to infect the cattle unit (unit 1).

    For unit 2 (a pig unit), the probability of detection is 0 on the first day
    showing clinical signs, and 1 on following days.  In this set of scenarios,
    this parameter is used to control when trace is initiated.
    
    For unit 1 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.
    
    There is no detection of sheep units.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    examined (like regular detection, but with 2x the probability of
    detection) and tested for disease.  Test results take 2 days.  The test
    sensitivity and specificity are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units 0 and 2 will be Latent.
     - On day 2 unit 2 will be Infectious Clinical.  It will ship to unit 1 but
       will not infect it.
     - On day 3 unit 2 will be detected.  It will be slated for destruction and
       a trace out will be initiated.
     - On day 4 unit 2 will be destroyed (its state will show as destroyed on
       day 5).
     - On day 5 unit 0 will be found by tracing (2 days after the trace was
       initiated).  A visual inspection by experts has a high enough
       probability to detect signs of disease, but because the unit is still
       uninfected, there will be no signs.  Samples will be taken for testing.
     - On day 6 unit 0 will be Infectious Clinical.  It will infect unit 1 by
       airborne spread.
     - On day 7 unit 1 will be Latent.  The test results for unit 1 will be
       available and will show that unit 1 was not diseased at the time the
       test samples were taken.  No action will be taken on unit 1.
       slated for destruction.  Units 0 and 1 will eventually recover.
   </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Susceptible</td>         <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
    <tr><td>NaturallyImmune</td>     <td>NaturallyImmune</td>     <td>Destroyed</td></tr>
    <!-- No more infectious units, simulation stops. -->
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 6</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 2 ships to unit 1.  Unit 2 gets detected.
    Unit 1 is latent when trace out from unit 2 is initiated, latent when it is
    found and tested, but gets destroyed (due to being in a destruction ring
    around a third farm) while the test results are pending.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_rfc_example_6</parameter-file>

  <parameter-description>
    For unit 2 (the unit that ships), the latent period lasts 1 day, the
    infectious clinical period lasts 4 days, and immunity lasts 4 days.  For
    unit 1 (the unit that receives the shipment), the latent period lasts 1
    day, the infectious subclinical period lasts 4 days, the infectious
    clinical period lasts 1 day, and immunity lasts 4 days.  For unit 0 (the
    unit that causes the destruction ring later in the scenario), the latent
    period lasts 5 days, the infectious clinical period lasts 4 days, and
    immunity lasts 4 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    For unit 2 (a pig unit), the probability of detection is 0 on the first day
    showing clinical signs, and 1 on following days.  In this set of scenarios,
    this parameter is used to control when trace is initiated.
    
    For unit 1 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.
    
    There is no detection of sheep units.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    examined (like regular detection, but with 2x the probability of
    detection) and tested for disease.  Test results take 3 days.  The test
    sensitivity and specificity are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units 0 and 2 will be Latent.
     - On day 2 unit 2 will be Infectious Clinical.  It will ship to and infect
       unit 1.
     - On day 3 unit 2 will be detected.  It will be slated for destruction and
       a trace out will be initiated.
     - On day 4 unit 2 will be destroyed (its state will show as destroyed on
       day 5).
     - On day 5 unit 1 will be found by tracing (2 days after the trace was
       initiated).  A visual inspection by experts has a high enough
       probability to detect signs of disease, but because the unit is still
       subclinical, there will be no signs.  Samples will be taken for testing.
     - On day 6, unit 0 will be Infectious Clinical, and will be detected.
       Unit 0 and all other units within 12 km will be slated for destruction.
     - On day 7 units 0 and 1 will be destroyed (their state will show as
       destroyed on day 8).
     - On day 8 the test results for unit 1 will be available and will show
       that unit 1 was diseased at the time the test samples were taken.  Unit
       1 will be considered "detected", even though it has already been
       destroyed.  See the following test, which watches the 
       output variable, for confirmation of this.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>            <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>            <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>Latent</td>                 <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Latent</td>              <td>InfectiousSubclinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Destroyed</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>              <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>              <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace RFC example 6, check reporting variables</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 2 ships to unit 1.  Unit 2 gets detected.
    Unit 1 is latent when trace out from unit 2 is initiated, latent when it is
    found and tested, but gets destroyed (due to being in a destruction ring
    around a third farm) while the test results are pending.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_rfc_example_6_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "trace RFC example 6" above.

    The number of units detected should be 1 on day 3, when unit 2 is detected,
    1 on day 6, when unit 0 is detected, and 1 on day 8, when the destroyed
    unit is detected (this "detection" happens because test results, based on
    samples taken before the unit was destroyed, become available).
    
    With each detection, a trace out is initiated.  The 2 contacts from unit 2
    to unit 1 (one contact each on days 2 and 3) will show as traced on day 5
    (the day the trace results become available, 2 days after the trace was
    initiated on day 3).  Units 0 and 1 are detected on days 6 and 8,
    respectively, but since they had no outgoing contacts, there are no
    potential recipient farms to trace.
   </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>trnUp</td>
      <td>trnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>2</td>  <td>2</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>1</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>trace RFC example 7</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 2 ships to unit 1.  Unit 2 gets detected.
    Unit 1 is latent when trace out from unit 2 is initiated, but gets
    destroyed (due to being in a destruction ring around a third farm) before
    it is found by the trace.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_rfc_example_7</parameter-file>

  <parameter-description>
    For unit 2 (the unit that ships), the latent period lasts 1 day, the
    infectious clinical period lasts 4 days, and immunity lasts 4 days.  For
    unit 1 (the unit that receives the shipment), the latent period lasts 1
    day, the infectious clinical period lasts 4 days, and immunity lasts 4
    days.  For unit 0 (the unit that causes the destruction ring later in the
    scenario), the latent period lasts 2 days, the infectious clinical period
    lasts 4 days, and immunity lasts 4 days.

    The movement rate from pig units to cattle units is fixed at 1 shipment
    each day.  There is no movement in the other direction.  Latent units
    cannot be the source of an infection.

    For unit 2 (a pig unit), the probability of detection is 0 on the first day
    showing clinical signs, and 1 on following days.  In this set of scenarios,
    this parameter is used to control when trace is initiated.
    
    For unit 1 (a cattle unit), the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.
    
    There is no detection of sheep units.

    When a unit is detected, trace out will be initiated.  The probability of
    success for a trace investigation is 1, and there is a 2-day delay for
    finding recipient units.  Units found by trace are quarantined, visually
    examined (like regular detection, but with 2x the probability of
    detection) and tested for disease.  Test results take 3 days.  The test
    sensitivity and specificity are both 1.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units 0 and 2 will be Latent.
     - On day 2 unit 2 will be Infectious Clinical.  It will ship to and infect
       unit 1.
     - On day 3 units 0 and 2 will be detected.  They will be slated for
       destruction and a trace out will be initiated.  Unit 1 will also be
       slated for destruction because it is within 12 km of unit 0.
     - On day 4 units 0, 1 and 2 will be destroyed (their state will show as
       destroyed on day 5).
     - On day 5 unit 1 will be found by tracing (2 days after the trace was
       initiated).  However, the unit is already destroyed, so there is no
       possibility of detecting signs that it was once diseased, or of doing
       further traces.
  </parameter-description>

  <output>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>Latent</td></tr>
    <tr><td>Latent</td>              <td>Susceptible</td>         <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Latent</td>              <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>trace RFC example 7, check reporting variables</short-name>

  <description>
    This is one of a set of tests covering the examples in the new tracing
    RFC.  In this scenario, unit 2 ships to unit 1.  Unit 2 gets detected.
    Unit 1 is latent when trace out from unit 2 is initiated, but gets
    destroyed (due to being in a destruction ring around a third farm) before
    it is found by the trace.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>2 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>3units_pigs_cattle_sheep_pigs_sheep_infected</population-file>

  <parameter-file>trace_rfc_example_7_w_vars</parameter-file>

  <parameter-description>
    Parameters: see "trace RFC example 7" above.

    There should be 2 units detected on day 3.  Note that in "trace RFC example
    6" above, we attempted a trace out from a Destroyed unit (unit 1).  That
    was because we took test samples from the unit before it was destroyed, and
    discovered later that the unit had been diseased.  Therefore, it was worth
    tracing who had had contact with that unit.  In this example, the unit is
    destroyed before we could take test samples, so no further traces can be
    triggered.
   </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>trnUp</td>
      <td>trnU</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>2</td>  <td>2</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace direct in detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_direct_in</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing &lt;i&gt;in&lt;/i&gt; a &lt;i&gt;direct&lt;/i&gt;
    contact, the probability of detecting disease during the visual inspection
    is 2x the regular probability of detection.  When a unit was found by any
    other kind of trace, the probability of detection is the same as regular
    detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       unit found by trace &lt;i&gt;in&lt;/i&gt; of &lt;i&gt;direct&lt;/i&gt;
       contacts will be detected as diseased (the detection multipliers for the
       other kinds of traces are too low).  Unit A will be slated for
       destruction.
     - On day 7 units C and A will be destroyed.  Their state will show as
       destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>Destroyed</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace indirect in detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_indirect_in</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing &lt;i&gt;in&lt;/i&gt; an &lt;i&gt;indirect&lt;/i&gt;
    contact, the probability of detecting disease during the visual inspection
    is 2x the regular probability of detection.  When a unit was found by any
    other kind of trace, the probability of detection is the same as regular
    detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       unit found by trace &lt;i&gt;in&lt;/i&gt; of &lt;i&gt;indirect&lt;/i&gt;
       contacts will be detected as diseased (the detection multipliers for the
       other kinds of traces are too low).  Unit B will be slated for
       destruction.
     - On day 7 units C and B will be destroyed.  Their state will show as
       destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td>           <td>Destroyed</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace direct out detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_direct_out</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing &lt;i&gt;out&lt;/i&gt; a &lt;i&gt;direct&lt;/i&gt;
    contact, the probability of detecting disease during the visual inspection
    is 2x the regular probability of detection.  When a unit was found by any
    other kind of trace, the probability of detection is the same as regular
    detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       unit found by trace &lt;i&gt;out&lt;/i&gt; of &lt;i&gt;direct&lt;/i&gt;
       contacts will be detected as diseased (the detection multipliers for the
       other kinds of traces are too low).  Unit D1 will be slated for
       destruction.
     - On day 7 units C and D1 will be destroyed.  Their state will show as
       destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Destroyed</td>              <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace indirect out detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_indirect_out</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing &lt;i&gt;out&lt;/i&gt; an &lt;i&gt;indirect&lt;/i&gt;
    contact, the probability of detecting disease during the visual inspection
    is 2x the regular probability of detection.  When a unit was found by any
    other kind of trace, the probability of detection is the same as regular
    detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       unit found by trace &lt;i&gt;out&lt;/i&gt; of &lt;i&gt;indirect&lt;/i&gt;
       contacts will be detected as diseased (the detection multipliers for the
       other kinds of traces are too low).  Unit D2 will be slated for
       destruction.
     - On day 7 units C and D2 will be destroyed.  Their state will show as
       destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Destroyed</td>              <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace direct detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_direct</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing a &lt;i&gt;direct&lt;/i&gt; contact, the
    probability of detecting disease during the visual inspection is 2x the
    regular probability of detection.  When a unit was found by any other kind
    of trace, the probability of detection is the same as regular detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       units found by trace of &lt;i&gt;direct&lt;/i&gt; contacts will be
       detected as diseased (the detection multipliers for the other kinds of
       traces are too low).  Units A and D1 will be slated for destruction.
     - On day 7 units C, A, and D1 will be destroyed.  Their state will show as
       destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>InfectiousClinical</td>  <td>Destroyed</td>              <td>Destroyed</td>           <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace indirect detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_indirect</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing an &lt;i&gt;indirect&lt;/i&gt; contact, the
    probability of detecting disease during the visual inspection is 2x the
    regular probability of detection.  When a unit was found by any other kind
    of trace, the probability of detection is the same as regular detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       units found by trace of &lt;i&gt;indirect&lt;/i&gt; contacts will be
       detected as diseased (the detection multipliers for the other kinds of
       traces are too low).  Units B and D2 will be slated for destruction.
     - On day 7 units C, B, and D2 will be destroyed.  Their state will show as
       destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>Destroyed</td>           <td>Destroyed</td>              <td>InfectiousClinical</td>  <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace in detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_in</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing &lt;i&gt;in&lt;/i&gt; a contact, the
    probability of detecting disease during the visual inspection is 2x the
    regular probability of detection.  When a unit was found by any other kind
    of trace, the probability of detection is the same as regular detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       units found by trace &lt;i&gt;in&lt;/i&gt; will be detected as diseased
       (the detection multipliers for the other kinds of traces are too low).
       Units A and B will be slated for destruction.
     - On day 7 units C, A, and B will be destroyed.  Their state will show as
       destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>Destroyed</td>           <td>Destroyed</td>           <td>Destroyed</td>              <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only units found by trace out detected</short-name>

  <description>
    A unit that is found by a trace investigation may be visually examined for
    signs of disease.  This is one of a set of tests that check that the
    probability of detection in this situation can be set by what kind of trace
    (direct or indirect, in or out) found the unit.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>6 May 2008</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_detect_only_out</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed "random" numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from "regular"
    detection.

    When a unit is detected, direct and indirect contacts into and out of the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing &lt;i&gt;out&lt;/i&gt; a contact, the
    probability of detecting disease during the visual inspection is 2x the
    regular probability of detection.  When a unit was found by any other kind
    of trace, the probability of detection is the same as regular detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contacts with units A, B, D1, and D2.
       Those 4 units will be visually examined.  However, only the
       units found by trace &lt;i&gt;out&lt;/i&gt; will be detected as diseased
       (the detection multipliers for the other kinds of traces are too low).
       Units D1 and D2 will be slated for destruction.
     - On day 7 units C, D1, and D2 will be destroyed.  Their state will show
       as destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A                            B                             C                              D1                           D2 -->
    <tr><td>Latent</td>              <td>Latent</td>              <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Susceptible</td>            <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Latent</td>                 <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Susceptible</td>         <td>Susceptible</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousSubclinical</td>  <td>Latent</td>              <td>Latent</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>InfectiousClinical</td>     <td>InfectiousClinical</td>  <td>InfectiousClinical</td></tr>
    <tr><td>InfectiousClinical</td>  <td>InfectiousClinical</td>  <td>Destroyed</td>              <td>Destroyed</td>           <td>Destroyed</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only direct trace in requested</short-name>

  <description>
    This is one of a set of tests that check that traces can be selectively
    enabled by type of contact.
    This test failed in version 3.2.5 and was fixed in version 3.2.6.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>25 October 2010</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_enable_only_direct_in</parameter-file>

  <parameter-description>
    For unit C, the unit where the trace will originate, the latent period
    lasts 1 day, the infectious subclinical period lasts 2 days, the infectious
    clinical period lasts 5 days, and the immune period lasts 7 days.  For
    other production types, the latent period lasts 1 day, the infectious
    clinical period lasts 7 days, and immunity lasts 7 days.

    The contact rates are set up as follows (see also diagram below):
     - 1 direct contact per day from A units to C units
     - 1 indirect contact per day from B units to C units
     - 1 direct contact per day from C units to D units (distance 10 km)
     - 1 indirect contact per day from C units to D units (distance 12 km)

    Units of type C are detected on the first day showing clinical signs.  In
    this scenario, this parameter is used to control when trace is initiated.

    For other production types, the probability of detection is 1/3, which is
    always too low for detection when using fixed random numbers of 0.5.
    This parameter is set this way so that any detection we see will be the
    result of an exam as part of the trace investigation, not from regular
    detection.

    When a unit is detected, direct contacts into the
    unit will be traced.  The probability of success for all trace
    investigations is 1, and there is no delay for the trace investigations.
    Units found by trace are quarantined and visually examined.
    When a unit was found by tracing a contact, the
    probability of detecting disease during the visual inspection is 2x the
    regular probability of detection.

    The authorities can begin a destruction program immediately.  The
    authorities can destroy an unlimited/very large number of units each day.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contact with unit A.
       That unit will be examined, detected as diseased,
       and slated for destruction.
     - On day 7 units A and C will be destroyed.  Their state will show
       as destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A           B           C           D1          D2 -->
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>L</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>B</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>B</td>  <td>L</td>  <td>L</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>C</td>  <td>C</td>  <td>C</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>C</td>  <td>C</td>  <td>C</td></tr>
    <tr><td>D</td>  <td>C</td>  <td>D</td>  <td>C</td>  <td>C</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>only indirect trace in requested</short-name>

  <description>
    This is one of a set of tests that check that traces can be selectively
    enabled by type of contact.
    This test failed in version 3.2.5 and was fixed in version 3.2.6.
  </description>

  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>25 October 2010</creation-date>
  <model-version>3.2</model-version>

  <population-file>5units_2</population-file>

  <parameter-file>trace_enable_only_indirect_in</parameter-file>

  <parameter-description>
    The parameters are the same as for only direct trace in requested above,
    except this time when a unit is detected, indirect contacts into the unit
    will be traced.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical.  There will be a
       direct contact from unit A to unit C and an indirect contact from unit
       B to unit C.  Unit C will be infected.
     - On day 3 unit C will be Latent.
     - On day 4 unit C will be Infectious Subclinical.  There will be a direct
       contact from unit C to unit D1 (10 km away) and an indirect contact from
       unit C to unit D2 (12 km away).
     - On day 6 unit C will be Infectious Clinical.  It will be detected and
       slated for destruction.  A trace investigation will be initiated from
       unit C.  Tracing will discover the contact with unit B.
       That unit will be examined, detected as diseased,
       and slated for destruction.
     - On day 7 units B and C will be destroyed.  Their state will show
       as destroyed on day 8.
  </parameter-description>

  <diagram>direct_indirect_in_out</diagram>

  <output>
    <!--    A           B           C           D1          D2 -->
    <tr><td>L</td>  <td>L</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>S</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>L</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>B</td>  <td>S</td>  <td>S</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>B</td>  <td>L</td>  <td>L</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>C</td>  <td>C</td>  <td>C</td></tr>
    <tr><td>C</td>  <td>C</td>  <td>C</td>  <td>C</td>  <td>C</td></tr>
    <tr><td>C</td>  <td>D</td>  <td>D</td>  <td>C</td>  <td>C</td></tr>
  </output>
</deterministic-test>

<stochastic-variable-test>
  <category>control_measures</category>
  <short-name>trace in and out, which happens first</short-name>

  <description>
    When a contact occurs from a source unit to a recipient unit, it is
    possible to later trace that contact by a trace-out initiated at the source
    unit or by a trace-in initiated at the recipient unit.  If both types of
    traces are initiated, then it should be 50/50 which type of trace is
    recorded as having discovered the contact.
    
    This test case is based on the example given in issue #2233.
  </description>

  <author>Aaron Reeves &lt;aaron.reeves@colostate.edu&gt;</author>
  <author>Neil Harvey &lt;nharve01@uoguelph.ca&gt;</author>
  <creation-date>8 April 2011</creation-date>
  <model-version>3.2</model-version>

  <population-file>2units_pigs_cattle_all_infected</population-file>

  <parameter-file>trace_in_out_which_first</parameter-file>

  <parameter-description>
    The latent period lasts 1 day, the infectious clinical period lasts 3 days,
    and immunity lasts 3 days.

    The rate of direct contacts from cattle units to pig units is fixed at 1
    per day.  There are no contacts in the opposite direction.
    
    The probability of detecting diseased units vs. the number of days they
    have been showing clinical signs is fixed at 1.  The probability of
    reporting disease is also fixed at 1.

    When a diseased unit is detected, tracing in and out is requested.  The
    probability of trace success is 100%.  Units discovered by trace will be
    pre-emptively destroyed.

    The authorities prioritize pre-emptive destruction of traced units ahead of
    stamping-out (destruction of detected diseased units).
    
    What should happen:
     - On day 1 units 0 and 1 will both be latent  Unit 0 will ship to unit 1.
     - On day 2 units 0 and 2 will both be infectious clinical.  Unit 0 will
       again ship to unit 1.\n\n
       Both units will be detected on this day.  Half the time, the contact
       from unit 0 to unit 1 will be discovered by trace-out, and half the time
       by trace-in.
     - On day 3 both units will be destroyed.  The output variable desnU will
       indicate how the units were flagged for destruction.  The test is
       deliberately stopped at day 3.
  </parameter-description>

  <output probability="0.5">
    <tr>
      <td>desnU</td>
      <td>desnUBeefCattle</td> <!-- by production type -->
      <td>desnUPigs</td>
      <td>desnUIni</td> <!-- by reason -->
      <td>desnUDet</td>
      <td>desnUDirFwd</td>
      <td>desnUDirBack</td>
      <td>desnUIniBeefCattle</td> <!-- by reason & production type -->
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnUDirBackBeefCattle</td>
      <td>desnUDirBackPigs</td>
    </tr>
    <!--           |                       |                                             |    Ini/       Ini/       Det/       Det/      DirFwd/    DirFwd/   DirBack/   DirBack/   --> 
    <!--   All     |   Cattle      Pigs    |    Ini        Det       DirFwd    DirBack   |   Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Cattle      Pigs     -->
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>2</td>   <td>1</td> <td>1</td>   <td>0</td> <td>1</td> <td>1</td> <td>0</td>   <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td></tr>
  </output>

  <output probability="0.5">
    <tr>
      <td>desnU</td>
      <td>desnUBeefCattle</td> <!-- by production type -->
      <td>desnUPigs</td>
      <td>desnUIni</td> <!-- by reason -->
      <td>desnUDet</td>
      <td>desnUDirFwd</td>
      <td>desnUDirBack</td>
      <td>desnUIniBeefCattle</td> <!-- by reason & production type -->
      <td>desnUIniPigs</td>
      <td>desnUDetBeefCattle</td>
      <td>desnUDetPigs</td>
      <td>desnUDirFwdBeefCattle</td>
      <td>desnUDirFwdPigs</td>
      <td>desnUDirBackBeefCattle</td>
      <td>desnUDirBackPigs</td>
    </tr>
    <!--           |                       |                                             |    Ini/       Ini/       Det/       Det/      DirFwd/    DirFwd/   DirBack/   DirBack/   --> 
    <!--   All     |   Cattle      Pigs    |    Ini        Det       DirFwd    DirBack   |   Cattle      Pigs      Cattle      Pigs      Cattle      Pigs      Cattle      Pigs     -->
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>0</td>   <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td>   <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td></tr>
    <tr><td>2</td>   <td>1</td> <td>1</td>   <td>0</td> <td>1</td> <td>0</td> <td>1</td>   <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td></tr>
  </output>
</stochastic-variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority production type A-F</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the G unit triggers vaccination.
    Vaccination is prioritized by production type, in alphabetical order, and
    there is sufficient capacity to vaccinate one wedge of units per day.
    Vaccination should proceed clockwise around the ring in groups of 4.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>26 April 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_ring_plus2infected</population-file>

  <parameter-file>vacc_priority_1ring_prodtypeA-F</parameter-file>

  <parameter-description>
    Units of type G are latent for 1 day, clinical for 1 day, then immune.
    Units of type H are latent for 1 day, then go straight to immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  There is
    capacity to vaccinate 4 units per day.

    What should happen:
     - On day 1 units G and H will be Latent.
     - On day 2 unit G will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. Unit H goes directly to immune so
       that it will not be involved in this simulation.
     - On day 3 the 4 A units will be vaccinated. (Their state will show as
       Vaccine Immune on day 4).
     - On day 4 the 4 B units will be vaccinated.
     - On day 5 the 4 C units will be vaccinated.
     - On day 6 the 4 D units will be vaccinated.
     - On day 7 the 4 E units will be vaccinated.
     - On day 8 the 4 F units will be vaccinated.
     - On day 9, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_1ring</diagram>

  <output>
    <!--    G  A    B    C    D    E    F   H       -->
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>C SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority production type A-F &gt; size L-S</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the G unit triggers vaccination.
    Vaccination is prioritized by production type, in alphabetical order, then
    by size, largest to smallest, and there is sufficient capacity to
    vaccinate 2 units per day. Vaccination should proceed clockwise around the
    ring in groups of 2.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>26 April 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_ring_plus2infected</population-file>

  <parameter-file>vacc_priority_1ring_prodtypeA-F_largest</parameter-file>

  <parameter-description>
    Units of type G are latent for 1 day, clinical for 1 day, then immune.
    Units of type H are latent for 1 day, then go straight to immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  There is
    capacity to vaccinate 2 units per day.

    What should happen:
     - On day 1 units G and H will be Latent.
     - On day 2 unit G will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. Unit H goes directly to immune so
       that it will not be involved in this simulation.
     - On day 3, 2 A units will be vaccinated. (Their state will show as
       Vaccine Immune on day 4).
     - On day 4, the remaining 2 A units (clockwise order) will be vaccinated.
     - On days 5-14, the other units in the ring will be vaccinated, 2 at a 
       time, clockwise order.
     - On day 16, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_1ring</diagram>

  <output>
    <!--    G  A    B    C    D    E    F   H       -->
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>C SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVSS SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV SSSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVSS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority production type F-A &gt; size S-L</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the G unit triggers vaccination.
    Vaccination is prioritized by production type, in reverse alphabetical
    order, then by size, smallest to largest , and there is sufficient
    capacity to vaccinate 2 units per day. Vaccination should proceed
    counter-clockwise around the ring in groups of 2.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>26 April 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_ring_plus2infected</population-file>

  <parameter-file>vacc_priority_1ring_prodtypeF-A_smallest</parameter-file>

  <parameter-description>
    Units of type G are latent for 1 day, clinical for 1 day, then immune.
    Units of type H are latent for 1 day, then go straight to immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  There is
    capacity to vaccinate 2 units per day.

    What should happen:
     - On day 1 units G and H will be Latent.
     - On day 2 unit G will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. Unit H goes directly to immune so
       that it will not be involved in this simulation.
     - On day 3, 2 F units will be vaccinated. (Their state will show as
       Vaccine Immune on day 4).
     - On day 4, the remaining 2 F units (counter-clockwise order) will be
       vaccinated.
     - On days 5-14, the other units in the ring will be vaccinated, 2 at a 
       time, counter-clockwise order.
     - On day 16, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_1ring</diagram>

  <output>
    <!--    G  A    B    C    D    E    F   H       -->
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>C SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSVV N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS VVVV N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSVV VVVV N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS VVVV VVVV N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSVV VVVV VVVV N</td></tr>
    <tr><td>N SSSS SSSS SSSS VVVV VVVV VVVV N</td></tr>
    <tr><td>N SSSS SSSS SSVV VVVV VVVV VVVV N</td></tr>
    <tr><td>N SSSS SSSS VVVV VVVV VVVV VVVV N</td></tr>
    <tr><td>N SSSS SSVV VVVV VVVV VVVV VVVV N</td></tr>
    <tr><td>N SSSS VVVV VVVV VVVV VVVV VVVV N</td></tr>
    <tr><td>N SSVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority outside-in</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the G unit triggers vaccination.
    Vaccination is prioritized by outside-in order, and there is sufficient
    capacity to vaccinate 12 units per day. Vaccination of the 12 outside units
    should happen first, followed by vaccination of the 12 inside units the
    next day.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>30 April 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_ring_plus2infected</population-file>

  <parameter-file>vacc_priority_1ring_outin</parameter-file>

  <parameter-description>
    Units of type G are latent for 1 day, clinical for 1 day, then immune.
    Units of type H are latent for 1 day, then go straight to immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  There is
    capacity to vaccinate 12 units per day.

    What should happen:
     - On day 1 units G and H will be Latent.
     - On day 2 unit G will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. Unit H goes directly to immune so
       that it will not be involved in this simulation.
     - On day 3, the outside units will be vaccinated. They are the odd-numbered
       ones (A1, A3, B1, B3, etc.) Their state will show as Vaccine Immune on
       day 4.
     - On day 4, the inside, even-numbered, units will be vaccinated.
     - On day 5, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_1ring</diagram>

  <output>
    <!--    G  A    B    C    D    E    F   H       -->
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>C SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VSVS VSVS VSVS VSVS VSVS VSVS N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority inside-out</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the G unit triggers vaccination.
    Vaccination is prioritized by inside-out order, and there is sufficient
    capacity to vaccinate 12 units per day. Vaccination of the 12 inside units
    should happen first, followed by vaccination of the 12 outside units the
    next day.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>30 April 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_ring_plus2infected</population-file>

  <parameter-file>vacc_priority_1ring_inout</parameter-file>

  <parameter-description>
    Units of type G are latent for 1 day, clinical for 1 day, then immune.
    Units of type H are latent for 1 day, then go straight to immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  There is
    capacity to vaccinate 12 units per day.

    What should happen:
     - On day 1 units G and H will be Latent.
     - On day 2 unit G will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. Unit H goes directly to immune so
       that it will not be involved in this simulation.
     - On day 3, the inside units will be vaccinated. They are the even-numbered
       ones (A2, A4, B2, B4, etc.) Their state will show as Vaccine Immune on
       day 4.
     - On day 4, the outside, odd-numbered, units will be vaccinated.
     - On day 5, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_1ring</diagram>

  <output>
    <!--    G  A    B    C    D    E    F   H       -->
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>C SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SVSV SVSV SVSV SVSV SVSV SVSV N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority time old-new &gt; production type A-F</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the G and H units both trigger vaccination
    rings.  Vaccination is prioritized by time waiting, oldest to newest, then
    by production type, in alphabetical order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>30 April 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_ring_plus2infected</population-file>

  <parameter-file>vacc_priority_1ring_oldnew_prodtypeA-F</parameter-file>

  <parameter-description>
    Units of type G are latent for 2 days, clinical for 1 day, then immune.
    Units of type H are latent for 1 day, clinical for 1 day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  The
    vaccination ring created around a detected H unit is larger than the ring
    created around a detected G units, as shown in the diagram.  There is
    capacity to vaccinate 4 units per day starting on day 4 of the simulation,
    then it rises to 6 units per day starting on day 7 of the simulation.

    What should happen:
     - On day 1 units G and H will be Latent.
     - On day 2 unit H will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. The north half of the population
       will be queued for vaccination, as shown in the diagram.
     - On day 3, there is no capacity to vaccinate yet. Unit G will be
       Infectious Clinical. It will be detected. The rest of the population
       will be queued for vaccination.
     - On day 4, vaccination capacity comes on-line with capacity to vaccinate
       4 units.  The northern half of the population has been waiting the
       longest.  Within that half, we prioritize by production type in
       alphabetical order, so the A units will be vaccinated. (Their state
       will show as Vaccine Immune on day 5.)
     - On day 5, the northern 2 B units and the northern 2 E units will be
       vaccinated.
     - On day 6, the F units will be vaccinated.
     - On day 7, the northern half of the population, which had the oldest
       vaccination requests, has all been vaccinated, so we move on to the
       southern half of the population. There is capacity to vaccinate 6 units,
       so going by production type, the remaining B units and all of the C
       units will be vaccinated.
     - On day 8, the D units and the remaining E units will be vaccinated.
     - On day 9, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2rings</diagram>

  <output>
    <!--    G  A    B    C    D    E    F   H       -->
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS C</td></tr>
    <tr><td>C SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVSS SSSS SSSS SSVV SSSS N</td></tr>
    <tr><td>N VVVV VVSS SSSS SSSS SSVV VVVV N</td></tr>
    <tr><td>N VVVV VVVV VVVV SSSS SSVV VVVV N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>vaccination priority time new-old &gt; production type A-F</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the G and H units both trigger vaccination
    rings.  Vaccination is prioritized by time waiting, newest to oldest, then
    by production type, in alphabetical order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>2 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_ring_plus2infected</population-file>

  <parameter-file>vacc_priority_1ring_newold_prodtypeA-F</parameter-file>

  <parameter-description>
    Units of type G are latent for 1 day, clinical for 1 day, then immune.
    Units of type H are latent for 2 days, clinical for 1 day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  The
    vaccination ring created around a detected H unit is larger than the ring
    created around a detected G units, as shown in the diagram.  There is
    capacity to vaccinate 4 units per day starting on day 4 of the simulation,
    then it rises to 6 units per day starting on day 7 of the simulation.

    What should happen:
     - On day 1 units G and H will be Latent.
     - On day 2 unit G will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. The whole population will be
       queued for vaccination, as shown in the diagram.
     - On day 3, there is no capacity to vaccinate yet. Unit H will be
       Infectious Clinical. It will be detected. The north half of the
       population will get new requests for vaccination.
     - On day 4, vaccination capacity comes on-line with capacity to vaccinate
       4 units.  The northern half of the population has the newest requests.
       Within that half, we prioritize by production type in alphabetical
       order, so the A units will be vaccinated. (Their state will show as
       Vaccine Immune on day 5.)
     - On day 5, the northern 2 B units and the northern 2 E units will be
       vaccinated.
     - On day 6, the F units will be vaccinated.
     - On day 7, the northern half of the population, which had the newest
       vaccination requests, has all been vaccinated, so we move on to the
       southern half of the population. There is capacity to vaccinate 6 units,
       so going by production type, the remaining B units and all of the C
       units will be vaccinated.
     - On day 8, the D units and the remaining E units will be vaccinated.
     - On day 9, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2rings</diagram>

  <output>
    <!--    G  A    B    C    D    E    F   H       -->
    <tr><td>L SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>C SSSS SSSS SSSS SSSS SSSS SSSS L</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS C</td></tr>
    <tr><td>N SSSS SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV SSSS SSSS SSSS SSSS SSSS N</td></tr>
    <tr><td>N VVVV VVSS SSSS SSSS SSVV SSSS N</td></tr>
    <tr><td>N VVVV VVSS SSSS SSSS SSVV VVVV N</td></tr>
    <tr><td>N VVVV VVVV VVVV SSSS SSVV VVVV N</td></tr>
    <tr><td>N VVVV VVVV VVVV VVVV VVVV VVVV N</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>2 vaccination circles, same size, outside-in</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the A and F units both trigger vaccination
    rings 5km in radius.  Vaccination is prioritized by outside-in order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>2 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>10units_2cols</population-file>

  <parameter-file>vacc_priority_2rings_same_size_outin</parameter-file>

  <parameter-description>
    Units of type A and F are latent for 1 day, clinical for 1 day, then
    immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  The
    vaccination ring created around a detected A unit is the same size as the
    ring created around a detected F unit, as shown in the diagram.  There is
    capacity to vaccinate 2 units per day starting on day 3 of the simulation.

    What should happen:
     - On day 1 units A and F will be Latent.
     - On day 2 units A and F will be Infectious Clinical. They will be
       detected and a vaccination program will be initiated. Units B-E and
       G-K will be queued for vaccination, as shown in the diagram.
     - On day 3, there is capacity to vaccinate 2 units. Units E and K are at
       the outside of the rings, so they will be vaccinated. (Their state will
       show as Vaccine Immune on day 5.)
     - On days 4-6, 2 units will be vaccinated each day, moving inward into the
       rings.
     - On day 7, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2cols_rings_same_size</diagram>

  <output>
    <!--    A B-E  F G-K        -->
    <tr><td>L SSSS L SSSS</td></tr>
    <tr><td>C SSSS C SSSS</td></tr>
    <tr><td>N SSSS N SSSS</td></tr>
    <tr><td>N SSSV N SSSV</td></tr>
    <tr><td>N SSVV N SSVV</td></tr>
    <tr><td>N SVVV N SVVV</td></tr>
    <tr><td>N VVVV N VVVV</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>2 vaccination circles, same size, inside-out</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the A and F units both trigger vaccination
    rings 5km in radius.  Vaccination is prioritized by inside-out order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>6 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>10units_2cols</population-file>

  <parameter-file>vacc_priority_2rings_same_size_inout</parameter-file>

  <parameter-description>
    Units of type A and F are latent for 1 day, clinical for 1 day, then
    immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  The
    vaccination ring created around a detected A unit is the same size as the
    ring created around a detected F unit, as shown in the diagram.  There is
    capacity to vaccinate 2 units per day starting on day 3 of the simulation.

    What should happen:
     - On day 1 units A and F will be Latent.
     - On day 2 units A and F will be Infectious Clinical. They will be
       detected and a vaccination program will be initiated. Units B-E and
       G-K will be queued for vaccination, as shown in the diagram.
     - On day 3, there is capacity to vaccinate 2 units. Units B and G are at
       the inside of the rings, so they will be vaccinated. (Their state will
       show as Vaccine Immune on day 5.)
     - On days 4-6, 2 units will be vaccinated each day, moving outward toward
       the edge of the rings.
     - On day 7, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2cols_rings_same_size</diagram>

  <output>
    <!--    A B-E  F G-K        -->
    <tr><td>L SSSS L SSSS</td></tr>
    <tr><td>C SSSS C SSSS</td></tr>
    <tr><td>N SSSS N SSSS</td></tr>
    <tr><td>N VSSS N VSSS</td></tr>
    <tr><td>N VVSS N VVSS</td></tr>
    <tr><td>N VVVS N VVVS</td></tr>
    <tr><td>N VVVV N VVVV</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>2 vaccination circles, different sizes, outside-in</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the A and F units both trigger vaccination
    rings but of different sizes.  Vaccination is prioritized by outside-in
    order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>2 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>10units_2cols</population-file>

  <parameter-file>vacc_priority_2rings_size_5_3_outin</parameter-file>

  <parameter-description>
    Units of type A and F are latent for 1 day, clinical for 1 day, then
    immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  The
    vaccination ring created around a detected A unit is 5 km in radius and
    the ring around an F unit is 3 km, as shown in the diagram.  There is
    capacity to vaccinate 2 units per day starting on day 3 of the simulation.

    What should happen:
     - On day 1 units A and F will be Latent.
     - On day 2 units A and F will be Infectious Clinical. They will be
       detected and a vaccination program will be initiated. Units B-E and
       G-K will be queued for vaccination, as shown in the diagram.
     - On day 3, there is capacity to vaccinate 2 units. Units E and H are at
       the outside of the rings, so they will be vaccinated. (Their state will
       show as Vaccine Immune on day 5.)
     - On day 4, moving inward into the rings, units D and G will be vaccinated.
     - On day 5, the remaining units B and C will be vaccinated.
     - On day 6, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2cols_rings_size_5_3</diagram>

  <output>
    <!--    A B-E  F G-K        -->
    <tr><td>L SSSS L SSSS</td></tr>
    <tr><td>C SSSS C SSSS</td></tr>
    <tr><td>N SSSS N SSSS</td></tr>
    <tr><td>N SSSV N SVSS</td></tr>
    <tr><td>N SSVV N VVSS</td></tr>
    <tr><td>N VVVV N VVSS</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>2 vaccination circles, different sizes, inside-out</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the A and F units both trigger vaccination
    rings but of different sizes.  Vaccination is prioritized by inside-out
    order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>6 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>10units_2cols</population-file>

  <parameter-file>vacc_priority_2rings_size_5_3_inout</parameter-file>

  <parameter-description>
    Units of type A and F are latent for 1 day, clinical for 1 day, then
    immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  The
    vaccination ring created around a detected A unit is 5 km in radius and
    the ring around an F unit is 3 km, as shown in the diagram.  There is
    capacity to vaccinate 2 units per day starting on day 3 of the simulation.

    What should happen:
     - On day 1 units A and F will be Latent.
     - On day 2 units A and F will be Infectious Clinical. They will be
       detected and a vaccination program will be initiated. Units B-E and
       G-K will be queued for vaccination, as shown in the diagram.
     - On day 3, there is capacity to vaccinate 2 units. Units B and G are at
       the inside of the rings, so they will be vaccinated. (Their state will
       show as Vaccine Immune on day 5.)
     - On day 4, moving outward toward the edge of the rings, units C and H
       will be vaccinated.
     - On day 5, the remaining units D and E will be vaccinated.
     - On day 6, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2cols_rings_size_5_3</diagram>

  <output>
    <!--    A B-E  F G-K        -->
    <tr><td>L SSSS L SSSS</td></tr>
    <tr><td>C SSSS C SSSS</td></tr>
    <tr><td>N SSSS N SSSS</td></tr>
    <tr><td>N VSSS N VSSS</td></tr>
    <tr><td>N VVSS N VVSS</td></tr>
    <tr><td>N VVVV N VVSS</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>2 vaccination rings, different sizes and widths, outside-in</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the A and F units both trigger vaccination
    rings but of different sizes and widths.  Vaccination is prioritized by
    outside-in order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>6 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>10units_2cols</population-file>

  <parameter-file>vacc_priority_2rings_size_2-5_1-3_outin</parameter-file>

  <parameter-description>
    Units of type A and F are latent for 1 day, clinical for 1 day, then
    immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A
    vaccination ring with inner radius 2 km and outer radius 5 km is created
    around a detected A unit. A vaccination ring with inner radius 1 km and
    outer radius 3 km is created around a detected F unit.  There is capacity
    to vaccinate 2 units per day.

    What should happen:
     - On day 1 units A and F will be Latent.
     - On day 2 units A and F will be Infectious Clinical. They will be
       detected and a vaccination program will be initiated. Units C-E and
       G-H will be queued for vaccination, as shown in the diagram.
     - On day 3, there is capacity to vaccinate 2 units. Units E and H are at
       the outside of the rings, so they will be vaccinated. (Their state will
       show as Vaccine Immune on day 5.)
     - On day 4, moving inward into the rings, units D and G will be
       vaccinated.
     - On day 5, the remaining unit C will be vaccinated.
     - On day 6, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2cols_rings_size_2-5_1-3</diagram>

  <output>
    <!--    A B-E  F G-K        -->
    <tr><td>L SSSS L SSSS</td></tr>
    <tr><td>C SSSS C SSSS</td></tr>
    <tr><td>N SSSS N SSSS</td></tr>
    <tr><td>N SSSV N SVSS</td></tr>
    <tr><td>N SSVV N VVSS</td></tr>
    <tr><td>N SVVV N VVSS</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>2 vaccination rings, different sizes and widths, inside-out</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the A and F units both trigger vaccination
    rings but of different sizes and widths.  Vaccination is prioritized by
    inside-out order.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>6 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>10units_2cols</population-file>

  <parameter-file>vacc_priority_2rings_size_2-5_1-3_inout</parameter-file>

  <parameter-description>
    Units of type A and F are latent for 1 day, clinical for 1 day, then
    immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A
    vaccination ring with inner radius 2 km and outer radius 5 km is created
    around a detected A unit. A vaccination ring with inner radius 1 km and
    outer radius 3 km is created around a detected F unit.  There is capacity
    to vaccinate 2 units per day.

    What should happen:
     - On day 1 units A and F will be Latent.
     - On day 2 units A and F will be Infectious Clinical. They will be
       detected and a vaccination program will be initiated. Units C-E and
       G-H will be queued for vaccination, as shown in the diagram.
     - On day 3, there is capacity to vaccinate 2 units. Units C and G are at
       the inside of the rings, so they will be vaccinated. (Their state will
       show as Vaccine Immune on day 5.)
     - On day 4, moving outward toward the edge of the rings, units D and H
       will be vaccinated.
     - On day 5, the remaining unit E will be vaccinated.
     - On day 6, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2cols_rings_size_2-5_1-3</diagram>

  <output>
    <!--    A B-E  F G-K        -->
    <tr><td>L SSSS L SSSS</td></tr>
    <tr><td>C SSSS C SSSS</td></tr>
    <tr><td>N SSSS N SSSS</td></tr>
    <tr><td>N SVSS N VSSS</td></tr>
    <tr><td>N SVVS N VVSS</td></tr>
    <tr><td>N SVVV N VVSS</td></tr>
  </output>
</deterministic-test>

<variable-test>
  <category>control_measures</category>
  <short-name>2 vaccination circles, round-robin, priority production type C-D, 2 units/day</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. There are 2 rings of units of type C and
    D; these are the units that will get vaccinated.  Inside the first ring are
    2 units of type A, and inside the second ring are 2 units of type B.

    In this test, 2 vaccination circles are created on the same day.
    Round-robin priority is turned on, then production type C has priority over
    type D.  2 units can be vaccinated each day.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>8 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>16units_2rings</population-file>

  <parameter-file>vacc_priority_2rings_roundrobin_prodtypeC-D</parameter-file>

  <parameter-description>
    For production types A and B, the infectious subclinical period is 1 day,
    and the latent period is 30 days.  This ensures that just 1 A unit and 1 B
    unit will be detected during this simulation, on day 2.
    
    Vaccination begins after 1 detection.  There is capacity to vaccinate 2
    units per day.

    What should happen:
     - Day 1: Units 2 and 3 will be subclinical.
     - Day 2: Units 2 and 3 will be clinical.  They will be detected and this
       will initiate a vaccination program.
     - Days 3-8: On each day, there is capacity to vaccinate 2 units. Since
       round-robin priority is on, 1 unit from each ring will be vaccinated
       each day.
     - Day 9: Vaccination is complete. This will be the last simulation day.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnUC</td>
      <td>vacnUD</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>2 vaccination circles, round-robin, priority production type C-D, 1 unit/day</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. There are 2 rings of units of type C and
    D; these are the units that will get vaccinated.  Inside the first ring are
    2 units of type A, and inside the second ring are 2 units of type B.

    In this test, 2 vaccination circles are created on the same day.
    Round-robin priority is turned on, then production type C has priority over
    type D.  1 unit can be vaccinated each day.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>14 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>16units_2rings</population-file>

  <parameter-file>vacc_priority_2rings_roundrobin_prodtypeC-D_1perday</parameter-file>

  <parameter-description>
    For production types A and B, the infectious subclinical period is 1 day,
    and the latent period is 30 days.  This ensures that just 1 A unit and 1 B
    unit will be detected during this simulation, on day 2.
    
    Vaccination begins after 1 detection.  There is capacity to vaccinate 1
    unit per day.

    What should happen:
     - Day 1: Units 2 and 3 will be subclinical.
     - Day 2: Units 2 and 3 will be clinical.  They will be detected and this
       will initiate a vaccination program.
     - Days 3-14: On each day, there is capacity to vaccinate 1 units. Since
       round-robin priority is on, we should see units from alternating rings
       being picked. For the first day of vaccination, day 3, round-robin
       should pick the ring containing the C units to begin, since they have
       priority over D units.
     - Day 15: Vaccination is complete. This will be the last simulation day.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnUC</td>
      <td>vacnUD</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<variable-test>
  <category>control_measures</category>
  <short-name>2 vaccination circles, round-robin, priority production type D-C, 1 unit/day, 1 ring smaller</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. There are 2 rings of units of type C and
    D; these are the units that will get vaccinated.  Inside the first ring are
    2 units of type A, and inside the second (smaller) ring are 2 units of type
    B.

    In this test, 2 vaccination circles are created on the same day.
    Round-robin priority is turned on, then production type D has priority over
    type C.  1 unit can be vaccinated each day.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>14 May 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>15units_2rings</population-file>

  <parameter-file>vacc_priority_2rings_roundrobin_prodtypeD-C_1perday</parameter-file>

  <parameter-description>
    For production types A and B, the infectious subclinical period is 1 day,
    and the latent period is 30 days.  This ensures that just 1 A unit and 1 B
    unit will be detected during this simulation, on day 2.
    
    Vaccination begins after 1 detection.  There is capacity to vaccinate 1
    unit per day.

    What should happen:
     - Day 1: Units 2 and 3 will be subclinical.
     - Day 2: Units 2 and 3 will be clinical.  They will be detected and this
       will initiate a vaccination program.
     - Days 3-12: On each day, there is capacity to vaccinate 1 units. Since
       round-robin priority is on, we should see units from alternating rings
       being picked. For the first day of vaccination, day 3, round-robin
       should pick the ring containing the D units to begin, since they have
       priority over C units.
     - Day 13: In alternating rings order, a D unit would be vaccinated today,
       but we have run out of D units.  So a C unit will be vaccinated.
     - Day 14: Vaccination is complete. This will be the last simulation day.
  </parameter-description>

  <output>
    <tr>
      <td>detnU</td>
      <td>vacnUC</td>
      <td>vacnUD</td>
    </tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>2</td>  <td>0</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>1</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>1</td>  <td>0</td></tr>
    <tr><td>0</td>  <td>0</td>  <td>0</td></tr>
  </output>
</variable-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>2 vaccination rings, part complete vs. new, round-robin</short-name>

  <description>
    This is one of a set of tests to exercise the vaccination priority system
    after the changes in version 3.3. Units are arranged as shown in the
    diagram below. In this test, the A unit triggers vaccination and the
    ring around it is partially completed, going in outside-in order. Then the
    F unit triggers vaccination.  Whether the ring around the A unit
    waits while the other ring catches up to the same thickness will depend
    on whether the round-robin option is turned on or not.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>2 July 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>10units_2cols</population-file>

  <parameter-file>vacc_priority_2rings_size_2-5_1-3later_rr</parameter-file>

  <parameter-description>
    Units of type A are latent for 1 day, clinical for 1 day, then immune.
    Units of type F are latent for 3 days, clinical for 1 day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A
    vaccination ring with inner radius 2 km and outer radius 5 km is created
    around a detected A unit. A vaccination ring with inner radius 1 km and
    outer radius 3 km is created around a detected F unit.  There is capacity
    to vaccinate 1 unit per day.

    What should happen:
     - On day 1 units A and F will be Latent.
     - On day 2 unit A will be Infectious Clinical. It will be detected and a
       vaccination program will be initiated. Units C-E will be queued for
       vaccination, as shown in the diagram.
     - On day 3, there is capacity to vaccinate 1 unit. Unit E is at the
       outside of its ring, so it will be vaccinated. (Its state will show as
       Vaccine Immune on day 4.)
     - On day 4, moving inward into the ring, unit D will be vaccinated. Also
       on this day, unit F will be Infectious Clinical. It will be detected and
       units G-H will be queued for vaccination.
     - On day 5, there will be a choice between vaccinating unit C, G, or H.
       The priority is based on round-robin first, then outside-in order. Since
       the ring around unit A had the last turn, unit H, at the outer edge of
       the ring around unit F, will be vaccinated.
     - On day 6, the ring around unit A will get priority, and unit C will be
       vaccinated.
     - On day 7, the remaining unit, G, will be vaccinated.
     - On day 8, nothing new happens: all of the units that need to be
       vaccinated have been vaccinated.  This will be the last simulation day.
  </parameter-description>

  <diagram>vaccpriority_2cols_rings_size_2-5_1-3</diagram>

  <output>
    <!--    A B-E  F G-K        -->
    <tr><td>L SSSS L SSSS</td></tr>
    <tr><td>C SSSS L SSSS</td></tr>
    <tr><td>N SSSS L SSSS</td></tr>
    <tr><td>N SSSV C SSSS</td></tr>
    <tr><td>N SSVV N SSSS</td></tr>
    <tr><td>N SSVV N SVSS</td></tr>
    <tr><td>N SVVV N SVSS</td></tr>
    <tr><td>N SVVV N VVSS</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>protective and suppressive rings, size L-S</short-name>

  <description>
    This is one of a series of tests of situations where a suppressive circle
    and a protective ring are created around a focus.  In this test, priority
    is largest-to-smallest.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>11 July 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>15units_line</population-file>

  <parameter-file>vacc_priority_2rings_supp_prot_largest</parameter-file>

  <parameter-description>
    Diseased units of production type A are latent for 1 day, clinical for 1
    day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A suppressive
    vaccination ring of radius 3 1/3 km and a protective vaccination ring with
    inner radius 4.5 km and outer radius 6.5 km is created around a detected
    unit of production type A.
    
    There is capacity to vaccinate 2 units per day. Vaccination is prioritized
    by size (largest first).

    What should happen:
     - On day 1 unit 7 will be Latent.
     - On day 2 unit 7 will be Infectious Clinical. It will be detected, a
       vaccination program will be initiated, and suppressive and protective
       vaccination rings will be set up as shown in the diagram below.
     - On day 3 and each following day, there is capacity to vaccinate 2 units.
       Vaccination order will go from left (where the largest units are) to
       right (where the smallest units are). So on day 3 units 1 and 2 will be
       vaccinated. (Their states will show as Vaccine Immune on day 4.)
     - On day 4 units 4 and 5 will be vaccinated.
     - On day 5 units 6 and 8 will be vaccinated.
     - On day 6 units 9 and 10 will be vaccinated.
     - On day 7 units 12 and 13 will be vaccinated.
     - On day 8, there is nothing new to do.  This will be the last simulation
       day.
  </parameter-description>

  <diagram>15units_1ring_s_p</diagram>

  <output>
    <!--            *                  -->
    <tr><td>SS S SSSLSSS S SS SS</td></tr>
    <tr><td>SS S SSSCSSS S SS SS</td></tr>
    <tr><td>SS S SSSNSSS S SS SS</td></tr>
    <tr><td>VV S SSSNSSS S SS SS</td></tr>
    <tr><td>VV S VVSNSSS S SS SS</td></tr>
    <tr><td>VV S VVVNVSS S SS SS</td></tr>
    <tr><td>VV S VVVNVVV S SS SS</td></tr>
    <tr><td>VV S VVVNVVV S VV SS</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>protective and suppressive rings, outside-in</short-name>

  <description>
    This is one of a series of tests of situations where a suppressive circle
    and a protective ring are created around a focus.  In this test, priority
    is outside-in.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <creation-date>17 July 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>15units_line</population-file>

  <parameter-file>vacc_priority_2rings_supp_prot_outin</parameter-file>

  <parameter-description>
    Diseased units of production type A are latent for 1 day, clinical for 1
    day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A suppressive
    vaccination ring of radius 3 1/3 km and a protective vaccination ring with
    inner radius 4.5 km and outer radius 6.5 km is created around a detected
    unit of production type A.
    
    There is capacity to vaccinate 4 units per day. Vaccination is prioritized
    by outside-in order.

    What should happen:
     - On day 1 unit 7 will be Latent.
     - On day 2 unit 7 will be Infectious Clinical. It will be detected, a
       vaccination program will be initiated, and suppressive and protective
       vaccination rings will be set up as shown in the diagram below.
     - On day 3 and each following day, there is capacity to vaccinate 4 units.
       The 4 units that are the closest to the outer edge of their rings are
       units 4 and 10 (at 0.33 km in from the outer edge of the suppressive
       circle) and units 1 and 13 (at 0.5 km in from the outer edge of the
       protective ring).  These units will be vaccinated.  (Their state will
       show as Vaccine Immune on day 4.)
     - On day 4, continuing inwards, units 5, 9, 2, and 12 will be vaccinated.
     - On day 5, the remaining units in the suppressive circle (units 6 and 8)
       will be vaccinated.
     - On day 6, there is nothing new to do.  This will be the last simulation
       day.
  </parameter-description>

  <diagram>15units_1ring_s_p</diagram>

  <output>
    <!--            *                  -->
    <tr><td>SS S SSSLSSS S SS SS</td></tr>
    <tr><td>SS S SSSCSSS S SS SS</td></tr>
    <tr><td>SS S SSSNSSS S SS SS</td></tr>
    <tr><td>VS S VSSNSSV S SV SS</td></tr>
    <tr><td>VV S VVSNSVV S VV SS</td></tr>
    <tr><td>VV S VVVNVVV S VV SS</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>overlapping suppressive rings, inside-out</short-name>

  <description>
    In this test, two suppressive circles overlap, and priority is inside-out.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <author>Tim Boyer &lt;boye0087@umn.edu&gt;</author>
  <creation-date>30 September 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_2rings_plus2infected</population-file>

  <parameter-file>vacc_priority_2circles_overlap_inout</parameter-file>

  <parameter-description>
    Diseased units are latent for 1 day, clinical for 1 day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A suppressive
    vaccination circle of radius 1 km is created around a detected unit.
    
    There is capacity to vaccinate 12 units on the first day of the vaccination
    program, then 4 units on the second day, then 12 units on each day after
    that. Vaccination is prioritized by inside-out order.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical. They will be
       detected, a vaccination program will be initiated, and all 24 units
       around A and B will be queued for vaccination.
     - On day 3, there is capacity to vaccinate 12 units. The 6 units that are
       closest to A (7-12) and the 6 units that are closest to B (19-24)
       will be vaccinated. (Their state will show as Vaccine Immune on day 4.)
     - On day 4, there is capacity to vaccinate 4 units. Continuing outwards,
       units 2, 3, 17, and 18 will be vaccinated.
     - On day 5, there is capacity to vaccinate 12 units. The remaining units
       will be vaccinated.
     - On day 6, there is nothing new to do.  This will be the last simulation
       day.
  </parameter-description>

  <output>
    <!--    A 1-6    7-12   B 13-18  19-24        -->
    <tr><td>L SSSSSS SSSSSS L SSSSSS SSSSSS</td></tr>
    <tr><td>C SSSSSS SSSSSS C SSSSSS SSSSSS</td></tr>
    <tr><td>N SSSSSS SSSSSS N SSSSSS SSSSSS</td></tr>
    <tr><td>N SSSSSS VVVVVV N SSSSSS VVVVVV</td></tr>
    <tr><td>N SVVSSS VVVVVV N SSSSVV VVVVVV</td></tr>
    <tr><td>N VVVVVV VVVVVV N VVVVVV VVVVVV</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>overlapping protective rings, inside-out</short-name>

  <description>
    In this test, two protective rings overlap, and priority is inside-out.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <author>Tim Boyer &lt;boye0087@umn.edu&gt;</author>
  <creation-date>21 October 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>24units_2rings_plus2infected</population-file>

  <parameter-file>vacc_priority_2rings_overlap_inout</parameter-file>

  <parameter-description>
    Diseased units are latent for 1 day, clinical for 1 day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A protective
    vaccination ring with inner radius 0.525 km and outer radius 1 km is
    created around a detected unit.
    
    There is capacity to vaccinate 4 units on the first day of the vaccination
    program, then 8 units on the second day, then 8 units on each day after
    that. Vaccination is prioritized by inside-out order.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical. They will be
       detected, a vaccination program will be initiated, and all 24 units
       around A and B will be queued for vaccination.
     - On day 3, there is capacity to vaccinate 4 units. The 6 units that are
       closest to A (7-12) and the 6 units that are closest to B (19-24)
       will not be vaccinated because they are inside the holes in the
       protective rings. The next units in inside-out order are 2, 3, 17, and
       18. They will be vaccinated. (Their state will show as Vaccine Immune on
       day 4.)
     - On day 4, there is capacity to vaccinate 8 units. Continuing outwards,
       units 1, 4, 5, 6, 13, 14, 15, and 16 will be vaccinated.
     - On day 5, there is nothing new to do.  This will be the last simulation
       day.
  </parameter-description>

  <output>
    <!--    A 1-6    7-12   B 13-18  19-24        -->
    <tr><td>L SSSSSS SSSSSS L SSSSSS SSSSSS</td></tr>
    <tr><td>C SSSSSS SSSSSS C SSSSSS SSSSSS</td></tr>
    <tr><td>N SSSSSS SSSSSS N SSSSSS SSSSSS</td></tr>
    <tr><td>N SVVSSS SSSSSS N SSSSVV SSSSSS</td></tr>
    <tr><td>N VVVVVV SSSSSS N VVVVVV SSSSSS</td></tr>
  </output>
</deterministic-test>

<deterministic-test>
  <category>control_measures</category>
  <short-name>large and small protective rings, outer part of large ring closer to small ring center</short-name>

  <description>
    In this test, there are two protective rings, one large and one small. They
    do not overlap, but the outermost units in the large ring are closer to the
    center of the small ring than to the center of the large ring. The
    round-robin priority should not group the outer units of the large ring
    together with the small ring.
  </description>

  <author>nharve01@uoguelph.ca</author>
  <author>Tim Boyer &lt;boye0087@umn.edu&gt;</author>
  <creation-date>21 October 2013</creation-date>
  <model-version>3.3</model-version>

  <population-file>12units_2rings_largesmall_plus2infected</population-file>

  <parameter-file>vacc_priority_2circles_diff_sizes_rr_largest</parameter-file>

  <parameter-description>
    Diseased units are latent for 1 day, clinical for 1 day, then immune.

    There is no disease spread.

    Diseased units are detected on the first day showing clinical signs.

    Vaccination is initiated after detection of 1 diseased unit.  A suppressive
    vaccination circle with radius 1 km is created around a detected A unit.
    A suppressive vaccination circle with radius 0.5 km is created around a
    detected B unit.
    
    There is capacity to vaccinate 2 units on the first day of the vaccination
    program, then 4 units on the second day, then 4 units on each day after
    that. Vaccination is prioritized by round-robin, then by
    largest-to-smallest order.

    What should happen:
     - On day 1 units A and B will be Latent.
     - On day 2 units A and B will be Infectious Clinical. They will be
       detected, a vaccination program will be initiated, and all 12 units
       around A and B will be queued for vaccination.
     - On day 3, there is capacity to vaccinate 2 units. By round-robin order, 1
       unit from the left circle and 1 from the right circle will be
       vaccinated. So the largest unit from each circle (1 and 7) will be
       vaccinated. (Their state will show as Vaccine Immune on day 4.)
     - On day 4, there is capacity to vaccinate 4 units. Taking the 2 next
       largest units from each circle, units 2, 6, 8, and 12 will be vaccinated.
     - On day 5, there is capacity to vaccinate 4 units. Taking the 2 next
       largest units from each circle, units 3, 5, 9, and 11 will be vaccinated.
     - On day 6, there is capacity to vaccinate 4 units. The remaining units
       (4 and 10) will be vaccinated.
     - On day 7, there is nothing new to do.  This will be the last simulation
       day.
  </parameter-description>

  <output>
    <!--    A 1-6    B 7-12         -->
    <tr><td>L SSSSSS L SSSSSS</td></tr>
    <tr><td>C SSSSSS C SSSSSS</td></tr>
    <tr><td>N SSSSSS N SSSSSS</td></tr>
    <tr><td>N VSSSSS N VSSSSS</td></tr>
    <tr><td>N VVSSSV N VVSSSV</td></tr>
    <tr><td>N VVVSVV N VVVSVV</td></tr>
    <tr><td>N VVVVVV N VVVVVV</td></tr>
  </output>
</deterministic-test>
