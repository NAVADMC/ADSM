<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ADSM Installation Instructions</title>
<style type="text/css">
body {
	
}

h1 {
	font-size: xx-large;
	font-weight: bold;
	border-bottom: 1px solid black;
}

div.note {
	position: relative;
	display: block;
	padding: 5pt;
	margin: 5pt;
	white-space: -moz-pre-wrap; /* Mozilla */
	white-space: -pre-wrap; /* Opera 4 - 6 */
	white-space: -o-pre-wrap; /* Opera 7 */
	white-space: pre-wrap; /* CSS3 */
	word-wrap: break-word; /* IE 5.5+ */
}

div.cautionNote {
	font-size: 8pt;
	font-weight: bold;
	color: red;
	text-align: left;
	vertical-align: top;
	margin-left: 15px;
}

div.cautionText {
	font-size: 8pt;
	color: black;
	border-bottom: 1px solid grey;
	border-top: 1px solid grey;
	border-right: 1px solid grey;
	border-left: 1px solid grey;
	margin-right: 25px;
}

div.configOption {
	font-size: 8pt;
	font-weight: bold;
	color: black;
	text-align: left;
	vertical-align: top;
	margin-left: 15px;
}

div.optionText {
	font-size: 8pt;
	color: black;
	margin-right: 25px;
}

.mainPage {
	color: #450000;
}

.mainHeader {
	color: #ffffff;
	font-size: large;
	font-weight: bold;
	text-align: center;
	text-decoration: underline;
}

.subHeader {
	color: #000000;
	font-size: 10pt;
	font-weight: bold;
	text-align: left;
	text-decoration: underline;
}

.tableBody {
	color: #000000;
	font-size: 9pt;
	text-align: left;
	margin-right: 15px;
}
</style>
</head>

<body class="mainPage">
<!--
<table border=0 cellspacing=0 cellpadding=0 width="100%">
	<tr>
		<td><img src="project_logo.png"></img>
		</td>
	</tr>
</table>
<br />
<hr></hr>
-->
<p>
<table border=0 cellspacing=0 cellpadding=0 width="100%">
	<tr>
		<td class="mainHeader">Program Installation Instructions</td>
	</tr>
</table>
<table border=0 cellspacing=0 cellpadding=0 width="641px"
	bgcolor="#000000" align="center">
	<tr bgcolor="#BBBBBB" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>
	<tr bgcolor="#000000">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td>
		<table border=0 cellspacing=0 cellpadding=0 width="639px"
			title="Introduction" bgcolor="#FFFFFF" align="left">
			<tr>
				<td class="subHeader" align="left" valign="top">
				<div style="margin: 10px;">Introduction</div>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
			</tr>
			<tr align="left">
				<td>
				<table>
					<tr>
						<td valign="top" align="left">
						<div class="cautionNote">NOTE:&nbsp;&nbsp;</div>
						</td>
						<td>
						<div class="cautionText">Please be sure to read the <a
							href="#dependencies">dependencies</a> and <a
							href="#configuration_options">configuration options</a> sections.
						Most of the time, this package will not compile "out of the box"
						by just using the configuration defaults.</div>
						</td>
					</tr>
				</table>
				<br />
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>Operating Systems Tested</b></caption>
					<tr>
						<td>This program is known to function on the following
						systems as both a single run program and as a parallel
						implementation:<br />

						<ul>
							<li><u>Windows</u></li>
							<ul>
								<li dir="ltr">Windows XP running (<a
									style="color: rgb(32, 74, 135);" href="#cygwin">Cygwin</a>)</li>
							</ul>

							<ul>
								<li dir="ltr">Windows XP as a DLL joined with a Windows
								user interface, [ DLL compiled using <a
									style="color: rgb(32, 74, 135);" href="#mingw">MinGW</a> ]</li>
							</ul>

							<ul>
								<li dir="ltr">Windows 7 as a DLL joined with a Windows
								user interface, [ DLL compiled using <a
									style="color: rgb(32, 74, 135);" href="#mingw">MinGW</a> ]</li>
							</ul>

							<br />
							<li><u><a style="color: rgb(32, 74, 135);" href="#linux">Linux</a>
							[single CPU, SMP, and HPC systems]</u></li>
							<ul>
								<li dir="ltr">Fedora 6, 7, 8, 9, 10, 11 (32 and 64bit)</li>
								<li dir="ltr">Ubuntu 9.04</li>
								<li dir="ltr">SUSE 10, 11</li>
								<li dir="ltr">HP <a style="color: rgb(32, 74, 135);"
									href="#linux">Linux</a> XC 3.1 [See SHARCNET below]</li>
							</ul>
							<table>
								<tr>
									<td valign="top" align="left">
									<div class="cautionNote">NOTE:&nbsp;&nbsp;</div>
									</td>
									<td>
									<div class="cautionText"><a
										style="color: rgb(32, 74, 135);" href="#linux">Linux</a> may
									also be used as the OS on high performance computing, (HPC),
									systems, such as Grids, and Clusters.</div>
									</td>
								</tr>
							</table>
							<br />
							<li><u>High Performance Grid Systems</u></li>
							<ul>
								<li>SHARCNET Grid [Canada] ( Various operating systems, and
								grid sizes )</li>
							</ul>
							<br />
							<li><u>Parallel, High Performance Machines</u></li>
							<ul>
								<li>Sun: Sun-Fire 6000 parallel machine running SunOS 5.9
								with 48 sparc processors,96Gb RAM, and 1Tb storage. [<span
									style="color: rgb(85, 87, 83); text-decoration: underline;">CoGrid</span>
								at Colorado State University]</li>
							</ul>

						</ul>
						</td>
					</tr>
				</table>
				<br />
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>Installation Instructions Summary </b></caption>
					<tr>
						<td>Like most Unix programs, ADSM can be built and
						installed by:
						<ul>
							<li>Running the following commands within the directory
							where you installed the source code.
							<ul>
								<li>./configure</li>
								<li>make</li>
								<li>make install</li>
							</ul>
							</li>
						</ul>
						<br />
						<table>
							<tr>
								<td valign="top" align="left">
								<div class="cautionNote">NOTES:&nbsp;&nbsp;</div>
								</td>
								<td>
								<div class="cautionText">The standard configuration
								defaults usually are not what you will want, however, so it is
								best to examine the detailed sections below before running
								configure.</div>
								</td>
							</tr>
							<tr>
								<td></td>
								<td>
								<div class="cautionText">If you have checked ADSM
								out of git instead of unpacking it from a distribution tar file,
								you may need to run the command, "sh bootstrap", first. <br />
								(For MS-Windows instructions see below)</div>
								</td>
							</tr>
						</table>
						<br />
						</td>
					</tr>
				</table>
				</td>
			</tr>
		</table>
		</td>
	</tr>
	<tr bgcolor="#000000" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>
</table>
<br />

<table border=0 cellspacing=0 cellpadding=0 width="641px"
	bgcolor="#000000" align="center">
	<tr bgcolor="#BBBBBB" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>
	<tr bgcolor="#000000">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td>
		<table border=0 cellspacing=0 cellpadding=0 width="639px"
			title="Introduction" bgcolor="#FFFFFF" align="left">
			<tr>
				<td class="subHeader" align="left" valign="top">
				<div style="margin: 10px;">Installation Details</div>
				</td>
			</tr>
			<tr valign="top">
				<td>
				<div style="font-size: 8pt; margin-left: 15px; margin-right: 25px;">[UNIX
				based systems or UNIX emulators on MS-Windows, such as <a
					style="color: rgb(32, 74, 135);" href="#cygwin">Cygwin</a>]</div>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
			</tr>
			<tr align="left">
				<td><br />
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>
					<div id=dependencies>Software Dependencies</div>
					</b></caption>
					<tr>
						<td><br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It is best to insure that you have
						the following software installed on your system before proceeding
						with the configuration of the ADSM build environment.
						However, if ADSM needs libraries that aren't present on
						your system, the configure script will stop and inform you.<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some libraries may be available as
						packages for your system; others you may need to download and
						compile.<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For users who do not have root
						access to their UNIX system, and need to install missing software
						dependencies, these software packages may be installed in your
						local home directory, as long as, you instruct the configure
						script where to find the correct or missing versions of them. See
						the <a href="#configuration_options">configuration options</a>
						section for details about specifying package locations. This
						includes the typical need to alter the CFLAGS and LDFLAGS
						environment variables.



						<table>
							<tr>
								<td valign="top" align="left">
								<div class="cautionNote">IMPORTANT NOTE:&nbsp;&nbsp;</div>
								</td>
								<td>
								<div class="cautionText">If you need to compile a missing
								package, be sure to always compile it with the same
								compiler/linker combination as you intend to use with ADSM.
								Also, be sure to enable any features such as <a
									style="color: rgb(32, 74, 135);" href="#mpi">MPI</a> for those
								same packages, which you also intend to enable for ADSM.
								This is especially important on parallel machines and
								other such "super computer" systems! Note: For systems running
								64bit OS versions: Also be sure to install missing libraries
								using the same processor format as your operating system. For
								instance, if you are running a 64bit <a
									style="color: rgb(32, 74, 135);" href="#linux">Linux</a> OS, do
								NOT install the 32bit version of a missing library. If you can
								not find a pre-built 64bit version, you must compile that
								library on your system so that it will be 64bit.</div>
								</td>
							</tr>
						</table>


						<p>For quick reference, the required libraries and the
						download location for their sources are:<br />
						<ul>
							<li>GLib 2.4 <a style="color: rgb(52, 101, 164);"
								href="ftp://ftp.gnome.org/pub/gnome/sources/glib/">ftp://ftp.gnome.org/pub/gnome/sources/glib/</a></li>
							<br />
							<li>GSL (GNU Scientific Library) 1.6 <a
								style="color: rgb(52, 101, 164);"
								href="ftp://ftp.gnu.org/gnu/gsl/">ftp://ftp.gnu.org/gnu/gsl/</a></li>
							<br />
							<li>GPC (General Polygon Clipper) 2.32 <a
								style="color: rgb(52, 101, 164);"
								href="http://www.cs.man.ac.uk/%7Etoby/alan/software/">http://www.cs.man.ac.uk/~toby/alan/software/</a></li>
							<br />
							<li>GD Graphics Library 2.0.33 <a
								style="color: rgb(52, 101, 164);"
								href="http://www.boutell.com/gd/">http://www.boutell.com/gd/</a></li>
							<br />
							<li>Shapefile C Library 1.2 <a
								style="color: rgb(52, 101, 164);"
								href="http://shapelib.maptools.org/">http://shapelib.maptools.org/</a></li>
							<br />
							<li>PROJ.4 Cartographic Projections library 4.6.0 <a
								style="color: rgb(52, 101, 164);"
								href="http://trac.osgeo.org/proj/">http://trac.osgeo.org/proj/</a></li>
						</ul>
						<br />
						<div class="cautionText">&nbsp;All version numbers come with
						an implied "or higher", however some systems may not be able to
						compile the latest versions, such as some parallel machines,
						therefore, the "required" library version is recommended, over the
						"latest" version.</div>
						<br />

						<b>Optional software</b><br />
						<ul>
							<li><a style="color: rgb(32, 74, 135);" href="#dia">Dia</a>
							:&nbsp; Version 0.94 is needed to compile some portions of the
							documentation.</li>
							<br />
							<li><a style="color: rgb(32, 74, 135);" href="#doxygen">Doxygen</a>
							:&nbsp; Needed to compile some portions of the documentation.</li>
							<br />
							<li><a style="color: rgb(32, 74, 135);" href="#gnuplot">Gnuplot</a>
							:&nbsp; Needed to create some portions of the documentation.</li>
							<br />
							<li><a style="color: rgb(32, 74, 135);" href="#dejagnu">DejaGnu</a>
							:&nbsp; DejaGnu and TCL are needed to run any of the test
							programs.</li>
							<br />
						</ul>
						<table>
							<tr>
								<td valign="top" align="left">
								<div class="cautionNote">NOTE:&nbsp;&nbsp;</div>
								</td>
								<td>
								<div class="cautionText">By default the makefile system
								for this program will attempt to build the documentation. This
								portion of the make runs after the program has successfully
								built. If this portion of the make fails, it does not mean that
								the program did not build correctly. It typically means that you
								do not have some software, such as <a
									style="color: rgb(32, 74, 135);" href="#dia">dia</a> or <a
									style="color: rgb(32, 74, 135);" href="#doxygen">doxygen</a> ,
								needed by the documentation build.</div>
								</td>
							</tr>
						</table>
						</td>
					</tr>
				</table>
				</td>
			</tr>
			<tr align="left">
				<td><br />
				<p>
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>
					<div id="configuration_options">Configuration options</div>
					</b></caption>
					<tr>
						<td><br />
						<table>
							<tr>
								<td valign="top" align="left">
								<div class="cautionNote">&nbsp;&nbsp;</div>
								</td>
								<td>
								<div class="cautionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configuration
								options for this software can not usually be left to their
								default values. There are significant differences between
								systems and even some implementations of the external packages
								used during compilation. Therefore, it is very important to read
								this section carefully and make note of the configuration
								options you will need to specify. Also, it is a wise practice to
								copy the configuration options and their associated values to a
								separate file for storage and backup in case you need to
								re-compile the code at some later date. This is because the
								configure script log file will be overwritten with each
								configuration run, and thus these values, as recorded by the log
								file, will be lost. In some cases the options and values needed
								are sufficiently long that they are difficult to remember after
								a few weeks of not needing to know them. Some users find it
								useful to record these options and values for their system in a
								shell script, so that all they need to do in the future is
								re-run the shell script to re-configure and re-compile.</div>
								</td>
							</tr>
						</table>
						<br />
						When using the configure script, the following options are
						available:<br />
						<ul>
							<li>Installation Location:

							<table>
								<tr>
									<td valign="top" align="left" width="130pt">
									<div class="configOption">--prefix=PATH&nbsp;</div>
									</td>
									<td>
									<div class="optionText">The default is to install to <a
										style="color: rgb(52, 101, 164);" href="/usr/local">/usr/local</a>
									(i.e., the executable `adsm' goes in <a
										style="color: rgb(52, 101, 164);" href="/usr/local/bin">/usr/local/bin</a>
									, the supporting libraries in <a
										style="color: rgb(52, 101, 164);" href="/usr/local/lib">/usr/local/lib</a>
									). The install process will create bin, lib, and include
									directories inside the installation folder if they do not
									already exist. Note: Not all users, especially on UNIX systems,
									will have write access to the <a
										style="color: rgb(52, 101, 164);" href="/usr/local">/usr/local</a>
									path. In these cases it is advisable to specify a path, which
									the user has write access to, such as their "home" path.</div>
									</td>
								</tr>
							</table>
							</li>
							<br />

							<li>CFLAGS and LDFLAGS:
							<table>
								<tr>
									<td>
									<div class="optionText">There are special
									--with-xxx-cflags and --with-xxx-libs options for specifying
									the locations of header files and libraries for some other
									components (GSL). Example:
									--with-gsl-cflags="-I/usr/home/me/gsl/include" OR
									--with-gsl-libs="-L/usr/home/me/gsl/lib -lgsl" etc... If there
									aren't explicit configure options for a particular library, you
									can add the appropriate -I and -L options to the CFLAGS and
									LDFLAGS environment variables before running configure.
									<table>
										<tr>
											<td valign="top" align="left">
											<div class="cautionNote">Note:&nbsp;</div>
											</td>
											<td>
											<div class="cautionText">Be sure to set the environment
											variables CFLAGS and LDFLAGS PRIOR to running the
											configuration script !!</div>
											</td>
										</tr>
									</table>
									</div>
									</td>
								</tr>
							</table>
							</li>
							<br />
							<li>Debugging and logging:
							<table>
								<tr>
									<td valign="top" align="left" width="140pt">
									<div class="configOption">--enable-debug=no</div>
									</td>
									<td>
									<div class="optionText">The debug level is quite
									verbose and is useful with small, short test cases, but it
									slows ADSM down considerably. This switch disables
									debugging information to produce a much faster-running program.

									<table>
										<tr>
											<td valign="top" align="left">
											<div class="cautionNote">Note:&nbsp;</div>
											</td>
											<td>
											<div class="cautionText">If you specify "yes" after
											this switch, then the feature will be "enabled".
											&nbsp;&nbsp; Specifying no word, "yes" or "no" after an
											--enable-&lt;feature&gt; switch will cause the feature to be
											"enabled".</div>
											</td>
										</tr>
									</table>
									</div>
									</td>
								</tr>
							</table>
							</li>
							<li>Alternate output formats:
							<table>
								<tr>
									<td valign="top" align="left" width="162pt">
									<div class="configOption">--enable-sc-guilib=yes
									&nbsp;&nbsp;</div>
									</td>
									<td>
									<div class="optionText">Enables an alternate output
									format, which creates SQL statements for later insertion into a
									MySQL database.</div>
									</td>
								</tr>
							</table>
							</li>
							<br />
							<li>See also: [** Recommended **]
							<table>
								<tr>
									<td valign="top" align="left" width="162pt">
									<div class="configOption">./configure --help &nbsp;&nbsp;</div>
									</td>
									<td>
									<div class="optionText">For information on other options'
									details</div>
									</td>
								</tr>
							</table>
							</li>
						</ul>
						</td>
					</tr>
					<tr>
						<td><br />
						<br />
						<p />
						<table border=0 cellspacing=0 cellpadding=0 width=95%
							class="tableBody" align="center">
							<caption><b>
							<div id="configuration_options">MS-Windows Installation
							[Without UNIX emulation]</div>
							</b></caption>
							<tr>
								<td><br />


								<table>
									<tr>
										<td>
										<div class="cautionText">To use ADSM on
										MS-Windows without some form of UNIX emulator, it should be
										built as a DLL to be used by the graphical user
										interface for Windows. However, this portion of the software
										is available already built as part of a regular ADSM
										installation package. It is highly recommended that you obtain
										the DLL in that fashion rather than attempt to build it
										yourself. Furthermore, each version of the GUI for Windows
										comes pre-built with an understanding of what version of the
										simulation library it needs. Building your own version of this
										library as a DLL, may cause the GUI to no longer function, or
										to function incorrectly.</div>
										</td>
									</tr>
								</table>
								<br />
								<div class="cautionNote">Non-standard MS-Windows
								Installation: [for experts only]</div>
								<br />
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Building a copy of the simulation
								code as a DLL for use by the ADSM GUI, or for use in some
								other GUI, should be considered an EXPERIMENTAL function for
								anyone outside of the ADSM software engineering team. As
								stated above, there should be no reason to attempt this task,
								however, if you must for some reason, then these instructions,
								below, are provided to assist you do so, but are not guaranteed
								to function.<br />
								<table>
									<tr>
										<td valign="top" align="left">
										<div class="cautionNote">Warning:&nbsp;</div>
										</td>
										<td>
										<div class="cautionText">It is best to download the
										ADSM package for MS-Windows as a whole and use the DLL
										contained therein. Overwriting that DLL with your own version
										can cause the package to no longer function correctly, or to
										cease functioning entirely. Before proceeding with these
										instructions, BACKUP your original ADSM installation package
										in case you need to recover the original DLL.</div>
										</td>
									</tr>
								</table>
								<br />

								<div class="subHeader">Software Required to Build the DLL:</div>
								<ul>
									<li><a style="color: rgb(32, 74, 135);" href="#mingw">MinGW</a>
									</li>
									<li><a style="color: rgb(32, 74, 135);" href="#dev-c++">Dev-C++</a>
									</li>
									<li>See the <a href="#dependencies">dependencies
									section</a> above for the various external libraries also needed...
									</li>
								</ul>
								<table>
									<tr>
										<td valign="top" align="left">
										<div class="cautionNote">Note:&nbsp;</div>
										</td>
										<td>
										<div class="cautionText">No instruction will be given
										here on how to build and install those code packages and
										libraries for your MS-Windows system. That function is beyond
										the scope of this document.</div>
										</td>
									</tr>
								</table>
								<br />
								<div class="subHeader">Building The DLL</div>
								<br />
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once you have installed <a
									style="color: rgb(32, 74, 135);" href="#mingw">MinGW</a> , then
								Dev-C++, then the libraries and packages described in the
								dependencies section, open the adsm.dev project file in the DLL
								directory of the ADSM source tree, with Dev-C++. From here
								you will need to modify the makefile and include, lib search and
								link paths to match those of your own system.
								<table>
									<tr>
										<td valign="top" align="left">
										<div class="cautionNote">Note:&nbsp;</div>
										</td>
										<td>
										<div class="cautionText">You do not need to run the
										configure script, bootstrap, or edit ANY Makefiles outside of
										the DLL directory.</div>
										</td>
									</tr>
								</table>
								<br />
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After insuring that the makefile,
								and the Dev-C++ project file has been updated to reflect your
								system, run the compilation in Dev-C++. There will be a few
								warnings, but there should not be any errors. When the
								compilation is complete, you will have a adsm.dll file located in
								the DLL directory. Copy and paste this file into your ADSM GUI
								program file directory and run the GUI as you normally would. If
								the GUI produces an error about the version of the DLL, you have
								the wrong version of simulation source code for that version of
								the GUI. You must get a copy of the correct version of the
								simulation code and start over from the beginning of this
								section.</td>
							</tr>
						</table>
						<br />
						<br />
						</td>
					</tr>

				</table>
				</td>
			</tr>
		</table>
		</td>
	</tr>

	<tr bgcolor="#000000" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>
</table>
<br />

<table border=0 cellspacing=0 cellpadding=0 width="641px"
	bgcolor="#000000" align="center">
	<tr bgcolor="#BBBBBB" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>

	<tr bgcolor="#000000">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td>
		<table border=0 cellspacing=0 cellpadding=0 width="639px"
			title="Introduction" bgcolor="#FFFFFF" align="left">
			<tr>
				<td class="subHeader" align="left" valign="top">
				<div style="margin: 10px;">Additional General Information</div>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
			</tr>
			<tr align="left">
				<td><br />
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>
					<div id=documentation>Documentation</div>
					</b></caption>
					<tr>
						<td><br />

						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The documentation includes many
						diagrams, and many of the diagrams are built from <a
							style="color: rgb(32, 74, 135);" href="#gnuplot">gnuplot</a> or <a
							style="color: rgb(32, 74, 135);" href="#dia">Dia</a> source files
						as part of the "make" process. If you don't have <a
							style="color: rgb(32, 74, 135);" href="#dia">dia</a> installed,
						make will stop and complain. But that's not a problem: the
						diagrams are deliberately the last step in the build process, so
						if you get to that point, the executable program is already built.<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The developer documentation for
						ADSM is in HTML format and is created by the free tool <a
							style="color: rgb(32, 74, 135);" href="#doxygen">Doxygen</a> . To
						build the documentation, cd to the directory in which you compiled ADSM
						and type ' <a
							style="color: rgb(32, 74, 135);" href="#doxygen">doxygen</a> '.
						You can then open the file `doc/html/index.html' in your
						browser.</td>
					</tr>
				</table>
				<br />
				<br />
				<p>
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>
					<div id=testing>Testing the program</div>
					</b></caption>
					<tr>
						<td><br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the <a
							style="color: rgb(32, 74, 135);" href="#dejagnu">dejagnu</a>
						testing framework is available on your system, you may run the
						regression test suite.<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After compiling, change directory to
						the `modules' directory and type `make check' to test that
						ADSM is working. It will run the tests and output a report
						file named "module.sum". (Note that "make check" will run a copy of
						ADSM built without <a style="color: rgb(32, 74, 135);"
							href="#mpi">MPI</a> , so it will run just on the node you're
						logged into -- you don't need to worry about how to submit it to
						your cluster's job-control system.)<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Up to 10 of the tests may fail with
						an error message like "outcome 1 should occur with frequency 0.5,
						not 0.6". These are not necessarily cause for alarm! They're from
						stochastic tests, where we run a scenario many times and check
						that each actual outcome matches one of n expected outcomes, and
						that the outcomes occur with the expected frequencies.<br />
						<br />
						<div class="cautionText">It has been found that you may need
						100,000 iterations or more before the actual frequencies get
						"close enough" to the expected frequencies to pass the test. But
						that takes a long time, and if you don't know it's happening you
						may look at the testing and think it has locked up. If you want to
						run the stochastic tests with enough iterations to get proper
						results, open the file modules/test/config/unix.exp in a text
						editor and find the function "stochastic_progress_test" (search
						for the line that begins with "proc stochastic_progress_test").
						Edit the part that says "{iterations 100}", replacing 100 with a
						higher number of iterations. Do the same for the function
						"stochastic_variable_test".</div>
						<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Another 10 tests that calculate the
						area and perimeter of zones may also fail. Zone circles are
						approximated by polygons, and so the calculated area and perimeter
						will not be exactly the same as the "true" values based on
						circles.</td>
					</tr>
				</table>
				<br />
				<br />
				<p>
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>
					<div id=using_the_program>Using the program</div>
					</b></caption>
					<tr>
						<td><br />
						<div class="cautionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						Before attempting to use the software, be sure that you executed:
						make install from the command line, which copies all of the
						executable(s) and libraries into the appropriate directories. If
						you are reading this file, then you are probably installing ADSM
						on a multi-processor machine or on a cluster. This section is
						meant to be a quick- start guide to running ADSM from the
						command line: it describes a sequence of commands to generate
						simulation results, and then to post-process them into tables and
						plots. However, some information is also included below concerning
						standalone systems, such as MS-Windows and UNIX desktops.</div>
						<br />

						<div class="subHeader">Command line options</div>
						<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; These are valid and the same for
						all installations of ADSM except the MS-Windows
						DLL, which has no main() entry point, as it is not a standalone
						program.<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Running "adsm --help" from the
						command line will give you a basic list of these command line
						options. They are as follows:<br />
						<br />
						<div class="configOption">Usage: <br />
						%adsm [OPTIONS] &lt;scenario.xml&gt; <br />
						<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Where [OPTIONS] are:<br />
						</div>
						<table width="85%" cellspacing="0" cellpadding="0" border="0"
							align="center">
							<tr>
								<td valign="top" align="left" width="40%">
								<div class="optionText">-p, --population-file=population-file</div>
								</td>
								<td valign="top" align="left">
								<div class="optionText">Population file The population file is a
								mandatory option. The file name should contain the entire path
								to the file, also.</div>
								<br />
								</td>
							</tr>
							<tr>
								<td valign="top" align="left" width="40%">
								<div class="optionText">-V, --verbosity=verbosity</div>
								</td>
								<td valign="top" align="left" width="60%">
								<div class="optionText">Message verbosity level (0 =
								simulation output only, 1 = +
								debugging output) If you compiled the program with the
								--enable-debug configuration script switch set,
								then this parameter allows you to vary the level of
								information to output. It is best to specify this parameter as
								-V0 for all non-testing runs of ADSM.</div>
								<br />
								</td>
							</tr>

							<tr>
								<td valign="top" align="left" width="40%">
								<div class="optionText">-o, --output-file=output-file</div>
								</td>
								<td valign="top" align="left" width="60%">
								<div class="optionText">Output file This options specifies
								a file name, and location, to which to write the simulation
								output. If you do not specify this parameter, all simulation
								output will be written to stdout.</div>
								<br />
								</td>
							</tr>

							<tr>
								<td valign="top" align="left" width="40%">
								<div class="optionText">-p, --production-types=File</div>
								</td>
								<td valign="top" align="left" width="60%">
								<div class="optionText">An XML file containing production
								types used in this scenario<br />
								</div>
								<div class="cautionText">This option currently specifies
								an additional file to be used by the --enable-sc-guilib
								configuration script switch changes to the compiled code. This
								option is mandatory if you use the --enable-sc-guilib switch,
								but not needed otherwise. In the future, this information,
								contained in this file, will be merged with the scenario file</div>
								<br />
								</td>
							</tr>


							<tr>
								<td valign="top" align="left" width="40%">
								<div class="optionText">-r, --fixed-random-value=value</div>
								</td>
								<td valign="top" align="left" width="60%">
								<div class="optionText">Fixed number to use instead of
								random numbers</div>
								<br />
								<br />
								</td>
							</tr>
							<td valign="top" align="left" width="40%">
							<div class="optionText">-?, --help</div>
							</td>
							<td valign="top" align="left" width="60%">
							<div class="optionText">Show this help message</div>
							<br />
							</td>
							</tr>

							<tr>
								<td valign="top" align="left" width="40%">
								<div class="optionText">--usage</div>
								</td>
								<td valign="top" align="left" width="60%">
								<div class="optionText">Display a brief usage message</div>
								<br />
								<br />
								</td>
							</tr>
							<tr>
								<td valign="top" align="left" width="40%">
								<div class="optionText">&lt;scenario.xml&gt;</div>
								</td>
								<td valign="top" align="left" width="60%">
								<div class="optionText">This mandatory parameter to
								ADSM contains scenario specific information for this
								simulation. This was generated by one of several methods. It is
								recommended, however, that it be generated by using the
								MS-Windows ADSM GUI.</div>
								<br />
								<br />
								<br />
								</td>
							</tr>
							<tr>
						</table>

						<div class="subHeader">Running</div>
						<br />

						<div class="configOption">MS-Windows</div>
						<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using MS-Windows you have two basic
						options:
						<ul>
							<li>Run the GUI, adsm.exe, which knows how to
							interface with the simulation DLL, which you should have
							downloaded as a package from the main ADSM web site.</li>
							<br />
							<li>Using <a style="color: rgb(32, 74, 135);" href="#cygwin">Cygwin</a>
							, run the ADSM executable as suggested for a stand- alone,
							UNIX system, specified below.</li>
						</ul>
						<br />
						<br />

						<div class="configOption">Standalone UNIX systems</div>
						<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recall that during configuration you
						may have specified the option: --prefix=""<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The value you placed inside of the
						quotes will now contain a bin directory, which contains the
						ADSM executable. If you did not specify this switch the
						program was installed into the standard /usr/local directory
						structure, if you had write permissions to that directory
						structure. <br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To run ADSM simply
						choose the appropriate options, described above, and specify them
						on the command line:<br />
						<p />
						<div class="optionText">[Example]</div>
						<br />
						<div class="optionText">%adsm -p /home/me/population.xml -V0 -o
						/home/me/results.txt /home/me/scenario.xml</div>
						<br />


						<p />
						<div class="configOption">SHARCNet specific</div>
						<br />

						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These commands are used at the site
						of the first ADSM installation, in Guelph, Ontario, on
						SHARCNet machines. The intention is to provide outputs in a format
						that is familiar to users of the Windows version of ADSM. You
						can of course customize the commands to produce different outputs.
						To avoid filename collisions, you may want to give each simulation
						a unique ID (distinct from the job IDs assigned by your cluster's
						job-control system). <br />
						<p />In the example below the ID is "1000": <br />
						<div class="optionText">sqsub -q mpi -n 4 -e adsm_1000.err
						bin/adsm -p population.xml -o adsm_1000_.log
						scenario.xml</div>
						<br />
						<div class="cautionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This
						is the command to run a simulation, on a SHARCNet machine. sqsub
						is the job-control system, mpi is the queue, 4 is the number of
						CPUs, and -e specifies a file to write error messages to. The -o
						option specifies the name of the output files and is an option to
						ADSM, not to the job-control system.</div>
						<br />

						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Consult with your supercomputer
						administrator to find out the equivalent options for your
						job-control system.<br />
						<p />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The directory from which to
						issue this command is whatever directory your copy of ADSM went
						into when you did "make install". If you are running on a
						single-processor machine, for example, on an individual node in a
						serial farm, the command-line would become:
						<p />
						<div class="optionText">bin/adsm -p
						population.xml -o 1000.log scenario.xml</div>
						<br />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Again, the directory from which to
						issue this command is whatever directory your copy of ADSM went
						into when you did "make install".<br />
						<br />
						<p />
						<p /><br />
						<br />
						<p />
						<div class="subheader">Finding and analyzing output using
						ADSM filter software</div>
						<br />
						<table>
							<tr>
								<td valign="top" align="left">
								<div class="cautionNote">NOTE:&nbsp;&nbsp;</div>
								</td>
								<td>
								<div class="cautionText">This section only applies if you
								did NOT use the --enable-sc-guilib configuration script switch,
								otherwise you must insert the result data into your MySQL server
								and analyze the results using SQL queries and other software
								packages.</div>
								</td>
							</tr>
						</table>
						<br />
						<p />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When the job completes, the
						working directory contains 1 output file per CPU, named: <br/>
						adsm_1000_0.log, adsm_1000_1.log, etc. <br/>
												
						<p/>Issue the commands:<br/>
            <div class="cautionText">cat adsm_1000_*.log &gt;1000.log<br/>rm adsm_1000_*.log<br/>
						in order to get all	the output in one file. That way the outputs from each node aren't
						interleaved.</div><br/>
						<p/>Next, to make some spreadsheets:<br/>
						<div class="cautionText">
						bin/full_table_filter &lt; 1000.log &gt; 1000_full_table.csv<br/>
						bin/table_filter &lt; 1000.log &gt; 1000_summary.csv<br/>
						bin/exposures_table_filter population.xml &lt; 1000.log &gt; 1000_exposures.csv<br/>
						bin/apparent_events_table_filter population.xml &lt; 1000.log &gt; 1000_apparent_events.csv<br/>
						bin/state_table_filter &lt; 1000.log &gt; 1000_states.csv</div><br/>
						<p/>These files are all in comma-separated value format.<br/>
						<p/>Next, graphs (these require gnuplot and
						python on your system): <br/>
						<div class="cautionText">bin/graph.py --epsfile 1000_states.eps --right-y "tsdU" &lt; 1000_full_table.csv<br/>
						bin/graph.py --epsfile 1000_states_disease.eps --exclude "Susc,Imm,Dest" "tsdU" &lt; 1000_full_table.csv<br/>
						bin/graph.py --epsfile 1000_epidemic_daily.eps "infnU...$" &lt; 1000_full_table.csv<br/>
						bin/graph.py --epsfile 1000_epidemic_cumul.eps "infcU...$" &lt; 1000_full_table.csv<br/>
						bin/graph.py --epsfile 1000_apparent_epidemic_daily.eps "detnUClin$" &lt; 1000_full_table.csv<br/>
						bin/graph.py --epsfile 1000_apparent_epidemic_cumul.eps "detcUClin$" &lt; 1000_full_table.csv</div><br/> 
						<p/>The graphs come out in eps format, but if you have the "convert"
						executable on your system from the open source ImageMagick
						package, you can quickly turn those into something more easily
						viewable. Running convert with the option "-density 150x150" makes
						easy-to-read png files.<br/>
						<p/>Next, make weekly snapshots of the unit
						states for one iteration (the first), and a file that cuts up the
						study area into grid squares and attempts to summarize certain
						variables in those grid squares:<br/>
						<div class="cautionText">bin/xml2shp population.xml 1000</div>
						<div class="optionText">(that outputs a template arcview file, 1000.shp/shx/dbf)</div><br/>
						<div class="cautionText">bin/weekly_gis_filter 1000.shp &lt; 1000_states.csv</div><div class="optionText">(that outputs
						a series of files named 1000_dayNNNN.shp/shx/dbf)<br/><br/>
						<div class="cautionText">bin/summary_gis_filter population.xml 1000_summary.shp &lt;
						1000_states.csv</div><div class="optionText">(that outputs an arcview file,
						1000_summary.shp/shx/dbf) <br/>
						<p/>Create an image file of the final day
						(say for example the final day was day 365): <br/><div class="cautionText">bin/shp2png
						1000_day0365.shp 1000_day0365.png</div><br/> 
						<p/>Create an image file of the grid
						squares, coloured in shades of red to indicate average fraction of
						units infected:<br/><div class="cautionText"> bin/shp2png2 --min-value=0.0 --max-value=1.0
						1000_summary.shp avgfrinf ffffff cc0000 1000_avgfrinf.png</div><br/>
						<p/> Create an image file of the grid squares, coloured in shades of grey to
						indicate average fraction of units destroyed:<br/><div class="cautionText"> bin/shp2png2
						--min-value=0.0 --max-value=1.0 1000_summary.shp avgfrdest ffffff
						000000 1000_avgfrdest.png</div><br/>
						<p/> Finally, bundle all those weekly	snapshot GIS files into a zip file:<br/><div class="cautionText"> zip 1000_gis.zip 1000*.shp
						1000*.shx 1000*.dbf rm 1000*.shp 1000*.shx 1000*.dbf</div><br/> 
						<p/> At the end of this sequence of commands you will have:<br/>
						<ul>
						<li>
1 error log file
            (hopefully zero size) 						
						</li>
						<li>
5 spreadsheets (in comma-separated text
            format) 						
						</li>
						<li>
						6 graphs (in eps format from gnuplot )
						</li>
<li>
1 image of the unit states on the final day of 1 iteration 
</li>
<li>
1 image of the extent of infection (over all iterations)
</li>		
<li>
1 image of the extent of destruction (over all iterations)
</li>				
<li>
a zip archive of ArcView files showing unit states weekly over 1 iteration As mentioned above.
</li>
						</ul><br/><br/>
						This is not a comprehensive set of outputs. This list of
						outputs has grown as users at Guelph have identified outputs that
						would be useful to them. Feel free to use the commands above as a
						starting point for customization and producing the right set out
						outputs for your or your users' work.
						</div>
						</td>
					</tr>
				</table>
				<br />
				</td>
			</tr>
		</table>
		</td>
	</tr>
	<tr bgcolor="#000000" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>
</table>

<br />
<br />
<p />
<table border=0 cellspacing=0 cellpadding=0 width="641px"
	bgcolor="#000000" align="center">
	<tr bgcolor="#BBBBBB" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>

	<tr bgcolor="#000000">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td>
		<table border=0 cellspacing=0 cellpadding=0 width="639px"
			title="Introduction" bgcolor="#FFFFFF" align="left">
			<tr>
				<td class="subHeader" align="left" valign="top">
				<div style="margin: 10px;"></div>
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
			</tr>
			<tr align="left">
				<td><br />
				<table border=0 cellspacing=0 cellpadding=0 width=95%
					class="tableBody" align="center">
					<caption><b>
					<div id=links_glossary class="mainHeader" style="color: black;">Links
					/ Glossary</div>
					</b></caption>
					<tr>
						<td><br />

						<div class="configOption" id="Cygwin"><a name="cygwin"></a>
						Cygwin<br />
						</div>
						<div class="optionText">
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cygwin is used on Windows to emulate
						UNIX. See: <a style="color: rgb(52, 101, 164);"
							href="http://www.cygwin.com/">http://www.cygwin.com/</a></div>
						<br />

						<div class="configOption" id="DejaGnu"><a name="dejagnu"></a>
						DejaGnu<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See;
						<a style="color: rgb(52, 101, 164);"
							href="http://www.gnu.org/software/dejagnu/">http://www.gnu.org/software/dejagnu/</a>
						</div>
						<br />
						<div class="configOption" id="Dev-C++"><a name="dev-c++"></a>
						Dev-C++<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(52, 101, 164);"
							href="http://www.bloodshed.net/devcpp.html">http://www.bloodshed.net/devcpp.html</a>
						</div>
						<br />

						<div class="configOption" id="DIA"><a name="dia"></a> DIA<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(52, 101, 164);"
							href="http://live.gnome.org/Dia">http://live.gnome.org/Dia</a></div>
						<br />

						<div class="configOption" id="Doxygen"><a name="doxygen"></a>
						Doxygen<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(52, 101, 164);"
							href="http://www.stack.nl/%7Edimitri/doxygen/">http://www.stack.nl/~dimitri/doxygen/</a>
						</div>
						<br />


						<div class="configOption" id="Gnuplot"><a name="gnuplot"></a>
						Gnuplot<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(52, 101, 164);"
							href="http://www.gnuplot.info/">http://www.gnuplot.info/</a></div>
						<br />

						<div class="configOption" id="LAM/MPI"><a name="lam/mpi"></a>
						LAM/MPI<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(32, 74, 135);" href="#mpi">MPI</a></div>
						<br />

						<div class="configOption" id="Linux"><a name="linux"></a>
						Linux<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(52, 101, 164);" href="http://www.linux.org/">http://www.linux.org/</a></div>
						<br />


						<div class="configOption" id="MinGW"><a name="mingw"></a>
						MinGW<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MinGW
						is also used on Windows to emulate a UNIX OS. See: <a
							style="color: rgb(52, 101, 164);" href="http://www.mingw.org/">http://www.mingw.org/</a></div>
						<br />

						<div class="configOption" id="MPI"><a name="mpi"></a> MPI<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See:

						<ul>
							<li dir="ltr">MPI
							<ul>
								<li style="list-style-type: none;" dir="ltr"><a
									style="color: rgb(52, 101, 164);"
									href="http://www.mcs.anl.gov/research/projects/mpi/">http://www.mcs.anl.gov/research/projects/mpi/</a></li>
							</ul>
							</li>
						</ul>

						<ul>
							<li dir="ltr">MPICH
							<ul>
								<li style="list-style-type: none;" dir="ltr"><a
									style="color: rgb(52, 101, 164);"
									href="http://www.mcs.anl.gov/research/projects/mpi/mpich1/">http://www.mcs.anl.gov/research/projects/mpi/mpich1/</a>
								</li>
							</ul>
							</li>
						</ul>

						<ul>
							<li dir="ltr">MPICH2
							<ul>
								<li style="list-style-type: none;" dir="ltr"><a
									style="color: rgb(52, 101, 164);"
									href="http://www.mcs.anl.gov/research/projects/mpich2/">http://www.mcs.anl.gov/research/projects/mpich2/</a></li>
							</ul>
							</li>
						</ul>

						<ul>
							<li dir="ltr">open-MPI
							<ul>
								<li style="list-style-type: none;" dir="ltr"><a
									style="color: rgb(52, 101, 164);"
									href="http://www.open-mpi.org/">http://www.open-mpi.org/</a></li>
							</ul>
							</li>
						</ul>

						<ul>
							<li dir="ltr">LAM/MPI
							<ul>
								<li style="list-style-type: none;" dir="ltr"><a
									style="color: rgb(52, 101, 164);"
									href="http://www.lam-mpi.org/">http://www.lam-mpi.org/</a></li>
							</ul>
							</li>
						</ul>
						</div>
						<br />

						<div class="configOption" id="MPICH"><a name="mpich"></a>
						MPICH<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(32, 74, 135);" href="#mpi">MPI</a></div>
						<br />

						<div class="configOption" id="MPICH2"><a name="mpich2"></a>MPICH2<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(32, 74, 135);" href="#mpi">MPI</a></div>
						<br />
						<div class="configOption" id="open-MPI"><a name="open-mpi"></a>
						open-MPI<br />
						</div>
						<div class="optionText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See:
						<a style="color: rgb(32, 74, 135);" href="#mpi">MPI</a></div>
						<br />

						</td>
					</tr>
				</table>
				<br />
				</td>
			</tr>
		</table>
		</td>
	</tr>
	<tr bgcolor="#000000" height="1px">
		<td width="1px" bgcolor="#BBBBBB"></td>
		<td></td>
	</tr>
</table>
</body>
</html>